{"version":3,"file":"chunks/code-editor.5d6763c1.js","mappings":"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","sources":["webpack:///./src/code-editor/index.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { EventEmitter, createDecorators } from \"@next-core/element\";\nimport { unwrapProvider } from \"@next-core/utils/general\";\nimport { wrapBrick } from \"@next-core/react-element\";\nimport { useCurrentTheme } from \"@next-core/react-runtime\";\nimport { FormItemElementBase } from \"@next-shared/form\";\nimport type { FormItem, FormItemProps } from \"@next-bricks/form/form-item\";\nimport * as monaco from \"monaco-editor/esm/vs/editor/editor.api.js\";\nimport { register as registerJavaScript } from \"@next-core/monaco-contributions/javascript\";\nimport { register as registerTypeScript } from \"@next-core/monaco-contributions/typescript\";\nimport { register as registerYaml } from \"@next-core/monaco-contributions/yaml\";\nimport { register as registerHtml } from \"@next-core/monaco-contributions/html\";\nimport yaml from \"js-yaml\";\nimport \"@next-core/theme\";\nimport { uniqueId, debounce } from \"lodash\";\nimport {\n  EDITOR_SCROLLBAR_SIZE,\n  EDITOR_PADDING_VERTICAL,\n  EDITOR_LINE_HEIGHT,\n  EDITOR_FONT_SIZE,\n} from \"./constants.js\";\nimport { AdvancedCompleterMap, ExtraLib } from \"./interfaces.js\";\nimport { brickNextYAMLProviderCompletionItems } from \"./utils/brickNextYaml.js\";\nimport { Level } from \"./utils/constants.js\";\nimport { setEditorId } from \"./utils/editorId.js\";\nimport {\n  getEmbeddedJavascriptUri,\n  getBrickYamlBuiltInDeclare,\n} from \"./utils/jsSuggestInBrickYaml.js\";\nimport { addExtraLibs } from \"./utils/addExtraLibs.js\";\nimport type { EoTooltip, ToolTipProps } from \"@next-bricks/basic/tooltip\";\nimport type {\n  GeneralIcon,\n  GeneralIconProps,\n} from \"@next-bricks/icons/general-icon\";\nimport { useTranslation, initializeReactI18n } from \"@next-core/i18n/react\";\nimport { K, NS, locales } from \"./i18n.js\";\nimport type { copyToClipboard as _copyToClipboard } from \"@next-bricks/basic/data-providers/copy-to-clipboard\";\nimport type { showNotification as _showNotification } from \"@next-bricks/basic/data-providers/show-notification/show-notification\";\nimport classNames from \"classnames\";\nimport \"./index.css\";\nimport { EmbeddedModelContext } from \"./utils/embeddedModelState.js\";\nimport { PlaceholderContentWidget } from \"./widget/Placeholder.js\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { getYamlLinterWorker } from \"./workers/yamlLinter.mjs\";\nimport type { LintResponse } from \"./workers/lintYaml.js\";\n\ninitializeReactI18n(NS, locales);\n\nregisterJavaScript(monaco);\nregisterTypeScript(monaco);\nregisterYaml(monaco, \"brick_next_yaml\");\nregisterHtml(monaco);\n\nconst { defineElement, property, event } = createDecorators();\n\nconst WrappedFormItem = wrapBrick<FormItem, FormItemProps>(\"eo-form-item\");\nconst WrappedTooltip = wrapBrick<EoTooltip, ToolTipProps>(\"eo-tooltip\");\nconst WrappedIcon = wrapBrick<GeneralIcon, GeneralIconProps>(\"eo-icon\");\nconst copyToClipboard = unwrapProvider<typeof _copyToClipboard>(\n  \"basic.copy-to-clipboard\"\n);\nconst showNotification = unwrapProvider<typeof _showNotification>(\n  \"basic.show-notification\"\n);\n\nexport interface CodeEditorProps {\n  name?: string;\n  label?: string;\n  value?: string;\n  language?: string;\n  theme?: string;\n  placeholder?: string;\n  required?: boolean;\n  readOnly?: boolean;\n  automaticLayout?: \"fit-container\" | \"fit-content\" | \"none\";\n  minLines?: number;\n  maxLines?: number;\n  height?: string | number;\n  completers?: monaco.languages.CompletionItem[];\n  tokenConfig?: TokenConfig;\n  advancedCompleters?: AdvancedCompleterMap;\n  extraLibs?: ExtraLib[];\n  markers?: Marker[];\n  links?: string[];\n  showExpandButton?: boolean;\n  showCopyButton?: boolean;\n  lineNumbers?: monaco.editor.LineNumbersType;\n  glyphMargin?: boolean;\n  validateState?: string;\n  customValidationInBrickNextYaml?: boolean;\n}\n\nexport interface Marker {\n  token: string;\n  level?: keyof typeof Level;\n  message?: string;\n  code?: {\n    value: string;\n    target: string;\n  };\n  params?: string[];\n}\n\nexport type TokenConfig = {\n  showDSKey: boolean;\n};\n\n/**\n * 构件代码编辑器\n * @category form-input-advanced\n */\nexport\n@defineElement(\"vs.code-editor\", {\n  // There are a few issues for monaco-editor with shadow DOM.\n  // So we use light DOM for now.\n  // See https://github.com/microsoft/monaco-editor/issues?q=is%3Aissue+is%3Aopen+shadow+dom\n  shadowOptions: false,\n})\nclass CodeEditor extends FormItemElementBase implements CodeEditorProps {\n  @property()\n  accessor name: string | undefined;\n\n  @property()\n  accessor label: string | undefined;\n\n  @property()\n  accessor value: string | undefined;\n\n  /**\n   * @default \"plaintext\"\n   */\n  @property()\n  accessor language: string | undefined;\n\n  /**\n   * 主题，支持 `\"auto\" | \"vs\" | \"vs-dark\"`\n   *\n   * @default \"auto\"\n   * @group ui\n   */\n  @property() accessor theme: string | undefined;\n\n  @property({\n    type: Boolean,\n  })\n  accessor required: boolean | undefined;\n\n  @property({\n    type: Boolean,\n  })\n  accessor readOnly: boolean | undefined;\n\n  @property()\n  accessor automaticLayout:\n    | \"fit-container\"\n    | \"fit-content\"\n    | \"none\"\n    | undefined;\n\n  /**\n   * @default 3\n   */\n  @property({ type: Number })\n  accessor minLines: number | undefined;\n\n  @property({\n    attribute: false,\n  })\n  accessor completers: monaco.languages.CompletionItem[] | undefined;\n\n  @property({\n    attribute: false,\n  })\n  accessor advancedCompleters: AdvancedCompleterMap | undefined;\n\n  @property({ attribute: false })\n  accessor markers: Marker[] | undefined;\n\n  @property({ attribute: false })\n  accessor links: string[] | undefined;\n\n  /**\n   * @default Infinity\n   */\n  @property({ type: Number })\n  accessor maxLines: number | undefined;\n\n  @property({ attribute: false })\n  accessor height: string | number | undefined;\n\n  @property()\n  accessor message: string | undefined;\n\n  @property()\n  accessor placeholder: string | undefined;\n\n  /**\n   * 是否展示展开按钮\n   */\n  @property({ type: Boolean })\n  accessor showExpandButton: boolean | undefined;\n\n  /**\n   * 行数配置\n   */\n  @property()\n  accessor lineNumbers: monaco.editor.LineNumbersType | undefined;\n\n  /**\n   * 自定义高亮配置\n   */\n  @property({\n    attribute: false,\n  })\n  accessor tokenConfig: TokenConfig | undefined;\n\n  /**\n   * 在 brick_next_yaml 中是否开启语义相关校验\n   * @default false\n   */\n  @property({\n    type: Boolean,\n  })\n  accessor customValidationInBrickNextYaml: boolean | undefined;\n\n  /**\n   * 是否展示复制按钮\n   * @default true\n   */\n  @property({ type: Boolean })\n  accessor showCopyButton: boolean | undefined;\n\n  /**\n   * 显示字形边距\n   * @default false\n   */\n  @property({ type: Boolean })\n  accessor glyphMargin: boolean | undefined;\n\n  /**\n   * @description 额外声明的 lib 库\n   */\n  @property({\n    attribute: false,\n  })\n  accessor extraLibs: ExtraLib[] | undefined;\n\n  @event({ type: \"code.change\" })\n  accessor #codeChange!: EventEmitter<string>;\n\n  @event({ type: \"user.input\" })\n  accessor #userInput!: EventEmitter<any>;\n\n  #handleChange = (value: string) => {\n    this.value = value;\n    this.getFormElement()?.formStore.onChange(this.name!, value);\n    this.#codeChange.emit(value);\n  };\n\n  #handleUserInput = (value: any) => {\n    this.#userInput.emit(value);\n  };\n\n  @event({ type: \"token.click\" })\n  accessor #tokenClickEvent!: EventEmitter<string>;\n\n  #handleTokenClick = (word: string) => {\n    this.#tokenClickEvent.emit(word);\n  };\n\n  #handleValidator = (value: string) => {\n    if (this.language === \"brick_next_yaml\" || this.language === \"yaml\") {\n      try {\n        yaml.load(value);\n      } catch {\n        return \"请填写正确的格式\";\n      }\n    }\n    return \"\";\n  };\n\n  connectedCallback(): void {\n    // Don't override user's style settings.\n    // istanbul ignore else\n    if (!this.style.display) {\n      this.style.display = \"block\";\n    }\n    super.connectedCallback();\n  }\n\n  render() {\n    return (\n      <WrappedFormItem\n        exportparts=\"message\"\n        curElement={this}\n        formElement={this.getFormElement()}\n        name={this.name}\n        label={this.label}\n        required={this.required}\n        helpBrick={this.helpBrick}\n        labelBrick={this.labelBrick}\n        notRender={this.notRender}\n        validator={this.#handleValidator}\n      >\n        <CodeEditorComponent\n          value={this.value}\n          language={this.language}\n          readOnly={this.readOnly}\n          theme={this.theme}\n          automaticLayout={this.automaticLayout}\n          minLines={this.minLines}\n          maxLines={this.maxLines}\n          height={this.height}\n          completers={this.completers}\n          advancedCompleters={this.advancedCompleters}\n          extraLibs={this.extraLibs}\n          markers={this.markers}\n          links={this.links}\n          tokenConfig={this.tokenConfig}\n          lineNumbers={this.lineNumbers}\n          glyphMargin={this.glyphMargin}\n          placeholder={this.placeholder}\n          showCopyButton={this.showCopyButton}\n          showExpandButton={this.showExpandButton}\n          validateState={this.validateState}\n          onChange={this.#handleChange}\n          onUserInput={this.#handleUserInput}\n          onTokenClick={this.#handleTokenClick}\n          customValidationInBrickNextYaml={this.customValidationInBrickNextYaml}\n        />\n      </WrappedFormItem>\n    );\n  }\n}\n\nexport function CodeEditorComponent({\n  value: _value,\n  language: _language,\n  theme: _theme,\n  minLines: _minLines,\n  maxLines: _maxLines,\n  height: _height,\n  automaticLayout,\n  completers,\n  advancedCompleters,\n  markers,\n  readOnly,\n  links,\n  extraLibs,\n  tokenConfig = {\n    showDSKey: false,\n  },\n  showExpandButton,\n  showCopyButton = true,\n  lineNumbers = \"on\",\n  glyphMargin = false,\n  placeholder,\n  validateState,\n  onChange,\n  // onUserInput,\n  onTokenClick,\n  customValidationInBrickNextYaml,\n}: CodeEditorProps & {\n  onChange(value: string): void;\n  onUserInput: (value: any) => void;\n  onTokenClick(word: string): void;\n}) {\n  const value = _value ?? \"\";\n  const language = _language ?? \"plaintext\";\n  const theme = _theme ?? \"auto\";\n  const minLines = _minLines ?? 3;\n  const maxLines = _maxLines ?? Infinity;\n  const height = _height ?? 500;\n  const [expanded, setExpanded] = useState(false);\n  const workerId = useMemo(() => uniqueId(\"worker\"), []);\n\n  const { t } = useTranslation(NS);\n\n  const containerRef = useRef<HTMLDivElement>(null);\n  const decorationsCollection =\n    useRef<monaco.editor.IEditorDecorationsCollection>();\n  const editorRef = useRef<monaco.editor.IStandaloneCodeEditor>();\n  const size = useRef<monaco.editor.IDimension>({\n    width: 300,\n    height: getContentHeightByCode(value, minLines, maxLines),\n  });\n  const [actualHeight, setActualHeight] = useState<string | number>();\n  // `automaticLayout` should never change\n  const automaticLayoutRef = useRef(automaticLayout);\n  const systemTheme = useCurrentTheme();\n\n  useEffect(() => {\n    const computedTheme =\n      theme === \"auto\"\n        ? systemTheme === \"dark\" || systemTheme === \"dark-v2\"\n          ? \"vs-dark\"\n          : \"vs\"\n        : theme;\n    const lineHeightBackground = computedTheme.includes(\"dark\")\n      ? \"#FFFFFF0F\"\n      : \"#0000000A\";\n    monaco.editor.defineTheme(\"custom-theme\", {\n      base: computedTheme as \"vs-dark\" | \"vs\",\n      inherit: true,\n      rules: [],\n      colors: {\n        \"editor.lineHighlightBackground\": `${lineHeightBackground}`,\n      },\n    });\n    // Currently theme is configured globally.\n    // See https://github.com/microsoft/monaco-editor/issues/338\n    monaco.editor.setTheme(\"custom-theme\");\n  }, [systemTheme, theme]);\n\n  useEffect(() => {\n    if (editorRef.current) {\n      const currentModel = editorRef.current.getModel()!;\n      monaco.editor.setModelLanguage(currentModel, language);\n    }\n  }, [language]);\n\n  useEffect(() => {\n    if (language === \"brick_next_yaml\") {\n      const provideCompletionItems = brickNextYAMLProviderCompletionItems(\n        completers,\n        advancedCompleters,\n        workerId,\n        tokenConfig\n      );\n      const monacoProviderRef = monaco.languages.registerCompletionItemProvider(\n        \"brick_next_yaml\",\n        {\n          provideCompletionItems,\n          triggerCharacters: [\".\", \":\", \"<\"],\n        } as monaco.languages.CompletionItemProvider\n      );\n      return () => {\n        monacoProviderRef.dispose();\n      };\n    }\n  }, [completers, advancedCompleters, language]);\n\n  useEffect(() => {\n    const editor = editorRef.current;\n    if (editor) {\n      const currentModel = editor.getModel();\n      if (currentModel?.getValue && value !== currentModel.getValue()) {\n        currentModel.setValue(value as string);\n      }\n    }\n  }, [value]);\n\n  useLayoutEffect(() => {\n    if (automaticLayoutRef.current !== \"fit-content\" || !containerRef.current) {\n      return;\n    }\n\n    size.current.width = containerRef.current.getBoundingClientRect().width;\n    editorRef.current?.layout(size.current);\n\n    const observer = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        if (entry.target === containerRef.current) {\n          const newWidth = entry.contentBoxSize\n            ? entry.contentBoxSize[0].inlineSize\n            : entry.contentRect.width;\n          const newHeight = entry.contentBoxSize\n            ? entry.contentBoxSize[0].blockSize\n            : entry.contentRect.height;\n          if (newWidth !== size.current.width || expanded) {\n            size.current.width = newWidth;\n            editorRef.current?.layout({\n              width: newWidth,\n              height: expanded ? newHeight : size.current.height,\n            });\n          }\n          break;\n        }\n      }\n    });\n    observer.observe(containerRef.current);\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [expanded]);\n\n  useLayoutEffect(() => {\n    if (automaticLayoutRef.current !== \"fit-container\") {\n      return;\n    }\n\n    const container = getDOMContainer(containerRef.current);\n    if (!container) {\n      return;\n    }\n    // Manually layout the editor once the container resized.\n    const observer = new ResizeObserver((): void => {\n      setActualHeight(container.offsetHeight);\n    });\n    observer.observe(container);\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (\n      automaticLayoutRef.current !== \"fit-container\" &&\n      automaticLayoutRef.current !== \"fit-content\"\n    ) {\n      setActualHeight(height);\n    }\n  }, [height]);\n\n  useEffect(() => {\n    if (!editorRef.current) return;\n    editorRef.current.updateOptions({\n      readOnly,\n    });\n  }, [readOnly]);\n\n  useEffect(() => {\n    if (editorRef.current || !containerRef.current) {\n      return;\n    }\n    const model = monaco.editor.createModel(value, language);\n    if (language === \"brick_next_yaml\") {\n      // 注册嵌套的 model， language 为 js\n      const uri = getEmbeddedJavascriptUri(model.uri);\n      monaco.editor.createModel(value, \"javascript\", uri);\n      monaco.languages.typescript.javascriptDefaults.addExtraLib(\n        getBrickYamlBuiltInDeclare(),\n        model.uri.toString() + \"d.ts\"\n      );\n    }\n\n    editorRef.current = monaco.editor.create(containerRef.current, {\n      model,\n      minimap: {\n        enabled: false,\n        showRegionSectionHeaders: false,\n        showMarkSectionHeaders: false,\n      },\n      scrollBeyondLastLine: false,\n      tabSize: 2,\n      insertSpaces: true,\n      automaticLayout: automaticLayoutRef.current !== \"fit-content\",\n      fontSize: EDITOR_FONT_SIZE,\n      lineHeight: EDITOR_LINE_HEIGHT,\n      scrollbar: {\n        horizontalScrollbarSize: EDITOR_SCROLLBAR_SIZE,\n        verticalScrollbarSize: EDITOR_SCROLLBAR_SIZE,\n        horizontalSliderSize: 8,\n        verticalSliderSize: 8,\n        alwaysConsumeMouseWheel: false,\n      },\n      padding: {\n        top: EDITOR_PADDING_VERTICAL,\n        // When use `fit-content`, we always plus the height with the vertical padding.\n        // Thus the possible x-scrollbar will not take extra space at the bottom.\n        bottom:\n          automaticLayoutRef.current == \"fit-content\"\n            ? undefined\n            : EDITOR_PADDING_VERTICAL,\n      },\n      overviewRulerBorder: false,\n      mouseWheelScrollSensitivity: 0.5,\n      fixedOverflowWidgets: true,\n      lineNumbers: lineNumbers,\n      lineNumbersMinChars: 3,\n      glyphMargin: glyphMargin,\n      folding: lineNumbers !== \"off\",\n      suggest: {\n        insertMode: \"insert\",\n        preview: true,\n      },\n      readOnly: readOnly,\n      quickSuggestions: { strings: true, other: true, comments: true },\n      renderLineHighlightOnlyWhenFocus: true,\n      unicodeHighlight: {\n        ambiguousCharacters: false,\n      },\n    });\n\n    decorationsCollection.current =\n      editorRef.current.createDecorationsCollection();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const libs: ExtraLib[] = extraLibs ?? [];\n\n    const languageDefaults =\n      language === \"typescript\" ? \"typescriptDefaults\" : \"javascriptDefaults\";\n    const disposables = addExtraLibs(libs, {\n      languageDefaults,\n    });\n    return () => {\n      for (const item of disposables) {\n        item.dispose();\n      }\n    };\n  }, [extraLibs, language]);\n\n  useEffect(() => {\n    const editor = editorRef.current;\n    if (language === \"brick_next_yaml\" && editor) {\n      const model = editor.getModel()!;\n      const editorMouseDownEvent = editor.onMouseDown(function (e) {\n        const decorations = decorationsCollection.current;\n        (decorations?.getRanges?.() ?? []).forEach((range) => {\n          const modKey = /Mac|iPod|iPhone|iPad/.test(navigator.platform)\n            ? \"metaKey\"\n            : \"ctrlKey\";\n          if (\n            range &&\n            e.target.position &&\n            e.event[modKey] &&\n            range.containsPosition(e.target.position)\n          ) {\n            onTokenClick(model.getValueInRange(range));\n          }\n        });\n      });\n\n      const mouseOverEvent = editor.onMouseMove(function (e) {\n        const decorations = decorationsCollection.current;\n        if (!decorations) return;\n        decorations.getRanges().forEach((range) => {\n          const modKey = /Mac|iPod|iPhone|iPad/.test(navigator.platform)\n            ? \"metaKey\"\n            : \"ctrlKey\";\n          if (\n            range &&\n            e.target.position &&\n            e.event[modKey] &&\n            range.containsPosition(e.target.position)\n          ) {\n            const newDecorations = decorations.getRanges().map((item) => ({\n              range: item,\n              options: {\n                inlineClassName: range.equalsRange(item)\n                  ? \"highlight pointer\"\n                  : \"highlight\",\n              },\n            }));\n            decorations.set(newDecorations);\n          } else if (!e.event[modKey]) {\n            const newDecorations = decorations.getRanges().map((item) => ({\n              range: item,\n              options: {\n                inlineClassName: \"highlight\",\n              },\n            }));\n            decorations.set(newDecorations);\n          }\n        });\n      });\n\n      return () => {\n        mouseOverEvent?.dispose();\n        editorMouseDownEvent?.dispose();\n      };\n    }\n  }, [language, onTokenClick, systemTheme, theme]);\n\n  useEffect(() => {\n    const editor = editorRef.current;\n    if (\n      !editor ||\n      !containerRef.current ||\n      automaticLayoutRef.current !== \"fit-content\"\n    ) {\n      return;\n    }\n\n    const listener = editor.onDidContentSizeChange((e) => {\n      if (expanded) return;\n      if (e.contentHeightChanged) {\n        const newHeight = fixEditorHeightWithScrollBar(\n          e.contentHeight,\n          minLines,\n          maxLines\n        );\n        if (newHeight !== size.current.height) {\n          size.current.height = newHeight;\n          editor.layout(size.current);\n        }\n      }\n    });\n\n    const newHeight = fixEditorHeightWithScrollBar(\n      editor.getContentHeight(),\n      minLines,\n      maxLines\n    );\n    if (newHeight !== size.current.height) {\n      size.current.height = newHeight;\n      editor.layout(size.current);\n    }\n\n    return () => {\n      listener.dispose();\n    };\n  }, [maxLines, minLines, expanded]);\n\n  // istanbul ignore next\n  const embeddedModelProcessor = useCallback(\n    async (model: monaco.editor.IModel, position: monaco.Position) => {\n      monaco.editor.setModelMarkers(model, \"semantic_validate\", []);\n\n      const prefixEvaluateOperator = model.findPreviousMatch(\n        \"<%[~=]?\",\n        position,\n        true,\n        false,\n        null,\n        false\n      );\n\n      const suffixEvaluateOperator = model.findNextMatch(\n        \"%>\",\n        position,\n        false,\n        false,\n        null,\n        false\n      );\n\n      const prefixEvaluateRange = prefixEvaluateOperator?.range;\n      const suffixEvaluateRange = suffixEvaluateOperator?.range;\n\n      if (prefixEvaluateRange && suffixEvaluateRange) {\n        const range = new monaco.Range(\n          prefixEvaluateRange.startLineNumber,\n          prefixEvaluateRange.endColumn,\n          suffixEvaluateRange.startLineNumber,\n          suffixEvaluateRange.startColumn\n        );\n\n        const content = model.getValueInRange(range);\n        if (range.containsPosition(position!) && !/<% | %>/.test(content)) {\n          const newUri = getEmbeddedJavascriptUri(model.uri);\n          const embeddedModel = monaco.editor.getModel(newUri);\n\n          embeddedModel!.setValue(content);\n          const offset = model.getOffsetAt(\n            new monaco.Position(\n              prefixEvaluateRange.startLineNumber,\n              prefixEvaluateRange.endColumn\n            )\n          );\n\n          const embeddedContext = EmbeddedModelContext.getInstance(workerId);\n\n          embeddedContext.updateState({ content, range, offset });\n\n          if (!customValidationInBrickNextYaml) return;\n\n          const getWorker =\n            await monaco.languages.typescript.getJavaScriptWorker();\n\n          const worker = await getWorker(newUri);\n\n          const diagnostics = await worker.getSemanticDiagnostics(\n            newUri.toString()\n          );\n\n          const semanticMarkers = diagnostics.map((item) => {\n            const finalOffset = offset + (item.start ?? 0);\n            const currentPosition = model.getPositionAt(finalOffset);\n\n            return {\n              startLineNumber: currentPosition.lineNumber,\n              startColumn: currentPosition.column,\n              endLineNumber: currentPosition.lineNumber,\n              endColumn: currentPosition.column + item.length!,\n              message: item.messageText as string,\n              severity: monaco.MarkerSeverity.Warning,\n            };\n          });\n\n          monaco.editor.setModelMarkers(\n            model,\n            \"semantic_validate\",\n            semanticMarkers\n          );\n        }\n      }\n    },\n    [workerId]\n  );\n\n  useEffect(() => {\n    if (!editorRef.current) {\n      return;\n    }\n    const currentModel = editorRef.current.getModel()!;\n    const listener = currentModel.onDidChangeContent(async (e) => {\n      setEditorId(workerId);\n\n      if ([\"brick_next_yaml\"].includes(language)) {\n        embeddedModelProcessor(currentModel, editorRef.current!.getPosition()!);\n        // debounceParse();\n      }\n      if (!e.isFlush) {\n        onChange(currentModel.getValue());\n      }\n    });\n    return () => {\n      listener.dispose();\n    };\n  }, [\n    /* debounceParse, */ onChange,\n    workerId,\n    language,\n    embeddedModelProcessor,\n  ]);\n\n  useEffect(() => {\n    if (expanded) {\n      const fn = (e: KeyboardEvent): void => {\n        if (e.key === \"Escape\" || e.key === \"Esc\") {\n          window.removeEventListener(\"keydown\", fn);\n          setExpanded(false);\n        }\n      };\n      window.addEventListener(\"keydown\", fn);\n      return () => {\n        window.removeEventListener(\"keydown\", fn);\n      };\n    }\n  }, [expanded]);\n\n  useEffect(() => {\n    return () => {\n      editorRef.current?.getModel()?.dispose();\n      editorRef.current?.dispose();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!editorRef.current && !placeholder) return;\n    const placeholderWidget = new PlaceholderContentWidget(\n      placeholder!,\n      editorRef.current!\n    );\n\n    return () => {\n      placeholderWidget.dispose();\n    };\n  }, [placeholder]);\n\n  const handleCopyIconClick = useCallback(() => {\n    if (editorRef.current) {\n      const currentModel = editorRef.current.getModel()!;\n      copyToClipboard(currentModel.getValue())\n        .then(() =>\n          showNotification({ type: \"success\", message: t(K.COPY_SUCCESS) })\n        )\n        .catch(() =>\n          showNotification({ type: \"error\", message: t(K.COPY_FAILED) })\n        );\n    }\n  }, [t]);\n\n  const handleExpandedClick = useCallback(() => {\n    setExpanded(!expanded);\n  }, [expanded]);\n\n  // istanbul ignore next\n  useEffect(() => {\n    const editor = editorRef.current;\n    if (editor && language === \"brick_next_yaml\") {\n      const yamlLinter = getYamlLinterWorker();\n      const handleChange = (): void => {\n        const value = editor.getValue();\n        yamlLinter.postMessage({\n          id: workerId,\n          source: value,\n          links,\n          markers,\n        });\n      };\n      const debounceChange = debounce(handleChange, 200);\n      const handleLintResponse = (event: MessageEvent<LintResponse>): void => {\n        const { id, lintMarkers, lintDecorations } = event.data;\n        if (id !== workerId) {\n          return;\n        }\n        const model = editor.getModel();\n        if (!model) {\n          return;\n        }\n        monaco.editor.setModelMarkers(\n          model,\n          \"brick_next_yaml_lint\",\n          lintMarkers.map(({ start, end, message, severity, code }) => {\n            const startPos = model.getPositionAt(start);\n            const endPos = model.getPositionAt(end);\n            return {\n              startLineNumber: startPos.lineNumber,\n              startColumn: startPos.column,\n              endLineNumber: endPos.lineNumber,\n              endColumn: endPos.column,\n              severity: monaco.MarkerSeverity[severity],\n              message,\n              code: code as monaco.editor.IMarkerData[\"code\"],\n            };\n          })\n        );\n        decorationsCollection.current?.set(\n          lintDecorations.map(({ start, end, options }) => ({\n            range: monaco.Range.fromPositions(\n              model.getPositionAt(start),\n              model.getPositionAt(end)\n            ),\n            options,\n          }))\n        );\n      };\n      yamlLinter.addEventListener(\"message\", handleLintResponse);\n      const change = editor.onDidChangeModelContent(debounceChange);\n      debounceChange();\n      return () => {\n        change.dispose();\n        monaco.editor.setModelMarkers(\n          editor.getModel()!,\n          \"brick_next_yaml_lint\",\n          []\n        );\n        yamlLinter.removeEventListener(\"message\", handleLintResponse);\n      };\n    }\n  }, [language, links, markers, theme, workerId]);\n\n  return (\n    <div\n      className={classNames(\"code-editor-wrapper\", {\n        expanded,\n        error: validateState === \"error\",\n      })}\n    >\n      <div\n        ref={containerRef}\n        style={{\n          height: expanded ? \"100%\" : actualHeight,\n          overflow: expanded ? \"scroll\" : \"\",\n        }}\n      />\n      <div className=\"toolbar\">\n        {showCopyButton && (\n          <WrappedTooltip content={t(K.COPY) as string}>\n            <WrappedIcon\n              className=\"copy-icon\"\n              icon=\"copy\"\n              lib=\"antd\"\n              theme=\"outlined\"\n              onClick={handleCopyIconClick}\n            />\n          </WrappedTooltip>\n        )}\n        {showExpandButton && (\n          <WrappedTooltip\n            content={(expanded ? t(K.COLLAPSE) : t(K.EXPAND)) as string}\n          >\n            <WrappedIcon\n              className=\"expand-icon\"\n              icon={expanded ? \"compress\" : \"expand\"}\n              lib=\"antd\"\n              theme=\"outlined\"\n              onClick={handleExpandedClick}\n            />\n          </WrappedTooltip>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction getContentHeightByCode(\n  code: string,\n  minLines: number,\n  maxLines: number\n): number {\n  return getContentHeightByLines(\n    Math.min(maxLines, Math.max(minLines, code.split(\"\\n\").length))\n  );\n}\n\nfunction fixEditorHeightWithScrollBar(\n  contentHeight: number,\n  minLines: number,\n  maxLines: number\n): number {\n  let fixedHeight = contentHeight;\n  if ((contentHeight - EDITOR_PADDING_VERTICAL) % EDITOR_LINE_HEIGHT === 0) {\n    fixedHeight = contentHeight + EDITOR_SCROLLBAR_SIZE;\n  }\n  return Math.min(\n    getContentHeightByLines(maxLines),\n    Math.max(fixedHeight, getContentHeightByLines(minLines))\n  );\n}\n\nfunction getContentHeightByLines(lines: number): number {\n  return (\n    lines * EDITOR_LINE_HEIGHT + EDITOR_SCROLLBAR_SIZE + EDITOR_PADDING_VERTICAL\n  );\n}\n\n/** Get the direct DOM container of `vs.code-editor` */\nfunction getDOMContainer(element: HTMLElement | null) {\n  let brick = element;\n  while (brick) {\n    const found = brick.tagName.toLowerCase() === \"vs.code-editor\";\n    brick = brick.parentElement;\n    if (found) {\n      return brick;\n    }\n  }\n}\n"],"names":["initializeReactI18n","NS","locales","registerJavaScript","monaco","registerTypeScript","registerYaml","registerHtml","defineElement","property","event","createDecorators","WrappedFormItem","wrapBrick","WrappedTooltip","WrappedIcon","copyToClipboard","unwrapProvider","showNotification","_CodeEditor","_A","WeakMap","_B","_C","_D","_E","_F","_G","_H","_I","_J","_K","_L","_M","_N","_O","_P","_Q","_R","_S","_T","_U","_V","_W","_X","_Y","_CodeEditor_brand","WeakSet","_Z","_handleChange","_handleUserInput","_a","_handleTokenClick","_handleValidator","CodeEditor","FormItemElementBase","constructor","arguments","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","_init_name","_init_extra_name","_init_label","_init_extra_label","_init_value","_init_extra_value","_init_language","_init_extra_language","_init_theme","_init_extra_theme","_init_required","_init_extra_required","_init_readOnly","_init_extra_readOnly","_init_automaticLayout","_init_extra_automaticLayout","_init_minLines","_init_extra_minLines","_init_completers","_init_extra_completers","_init_advancedCompleters","_init_extra_advancedCompleters","_init_markers","_init_extra_markers","_init_links","_init_extra_links","_init_maxLines","_init_extra_maxLines","_init_height","_init_extra_height","_init_message","_init_extra_message","_init_placeholder","_init_extra_placeholder","_init_showExpandButton","_init_extra_showExpandButton","_init_lineNumbers","_init_extra_lineNumbers","_init_tokenConfig","_init_extra_tokenConfig","_init_customValidationInBrickNextYaml","_init_extra_customValidationInBrickNextYaml","_init_showCopyButton","_init_extra_showCopyButton","_init_glyphMargin","_init_extra_glyphMargin","_init_extraLibs","_init_extra_extraLibs","_init_codeChange","_init_extra_codeChange","_init_userInput","_init_extra_userInput","value","_this$getFormElement","this","getFormElement","formStore","onChange","name","_classPrivateGetter","_get_codeChange","emit","_get_userInput","_init_tokenClickEvent","_init_extra_tokenClickEvent","word","_get_tokenClickEvent","language","yaml","_classPrivateFieldGet","v","_classPrivateFieldSet","label","theme","required","readOnly","automaticLayout","minLines","completers","advancedCompleters","markers","links","maxLines","height","message","placeholder","showExpandButton","lineNumbers","tokenConfig","customValidationInBrickNextYaml","showCopyButton","glyphMargin","extraLibs","connectedCallback","style","display","super","render","React","exportparts","curElement","formElement","helpBrick","labelBrick","notRender","validator","CodeEditorComponent","validateState","onUserInput","onTokenClick","_ref","_value","_language","_theme","_minLines","_maxLines","_height","showDSKey","Infinity","expanded","setExpanded","useState","workerId","useMemo","uniqueId","t","useTranslation","containerRef","useRef","decorationsCollection","editorRef","size","width","getContentHeightByCode","actualHeight","setActualHeight","automaticLayoutRef","systemTheme","useCurrentTheme","useEffect","computedTheme","lineHeightBackground","includes","defineTheme","base","inherit","rules","colors","setTheme","current","currentModel","getModel","setModelLanguage","provideCompletionItems","brickNextYAMLProviderCompletionItems","monacoProviderRef","registerCompletionItemProvider","triggerCharacters","dispose","editor","getValue","setValue","useLayoutEffect","_editorRef$current","getBoundingClientRect","layout","observer","ResizeObserver","entries","entry","target","newWidth","contentBoxSize","inlineSize","contentRect","newHeight","blockSize","_editorRef$current2","observe","disconnect","container","element","brick","found","tagName","toLowerCase","parentElement","getDOMContainer","offsetHeight","updateOptions","model","createModel","uri","getEmbeddedJavascriptUri","typescript","javascriptDefaults","addExtraLib","getBrickYamlBuiltInDeclare","toString","create","minimap","enabled","showRegionSectionHeaders","showMarkSectionHeaders","scrollBeyondLastLine","tabSize","insertSpaces","fontSize","EDITOR_FONT_SIZE","lineHeight","EDITOR_LINE_HEIGHT","scrollbar","horizontalScrollbarSize","EDITOR_SCROLLBAR_SIZE","verticalScrollbarSize","horizontalSliderSize","verticalSliderSize","alwaysConsumeMouseWheel","padding","top","EDITOR_PADDING_VERTICAL","bottom","undefined","overviewRulerBorder","mouseWheelScrollSensitivity","fixedOverflowWidgets","lineNumbersMinChars","folding","suggest","insertMode","preview","quickSuggestions","strings","other","comments","renderLineHighlightOnlyWhenFocus","unicodeHighlight","ambiguousCharacters","createDecorationsCollection","libs","languageDefaults","disposables","addExtraLibs","item","editorMouseDownEvent","onMouseDown","e","_decorations$getRange","decorations","getRanges","call","forEach","range","modKey","test","navigator","platform","position","containsPosition","getValueInRange","mouseOverEvent","onMouseMove","newDecorations","map","options","inlineClassName","equalsRange","set","listener","onDidContentSizeChange","contentHeightChanged","fixEditorHeightWithScrollBar","contentHeight","getContentHeight","embeddedModelProcessor","useCallback","async","setModelMarkers","prefixEvaluateOperator","findPreviousMatch","suffixEvaluateOperator","findNextMatch","prefixEvaluateRange","suffixEvaluateRange","startLineNumber","endColumn","startColumn","content","newUri","offset","getOffsetAt","EmbeddedModelContext","getInstance","updateState","getWorker","getJavaScriptWorker","worker","semanticMarkers","getSemanticDiagnostics","finalOffset","start","currentPosition","getPositionAt","lineNumber","column","endLineNumber","length","messageText","severity","Warning","onDidChangeContent","setEditorId","getPosition","isFlush","fn","key","window","removeEventListener","addEventListener","_editorRef$current3","_editorRef$current4","placeholderWidget","PlaceholderContentWidget","handleCopyIconClick","then","type","K","COPY_SUCCESS","catch","COPY_FAILED","handleExpandedClick","yamlLinter","getYamlLinterWorker","handleChange","postMessage","id","source","debounceChange","debounce","handleLintResponse","_decorationsCollectio","lintMarkers","lintDecorations","data","_ref2","end","code","startPos","endPos","_ref3","fromPositions","change","onDidChangeModelContent","className","classNames","error","ref","overflow","COPY","icon","lib","onClick","COLLAPSE","EXPAND","getContentHeightByLines","Math","min","max","split","fixedHeight","lines","_CodeEditor2","_set_codeChange","_set_userInput","_set_tokenClickEvent","c","_initClass","_applyDecs","shadowOptions","Boolean","Number","attribute","o","_","has","_checkInRHS"],"sourceRoot":""}