"use strict";(globalThis.webpackChunk_next_bricks_nav=globalThis.webpackChunk_next_bricks_nav||[]).push([[5821],{816:(e,t,n)=>{n.r(t),n.d(t,{NavMenu:()=>P});var i,l=n(918),a=n(6121),o=n(829),r=n(2740),s=n(9575),m=n(8769),c=n.n(m),u=n(300),d=n(5223),h=n(4295),p=n(6370),y=n(9527),g=n(764),v=(n(6477),n(3373)),w=n.n(v),b=n(1283),f=n(9044),T=n(9998),E=n(839),k=n(1122);let M,x,S,N,A,K,D;n(4211);const{defineElement:I,property:C}=(0,u.createDecorators)(),R=(0,h.wrapBrick)("eo-menu-item"),_=(0,h.wrapBrick)("eo-popover",{onVisibleChange:"visible.change",beforeVisibleChange:"before.visible.change"});function W(e){const{item:t}=e;return(0,y.Wf)(t,e.topData)?c().createElement(V,(0,s.A)({},e,{item:t})):(0,y.IZ)(t)?c().createElement(B,(0,s.A)({},e,{item:t})):c().createElement(G,(0,s.A)({},e,{item:t}))}function G(e){const{item:t,index:n,hidden:i,showTooltip:l,selectedKey:a=[]}=e;return c().createElement(R,{"data-index":n,className:i?"overflow-menu-item":"",key:t.key,title:l?t.text:"",active:!!t.key&&a.includes(t.key)},(0,y.q5)(t,{width:"100%"},e.mainMenuTitleStyle))}let F;const L=e=>{const t=F??(F=window.innerWidth-document.body.clientWidth);document.body.style.paddingRight=e.detail?t+"px":"",document.body.style.overflow=e.detail?"hidden":"",document.body.style.touchAction=e.detail?"none":""};function V(e){var t;let{index:n,hidden:i,item:l,topData:a,showTooltip:o,selectedKey:r=[],overflow:s,mainMenuTitleStyle:m}=e;return(null===(t=l.items)||void 0===t?void 0:t.length)>0?c().createElement(_,{"data-index":n,className:w()("popover",{subprime:!a,"overflow-menu-item":i}),arrow:!1,trigger:"hover",placement:a?"bottom-start":"right-start",distance:0,anchorDisplay:"block",strategy:"fixed"},c().createElement(R,{className:"sub-menu-item-label 22",key:l.key,slot:"anchor",title:o?l.title:""},(0,y.Gn)(l,!a,{...m})),c().createElement("div",{className:w()("sub-menu-wrapper",{"overflow-menu-wrapper":s})},l.items.map((e=>c().createElement(c().Fragment,{key:e.key},c().createElement(W,{item:e,selectedKey:r,showTooltip:o})))))):null}function B(e){var t;let{item:n,showTooltip:i,selectedKey:l=[]}=e;return(null===(t=n.items)||void 0===t?void 0:t.length)>0?"category"===n.childLayout?c().createElement(O,{item:n,selectedKey:l,showTooltip:i,placement:"right-start",anchorDisplay:"block"}):"siteMap"===n.childLayout?c().createElement(J,{item:n,selectedKey:l,showTooltip:i,placement:"right-start",anchorDisplay:"block",topData:!1}):c().createElement(c().Fragment,null,c().createElement("div",{className:"group-label"},n.title),c().createElement("div",{className:"group-wrapper"},n.items.map((e=>c().createElement(c().Fragment,{key:e.key},c().createElement(W,{item:e,showTooltip:i,selectedKey:l})))))):null}function O(e){var t;let{index:n,hidden:i,item:l,selectedKey:a=[],showTooltip:o,placement:r="bottom-start",anchorDisplay:s,mainMenuTitleStyle:m}=e;return(null===(t=l.items)||void 0===t?void 0:t.length)>0?c().createElement(_,{"data-index":n,className:w()("three-level-menu-popover","popover",{"overflow-menu-item":i}),arrow:!1,trigger:"hover",placement:r,distance:0,key:l.key,strategy:"fixed",anchorDisplay:s,beforeVisibleChange:L},c().createElement(R,{className:"sub-menu-item-label",key:l.key,slot:"anchor",title:o?l.title:""},(0,y.Gn)(l,!1,m)),c().createElement("div",{className:"sub-menu-wrapper"},c().createElement(b.s,{menuItem:l,selectedKey:a}))):null}function J(e){var t;let{index:n,hidden:i,item:l,selectedKey:a=[],showTooltip:o,placement:r="bottom-start",anchorDisplay:s,topData:u,mainMenuTitleStyle:d}=e;const[h,p]=(0,m.useState)();return(null===(t=l.items)||void 0===t?void 0:t.length)>0?c().createElement(_,{"data-index":n,className:w()("popover",{"overflow-menu-item":i}),trigger:"hover",placement:r,distance:0,key:l.key,strategy:"fixed",arrow:!1,anchorDisplay:s,beforeVisibleChange:e=>{p(e.detail),L(e)}},c().createElement(R,{className:"sub-menu-item-label",key:l.key,slot:"anchor",title:o?l.title:""},(0,y.Gn)(l,!1,d)),c().createElement("div",{className:w()("sub-menu-sit-map-wrapper",{"in-group-site-map":!u}),onClick:e=>e.stopPropagation()},c().createElement(f.bw,{menuGroup:l,selectedKey:a,visible:h}))):null}let P;var q=new WeakMap,z=new WeakMap,H=new WeakMap;class X extends h.ReactNextElement{constructor(){super(...arguments),(0,l.A)(this,q,x(this)),(0,l.A)(this,z,(S(this),N(this))),(0,l.A)(this,H,(A(this),K(this))),D(this)}get menu(){return(0,o.A)(q,this)}set menu(e){(0,a.A)(q,this,e)}get mainMenuTitleStyle(){return(0,o.A)(z,this)}set mainMenuTitleStyle(e){(0,a.A)(z,this,e)}get showTooltip(){return(0,o.A)(H,this)}set showTooltip(e){(0,a.A)(H,this,e)}render(){return c().createElement(Z,{menu:this.menu,showTooltip:this.showTooltip,mainMenuTitleStyle:this.mainMenuTitleStyle})}}function Z(e){const{menu:t,showTooltip:n}=e,i=(0,d.getHistory)(),l=(0,m.useRef)(null),[a,o]=(0,m.useState)(i.location),[r,s]=(0,m.useState)(Number.MAX_SAFE_INTEGER),{pathname:u,search:h}=a,p=(0,m.useMemo)((()=>((null==t?void 0:t.menuItems)??[]).filter((e=>{var t;return"default"===e.type||!e.type||["group","subMenu"].includes(e.type)&&(null===(t=e.items)||void 0===t?void 0:t.length)}))),[null==t?void 0:t.menuItems]),v=(0,m.useMemo)((()=>{const{selectedKeys:e}=(0,g.LP)(p??[],u,h,"");return e}),[p,u,h]);(0,m.useEffect)((()=>{const e=i.listen((e=>{o(e)}));return e}),[]),(0,m.useEffect)((()=>{if(l.current){const e=new ResizeObserver((()=>{if(l.current){const{width:e}=l.current.getClientRects()[0]??{},t=l.current.childNodes;if(t.length&&e){let n=e,i=t.length;for(let e=0;e<t.length;e++){const{width:l,height:a}=t[e].getClientRects()[0];if(!a&&n-40<0){i=e-1;break}if(n=n-l-(e>0?8:0),n<0){i=e;break}}s(i<0?0:i)}}}));return e.observe(l.current),()=>{e.disconnect()}}}),[]);const w=(0,m.useMemo)((()=>({type:"subMenu",title:"···",items:p.slice(r,p.length)})),[p,r]);return c().createElement("div",{ref:l,className:"nav-menu-wrapper"},p.map(((t,i)=>{var l;const a=r<=i;return c().createElement(c().Fragment,{key:t.key},(0,y.Wf)(t,!0)&&"category"===t.childLayout&&null!==(l=t.items)&&void 0!==l&&l.length?c().createElement(O,{index:i,hidden:a,item:t,showTooltip:n,selectedKey:v,mainMenuTitleStyle:e.mainMenuTitleStyle}):"group"===t.type&&"siteMap"===t.childLayout?c().createElement(J,{index:i,hidden:a,item:t,showTooltip:n,selectedKey:v,topData:!0,mainMenuTitleStyle:e.mainMenuTitleStyle}):c().createElement(W,{index:i,hidden:a,item:t,showTooltip:n,selectedKey:v,topData:!0,mainMenuTitleStyle:e.mainMenuTitleStyle}))})),c().createElement(W,{hidden:r>p.length,item:w,showTooltip:n,selectedKey:v,overflow:!0,topData:!0,mainMenuTitleStyle:e.mainMenuTitleStyle}))}i=X,({e:[x,S,N,A,K,D],c:[P,M]}=(0,r.A)(i,[I("eo-nav-menu",{styleTexts:[T.A,E.A,k.A,p.A]})],[[C({attribute:!1}),1,"menu"],[C({attribute:!1}),1,"mainMenuTitleStyle"],[C({type:Boolean}),1,"showTooltip"]],0,void 0,h.ReactNextElement)),M()},4612:(e,t,n)=>{n.d(t,{G:()=>i});class i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"brick-next-";this.storage=e,this.prefix=t}setItem(e,t){this.storage.setItem(this.prefix+e,JSON.stringify(t))}getItem(e){return JSON.parse(this.storage.getItem(this.prefix+e))}removeItem(e){return this.storage.removeItem(this.prefix+e)}clear(){return this.storage.clear()}}}}]);
//# sourceMappingURL=eo-nav-menu.456dec2c.js.map