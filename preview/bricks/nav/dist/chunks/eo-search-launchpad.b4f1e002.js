"use strict";(globalThis.webpackChunk_next_bricks_nav=globalThis.webpackChunk_next_bricks_nav||[]).push([[131],{8356:(e,n,t)=>{t.d(n,{P:()=>l,z:()=>o});var a=t(8769),r=t.n(a);const o=r().createContext({}),l=()=>r().useContext(o)},8839:(e,n,t)=>{t.d(n,{F:()=>p,r:()=>u});var a=t(9575),r=t(8769),o=t.n(r),l=t(1030),i=t(3373),c=t.n(i),s=t(9393),m=t(8356);function u(e){let{name:n,items:t}=e;return o().createElement("li",{className:"menu-group"},o().createElement("div",{className:"menu-group-label"},n),o().createElement("ul",{className:"menu"},t.map((e=>"dir"===e.type?o().createElement(g,{key:`${e.type}-${e.id}`,name:e.name,items:e.items}):o().createElement(d,{key:`${e.type}-${e.id}`,item:e})))))}function d(e){var n;let{item:t}=e;const{loadingFavorites:i,readonly:u,pushRecentVisit:d,toggleStar:p,isStarred:g}=(0,m.P)(),h=(0,r.useMemo)((()=>g(t)),[g,t]),x=(0,r.useCallback)((()=>{p(t)}),[t,p]),b=(0,r.useCallback)((()=>{d(t)}),[t,d]);return o().createElement("li",{className:c()("menu-item",{starred:h,"can-star":!i})},o().createElement(s.EM,(0,a.A)({onClick:b},"app"===t.type?{url:t.url}:{href:t.url,target:"_blank"}),o().createElement(s.Bj,(0,a.A)({className:"menu-icon",lib:"easyops",icon:"micro-app-center"},null!==(n=t.menuIcon)&&void 0!==n&&n.lib&&t.menuIcon.icon?(0,l.pick)(t.menuIcon,["lib","icon","theme","category","prefix"]):null)),o().createElement("span",{className:"menu-item-label"},t.name)),!u&&o().createElement(s.Bj,{lib:"fa",prefix:h?"fas":"far",icon:"star",className:"menu-item-star",title:h?"取消收藏":"收藏",onClick:x}))}function p(e){var n;let{item:t,target:i}=e;const{readonly:c,pushRecentVisit:u,toggleStar:d}=(0,m.P)(),p=(0,r.useCallback)((()=>{"link"!==t.type&&u(t)}),[t,u]),g=(0,r.useCallback)((()=>{d(t)}),[t,d]);return o().createElement("li",{className:"sidebar-menu-item"},o().createElement(s.EM,(0,a.A)({onClick:p},"app"===t.type?{url:t.url,target:i}:{href:t.url,target:"_blank"}),o().createElement(s.Bj,(0,a.A)({className:"sidebar-menu-icon",lib:"easyops",icon:"micro-app-center"},null!==(n=t.menuIcon)&&void 0!==n&&n.lib&&t.menuIcon.icon?(0,l.pick)(t.menuIcon,["lib","icon","theme","category","prefix"]):null)),o().createElement("span",{className:"menu-item-label"},t.name)),!c&&o().createElement(s.Bj,{lib:"fa",icon:"xmark",className:"menu-item-remove",onClick:g}))}function g(e){let{name:n,items:t}=e;const{searching:a}=(0,m.P)(),[l,i]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),g=(0,r.useCallback)((()=>{a?p((e=>!e)):i((e=>!e))}),[a]);(0,r.useEffect)((()=>{p(!0)}),[a]);const h=a?u:l;return o().createElement("li",{className:"menu-item folder"},o().createElement(s.EM,{onClick:g},o().createElement(s.Bj,{lib:"fa",prefix:"far",icon:"folder-open",className:"menu-icon"}),o().createElement("span",{className:"menu-item-label"},n),o().createElement(s.Bj,{lib:"antd",icon:h?"up":"down",className:"menu-item-toggle"})),o().createElement("ul",{className:c()("sub-menu",{expanded:h})},t.map((e=>o().createElement(d,{key:`${e.type}-${e.id}`,item:e})))))}},306:(e,n,t)=>{t.r(n),t.d(n,{EoSearchLaunchpad:()=>N,EoSearchLaunchpadComponent:()=>S,WrappedIcon:()=>k});var a,r=t(918),o=t(6121),l=t(829),i=t(2740),c=t(8769),s=t.n(c),m=t(300),u=t(4295),d=(t(6477),t(3873)),p=t(3373),g=t.n(p),h=t(8356),x=t(2133),b=t(8839);let v,f,y;t(1837);const k=(0,u.wrapBrick)("eo-icon"),{defineElement:E,property:w}=(0,m.createDecorators)();let N;var C=new WeakMap;class A extends u.ReactNextElement{constructor(){super(...arguments),(0,r.A)(this,C,f(this)),y(this)}get readonly(){return(0,l.A)(C,this)}set readonly(e){(0,o.A)(C,this,e)}render(){return s().createElement(S,{readonly:this.readonly})}}function S(e){let{readonly:n}=e;const t=(0,c.useRef)(null),a=(0,c.useCallback)((()=>{var e;null===(e=t.current)||void 0===e||e.focus()}),[]),[r,o]=(0,c.useState)(!1),{loading:l,q:i,setQ:m,menuGroups:u,loadingFavorites:d,pushRecentVisit:p,toggleStar:v,isStarred:f}=(0,x.sZ)(r),y=!!i,E=(0,c.useCallback)((e=>{m(e.target.value)}),[m]),w=(0,c.useCallback)((()=>{m("")}),[m]);return s().createElement(h.z.Provider,{value:{searching:y,loadingFavorites:d,readonly:n,pushRecentVisit:p,toggleStar:v,isStarred:f}},s().createElement("div",{className:"container"},s().createElement("div",{className:"search-box",onClick:a},s().createElement(k,{lib:"fa",icon:"magnifying-glass",className:"search-icon"}),s().createElement("input",{ref:t,placeholder:"搜索产品/微应用",value:i,onChange:E,className:"search-input",onFocus:()=>o(!0),onBlur:()=>o(!1)}),s().createElement(k,{lib:"antd",theme:"filled",icon:"close-circle",className:g()("search-clear",{searching:y}),onClick:w,onMouseDown:e=>e.preventDefault()})),s().createElement("div",{className:g()("dropdown",{"dropdown-active":r}),onMouseDown:e=>e.preventDefault()},s().createElement("div",{className:g()("dropdown-content",{loading:l})},s().createElement(B,{loading:l}),s().createElement("ul",{className:"menu-groups"},u.map((e=>s().createElement(b.r,{key:e.name,name:e.name,items:e.items}))))))))}function B(e){let{loading:n}=e;return n&&s().createElement("div",{className:"spinner"},s().createElement(k,{lib:"fa",icon:"spinner",spinning:!0}))}a=A,({e:[f,y],c:[N,v]}=(0,i.A)(a,[E("eo-search-launchpad",{styleTexts:[d.A]})],[[w({type:Boolean}),1,"readonly"]],0,void 0,u.ReactNextElement)),v()},7839:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(6758),r=t.n(a),o=t(935),l=t.n(o)()(r());l.push([e.id,':root{--eo-search-launchpad-menu-icon-color:#8c8c8c}html[data-theme="dark"],\nhtml[data-theme="dark-v2"]{--eo-search-launchpad-menu-icon-color:rgba(255,255,255,0.45)}',""]);const i=l},3873:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(6758),r=t.n(a),o=t(935),l=t.n(o)()(r());l.push([e.id,":host{display:block}:host([hidden]){display:none}.container{position:relative}.dropdown{margin-top:5px;position:absolute;top:100%;left:0px;width:100%;z-index:1050;padding:20px 24px 24px;overflow:hidden;box-sizing:border-box;background-color:var(--antd-select-dropdown-bg);border-radius:4px;box-shadow:var(--antd-box-shadow-base);display:none}.dropdown-active{display:block}.search-box{border-bottom:1px solid var(--color-text-divider-line);display:flex;gap:8px;align-items:center;padding:10px 0;cursor:text}.search-icon{color:var(--color-auxiliary-text)}.search-input{padding:0;margin:0;border:none;outline:none;color:inherit;background-color:transparent;font-size:14px;line-height:22px;flex:1;min-width:0}.search-input::placeholder{color:var(--color-disabled-text);opacity:1}.search-clear{display:none;color:var(--color-secondary-text);cursor:pointer}.search-clear.searching{display:inline-block}.search-clear:hover{color:var(--color-auxiliary-text)}.dropdown-content{min-width:0;display:flex;flex-direction:column;gap:24px;max-height:260px;overflow-y:auto}.spinner{display:flex;justify-content:center;align-items:center;color:var(--theme-doderblue-color);flex:1;font-size:30px}.loading > :not(.spinner){display:none}.menu-group-label,\n.menu-item-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-groups,\n.menu,\n.sub-menu{list-style:none;margin:0;padding:0}.menu,\n.sub-menu{display:flex;flex-direction:column;gap:14px}.menu-item > eo-link{display:block;min-width:0}.menu-item > eo-link::part(link){height:20px;display:flex;align-items:center;gap:8px;color:var(--color-header-text)}.menu-groups{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}.menu-groups{display:grid;gap:32px 8px}.menu-group{padding-right:12px;color:var(--color-header-text)}.menu-group-label{font-size:var(--card-title-font-size);font-weight:500;color:var(--color-header-text);margin-bottom:14px}.menu-item:not(.folder){display:flex;gap:8px;align-items:center}.menu-icon{color:var(--eo-search-launchpad-menu-icon-color)}.menu-item.active,\n.menu-item.active .menu-icon{color:var(--color-brand-active)}.sub-menu:not(.expanded){display:none}.sub-menu{margin-top:14px;margin-left:8px;border-left:1px solid var(--color-text-divider-line);padding-left:15px}.menu-item-star{cursor:pointer}.menu-item-star,\n.menu-item-toggle{color:var(--color-secondary-text)}.menu-item-star{display:none}.can-star.starred > .menu-item-star,\n.can-star:hover > .menu-item-star{display:inline-block}.can-star:not(.starred) > .menu-item-star{color:var(--color-secondary-text)}.starred > .menu-item-star{color:var(--palette-yellow-6)}.menu-item > eo-link:hover::part(link),\n.menu-item > eo-link:hover .menu-icon,\n.menu-item > eo-link:hover .menu-item-toggle{color:var(--color-brand-hover)}@supports not (inset: 0){.search-box,\n  .menu,\n  .sub-menu,\n  .menu-item:not(.folder),\n  .menu-item > eo-link::part(link){gap:0}.dropdown-content{display:grid;grid-auto-flow:row}.dropdown-content:not(.loading){height:min-content}.menu > :not(:first-child),\n  .sub-menu > :not(:first-child){margin-top:14px}.search-icon,\n  .menu-icon{margin-right:8px}.search-clear,\n  .menu-item-star,\n  .menu-item-toggle{margin-left:8px}}",""]);const i=l.toString()},1837:(e,n,t)=>{var a=t(2591),r=t.n(a),o=t(1740),l=t.n(o),i=t(8128),c=t.n(i),s=t(855),m=t.n(s),u=t(3051),d=t.n(u),p=t(3656),g=t.n(p),h=t(7839),x={};x.styleTagTransform=g(),x.setAttributes=m(),x.insert=c().bind(null,"head"),x.domAPI=l(),x.insertStyleElement=d(),r()(h.A,x),h.A&&h.A.locals&&h.A.locals}}]);
//# sourceMappingURL=eo-search-launchpad.b4f1e002.js.map