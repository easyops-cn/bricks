"use strict";(globalThis.webpackChunk_next_bricks_visual_builder=globalThis.webpackChunk_next_bricks_visual_builder||[]).push([[3021,2052],{6860:(e,t,n)=>{n.r(t),n.d(t,{WorkbenchActionList:()=>x,WorkbenchActionListComponent:()=>P});var r,o=n(918),a=n(6121),i=n(829),c=n(2740),s=n(8769),u=n.n(s),l=n(300),f=n(5223),p=n(4295),d=n(764),h=(n(5769),n(3430));let v,m,y,b,g;const A=(0,p.wrapBrick)("visual-builder.workbench-action"),{defineElement:w,property:k}=(0,l.createDecorators)();let x;var E=new WeakMap,S=new WeakMap;class T extends p.ReactNextElement{constructor(){super(...arguments),(0,o.A)(this,E,m(this)),(0,o.A)(this,S,(y(this),b(this))),g(this)}get appId(){return(0,i.A)(E,this)}set appId(e){(0,a.A)(E,this,e)}get menu(){return(0,i.A)(S,this)}set menu(e){(0,a.A)(S,this,e)}render(){return u().createElement(P,{appId:this.appId,menu:this.menu})}}let j;r=T,({e:[m,y,b,g],c:[x,v]}=(0,c.A)(r,[w("visual-builder.workbench-action-list",{styleTexts:[h.A]})],[[k(),1,"appId"],[k({attribute:!1}),1,"menu"]],0,void 0,p.ReactNextElement)),v();const I=new Map;function P(e){var t;let{appId:n,menu:r}=e;const o=(0,f.getHistory)(),[a,i]=(0,s.useState)(),[c,l]=(0,s.useState)(o.location);return(0,s.useEffect)((()=>{const e=o.listen((e=>{l(e)}));return e}),[o]),(0,s.useEffect)((()=>{j||(j=n),j!==n&&(I.clear(),j=n)}),[n]),(0,s.useEffect)((()=>{const{pathname:e,search:t}=c,{selectedKeys:n}=(0,d.LP)((null==r?void 0:r.menuItems)??[],e,t,"");i(Number(n[0]))}),[r,c]),u().createElement(u().Fragment,null,null==r||null===(t=r.menuItems)||void 0===t?void 0:t.map(((e,t)=>{if((e=>"default"===e.type||!e.type)(e)){let n=e.to;return a!==t&&I.has(t)&&(n=I.get(t)),u().createElement(A,{key:t,icon:e.icon,to:n,href:e.href,target:e.target,tooltip:e.text,active:a===t,onClick:()=>(e=>{e.href||I.set(a,`${c.pathname}${c.search}`)})(e)})}})).filter(Boolean))}},607:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(6758),o=n.n(r),a=n(935),i=n.n(a)()(o());i.push([e.id,':root{--vb-workbench-action-list-background:#f8f8f8}html[data-theme="dark"],\nhtml[data-theme="dark-v2"]{--vb-workbench-action-list-background:#323237}',""]);const c=i},3430:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(6758),o=n.n(r),a=n(935),i=n.n(a)()(o());i.push([e.id,":host{display:flex;flex-direction:column;height:100%;overflow-y:auto;scrollbar-width:none;background-color:var(--vb-workbench-action-list-background)}:host([hidden]){display:none}",""]);const c=i.toString()},935:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},6758:e=>{e.exports=function(e){return e[1]}},5769:(e,t,n)=>{var r=n(2591),o=n.n(r),a=n(1740),i=n.n(a),c=n(8128),s=n.n(c),u=n(855),l=n.n(u),f=n(3051),p=n.n(f),d=n(3656),h=n.n(d),v=n(607),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=s().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.A,m),v.A&&v.A.locals&&v.A.locals},2591:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],u=r.base?s[0]+r.base:s[0],l=a[u]||0,f="".concat(u," ").concat(l);a[u]=l+1;var p=n(f),d={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var h=o(d,r);r.byIndex=c,t.splice(c,0,{identifier:f,updater:h,references:1})}i.push(f)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=n(a[i]);t[c].references--}for(var s=r(e,o),u=0;u<a.length;u++){var l=n(a[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=s}}},8128:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},3051:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},855:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},1740:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},3656:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},2740:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(7545),o=n(6902);function a(e,t,n){"symbol"==(0,r.A)(t)&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:n?n+" "+t:t})}catch(e){}return e}var i=n(1369);function c(e,t,n,c,s,u){var l,f,p,d,h,v,m,y=Symbol.metadata||Symbol.for("Symbol.metadata"),b=Object.defineProperty,g=Object.create,A=[g(null),g(null)],w=t.length;function k(t,n,r){return function(o,a){n&&(a=o,o=e);for(var i=0;i<t.length;i++)a=t[i].apply(o,r?[a]:[]);return r?a:o}}function x(e,t,n,r){if("function"!=typeof e&&(r||void 0!==e))throw new TypeError(t+" must "+(n||"be")+" a function"+(r?"":" or undefined"));return e}function E(e,t,n,o,i,c,s,u,p,d,h){function v(e){if(!h(e))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(t[0]),y=t[3],g=!s,w=1===i,E=3===i,S=4===i,T=2===i;function j(t,n,r){return function(o,a){return n&&(a=o,o=e),r&&r(o),I[t].call(o,a)}}if(!g){var I={},P=[],C=E?"get":S||w?"set":"value";if(p?(d||w?I={get:a((function(){return y(this)}),o,"get"),set:function(e){t[4](this,e)}}:I[C]=y,d||a(I[C],o,T?"":C)):d||(I=Object.getOwnPropertyDescriptor(e,o)),!d&&!p){if((f=A[+u][o])&&7!=(f^i))throw Error("Decorating two elements with the same name ("+I[C].name+") is not supported yet");A[+u][o]=i<3?1:i}}for(var M=e,L=m.length-1;L>=0;L-=n?2:1){var O=x(m[L],"A decorator","be",!0),K=n?m[L-1]:void 0,_={},N={kind:["field","accessor","method","getter","setter","class"][i],name:o,metadata:l,addInitializer:function(e,t){if(e.v)throw Error("attempted to call addInitializer after decoration was finished");x(t,"An initializer","be",!0),c.push(t)}.bind(null,_)};if(g)f=O.call(K,M,N),_.v=1,x(f,"class decorators","return")&&(M=f);else if(N.static=u,N.private=p,f=N.access={has:p?h.bind():function(e){return o in e}},S||(f.get=p?T?function(e){return v(e),I.value}:j("get",0,v):function(e){return e[o]}),T||E||(f.set=p?j("set",0,v):function(e,t){e[o]=t}),M=O.call(K,w?{get:I.get,set:I.set}:I[C],N),_.v=1,w){if("object"==(0,r.A)(M)&&M)(f=x(M.get,"accessor.get"))&&(I.get=f),(f=x(M.set,"accessor.set"))&&(I.set=f),(f=x(M.init,"accessor.init"))&&P.unshift(f);else if(void 0!==M)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else x(M,(d?"field":"method")+" decorators","return")&&(d?P.unshift(M):I[C]=M)}return i<2&&s.push(k(P,u,1),k(c,u,0)),d||g||(p?w?s.splice(-1,0,j("get",u),j("set",u)):s.push(T?I[C]:x.call.bind(I[C])):b(e,o,I)),M}function S(e){return b(e,y,{configurable:!0,enumerable:!0,value:l})}return void 0!==u&&(l=u[y]),l=g(null==l?null:l),h=[],v=function(e){e&&h.push(k(e))},m=function(t,r){for(var a=0;a<n.length;a++){var c=n[a],u=c[1],l=7&u;if((8&u)==t&&!l==r){var f=c[2],v=!!c[3],m=16&u;E(t?e:e.prototype,c,m,v?"#"+f:(0,i.A)(f),l,l<2?[]:t?d=d||[]:p=p||[],h,!!t,v,r,t&&v?function(t){return(0,o.A)(t)===e}:s)}}},m(8,0),m(0,0),m(8,1),m(0,1),v(p),v(d),f=h,w||S(e),{e:f,get c(){var n=[];return w&&[S(e=E(e,[t],c,e.name,5,n)),k(n,1)]}}}},2559:(e,t,n)=>{function r(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}n.d(t,{A:()=>r})},6902:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(7545);function o(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==e?(0,r.A)(e):"null"));return e}},2016:(e,t,n)=>{function r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}n.d(t,{A:()=>r})},829:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(2559);function o(e,t){return e.get((0,r.A)(e,t))}},918:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(2016);function o(e,t,n){(0,r.A)(e,t),t.set(e,n)}},6121:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(2559);function o(e,t,n){return e.set((0,r.A)(e,t),n),n}},1369:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(7545);function o(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}},7545:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},764:(e,t,n)=>{n.d(t,{LP:()=>i});var r=n(1201),o=n(5223),a=n(1030);function i(e,t,n,s){const u=[],l=[],f=[];let p=0;return e&&e.forEach((e=>{if(e.key=""===s?`${p}`:`${s}.${p}`,function(e){return"group"===e.type}(e)||function(e,t){return Boolean("subMenu"===e.type||void 0)}(e)){const r=i(e.items,t,n,e.key);u.push(...r.selectedKeys),(r.selectedKeys.length||e.defaultExpanded)&&l.push(e.key),l.push(...r.openedKeys),f.push(...r.matchedKeys)}else if(function(e,t,n){if(!e.to)return!1;const i="object"==typeof e.to?e.to:(0,r.parsePath)(e.to),s=i.pathname.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");let u=!!(0,o.matchPath)(t,{path:s,exact:e.exact});if(u&&e.activeMatchSearch&&(u=c(n,i.search)),!u&&Array.isArray(e.activeIncludes))for(const i of e.activeIncludes){let e,s=!0;(0,a.isObject)(i)?(e=Array.isArray(i.path)?i.path:[i.path],s=i.exact):e=[i];for(const a of e){var l;let e;const i=a.includes("?");if(i&&(e=(0,r.parsePath)(a)),u=!!(0,o.matchPath)(t,{path:i?e.pathname:a,exact:s}),u&&null!==(l=e)&&void 0!==l&&l.search&&(u=c(n,e.search)),u)break}if(u)break}if(u&&Array.isArray(e.activeExcludes))for(const n of e.activeExcludes){let e,r=!0;(0,a.isObject)(n)?(e=Array.isArray(n.path)?n.path:[n.path],r=n.exact):e=[n];for(const n of e)if(u=!(0,o.matchPath)(t,{path:n,exact:r}),!u)break;if(!u)break}return u}(e,t,n)){u.push(String(e.key));const t=e.key.split(".");for(let e=0;e<t.length;e++)f.push(t.slice(0,e+1).join("."))}p+=1})),u.length&&""!==s&&l.push(s),{selectedKeys:u,openedKeys:l,matchedKeys:f}}function c(e,t){const n=new URLSearchParams(e),r=new URLSearchParams(t);for(const[e,t]of r.entries())if((n.get(e)??"")!==t)return!1;return!0}}}]);
//# sourceMappingURL=workbench-action-list.b1c93dbf.js.map