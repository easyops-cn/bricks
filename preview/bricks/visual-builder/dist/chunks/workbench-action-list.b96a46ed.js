"use strict";(self.webpackChunk_next_bricks_visual_builder=self.webpackChunk_next_bricks_visual_builder||[]).push([[4409,6522,5628],{62:(t,e,n)=>{n.r(e),n.d(e,{WorkbenchActionList:()=>f,WorkbenchActionListComponent:()=>L});var r,a,o,i,c,s,u,l,f,h=n(3395),d=n(381),p=n(687),v=n(2604),m=n(8657),y=n.n(m),g=n(5366),b=n(5062),w=n(4511),k=n(7993),Z=n(8799),E=(0,w.wrapBrick)("visual-builder.workbench-action"),{defineElement:x,property:A}=(0,g.createDecorators)();a=x("visual-builder.workbench-action-list",{styleTexts:[Z.Z]}),o=A(),c=A({attribute:!1});var I,S=new WeakMap,P=new WeakMap;class T extends w.ReactNextElement{constructor(){super(...arguments),(0,h.Z)(this,S,{writable:!0,value:(u(this),i(this))}),(0,h.Z)(this,P,{writable:!0,value:s(this)})}get appId(){return(0,p.Z)(this,S)}set appId(t){(0,d.Z)(this,S,t)}get menu(){return(0,p.Z)(this,P)}set menu(t){(0,d.Z)(this,P,t)}render(){return y().createElement(L,{appId:this.appId,menu:this.menu})}}l=T,({e:[i,s,u],c:[f,r]}=(0,v.Z)(l,[[o,1,"appId"],[c,1,"menu"]],[a],0,void 0,w.ReactNextElement)),r();var j=new Map;function L(t){var e,{appId:n,menu:r}=t,a=(0,b.getHistory)(),[o,i]=(0,m.useState)(),[c,s]=(0,m.useState)(a.location);return(0,m.useEffect)((()=>{var t=a.listen((t=>{s(t)}));return t}),[a]),(0,m.useEffect)((()=>{I||(I=n),I!==n&&(j.clear(),I=n)}),[n]),(0,m.useEffect)((()=>{var t,{pathname:e,search:n}=c,{selectedKeys:a}=(0,k.OZ)(null!==(t=null==r?void 0:r.menuItems)&&void 0!==t?t:[],e,n,"");i(Number(a[0]))}),[r,c]),y().createElement("div",{className:"workBenchActionList"},null==r||null===(e=r.menuItems)||void 0===e?void 0:e.map(((t,e)=>{if((t=>"default"===t.type||!t.type)(t)){var n=t.to;return o!==e&&j.has(e)&&(n=j.get(e)),y().createElement(E,{key:e,icon:t.icon,to:n,href:t.href,target:t.target,active:o===e,onClick:()=>(t=>{t.href||j.set(o,"".concat(c.pathname).concat(c.search))})(t)})}})).filter(Boolean))}},8799:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(9601),a=n.n(r),o=n(2609),i=n.n(o)()(a());i.push([t.id,'.workBenchActionList{display:flex;flex-direction:column;width:-webkit-min-content;width:-moz-min-content;width:min-content;height:100%;background-color:#4297ff}:host-context(html[data-theme="dark-v2"]) .workBenchActionList,\n:host-context([data-override-theme="dark-v2"]) .workBenchActionList{background-color:#323237}',""]);const c=i.toString()},2609:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},9601:t=>{t.exports=function(t){return t[1]}},2604:(t,e,n)=>{n.d(e,{Z:()=>v});var r=n(6522),a=n(1815);function o(t,e){return function(n){(function(t,e){if(t.v)throw new Error("attempted to call addInitializer after decoration was finished")})(e),s(n,"An initializer"),t.push(n)}}function i(t,e){if(!t(e))throw new TypeError("Attempted to access private element on non-instance")}function c(t,e,n,r,a,c,s,u,l,f){var h;switch(c){case 1:h="accessor";break;case 2:h="method";break;case 3:h="getter";break;case 4:h="setter";break;default:h="field"}var d,p,v={kind:h,name:u?"#"+n:n,static:s,private:u},m={v:!1};if(0!==c&&(v.addInitializer=o(a,m)),u||0!==c&&2!==c)if(2===c)d=function(t){return i(f,t),r.value};else{var y=0===c||1===c;(y||3===c)&&(d=u?function(t){return i(f,t),r.get.call(t)}:function(t){return r.get.call(t)}),(y||4===c)&&(p=u?function(t,e){i(f,t),r.set.call(t,e)}:function(t,e){r.set.call(t,e)})}else d=function(t){return t[n]},0===c&&(p=function(t,e){t[n]=e});var g=u?f.bind():function(t){return n in t};v.access=d&&p?{get:d,set:p,has:g}:d?{get:d,has:g}:{set:p,has:g};try{return t.call(e,l,v)}finally{m.v=!0}}function s(t,e){if("function"!=typeof t)throw new TypeError(e+" must be a function")}function u(t,e){var n=(0,r.Z)(e);if(1===t){if("object"!==n||null===e)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");void 0!==e.get&&s(e.get,"accessor.get"),void 0!==e.set&&s(e.set,"accessor.set"),void 0!==e.init&&s(e.init,"accessor.init")}else if("function"!==n)throw new TypeError((0===t?"field":5===t?"class":"method")+" decorators must return a function or void 0")}function l(t){return function(){return t(this)}}function f(t){return function(e){t(this,e)}}function h(t,e,n,r,a,o,i,s,h,d){var p,v,m,y,g,b,w=n[0];r||Array.isArray(w)||(w=[w]),s?p=0===o||1===o?{get:l(n[3]),set:f(n[4])}:3===o?{get:n[3]}:4===o?{set:n[3]}:{value:n[3]}:0!==o&&(p=Object.getOwnPropertyDescriptor(e,a)),1===o?m={get:p.get,set:p.set}:2===o?m=p.value:3===o?m=p.get:4===o&&(m=p.set);for(var k=r?2:1,Z=w.length-1;Z>=0;Z-=k){var E;void 0!==(y=c(w[Z],r?w[Z-1]:void 0,a,p,h,o,i,s,m,d))&&(u(o,y),0===o?E=y:1===o?(E=y.init,g=y.get||m.get,b=y.set||m.set,m={get:g,set:b}):m=y,void 0!==E&&(void 0===v?v=E:"function"==typeof v?v=[v,E]:v.push(E)))}if(0===o||1===o){if(void 0===v)v=function(t,e){return e};else if("function"!=typeof v){var x=v;v=function(t,e){for(var n=e,r=x.length-1;r>=0;r--)n=x[r].call(t,n);return n}}else{var A=v;v=function(t,e){return A.call(t,e)}}t.push(v)}0!==o&&(1===o?(p.get=m.get,p.set=m.set):2===o?p.value=m:3===o?p.get=m:4===o&&(p.set=m),s?1===o?(t.push((function(t,e){return m.get.call(t,e)})),t.push((function(t,e){return m.set.call(t,e)}))):2===o?t.push(m):t.push((function(t,e){return m.call(t,e)})):Object.defineProperty(e,a,p))}function d(t,e,n){for(var r,o,i,c=[],s=new Map,u=new Map,l=0;l<e.length;l++){var f=e[l];if(Array.isArray(f)){var d,v,m=f[1],y=f[2],g=f.length>3,b=16&m,w=!!(8&m),k=n;if(m&=7,w?(d=t,0!==m&&(v=o=o||[]),g&&!i&&(i=function(e){return(0,a.Z)(e)===t}),k=i):(d=t.prototype,0!==m&&(v=r=r||[])),0!==m&&!g){var Z=w?u:s,E=Z.get(y)||0;if(!0===E||3===E&&4!==m||4===E&&3!==m)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+y);Z.set(y,!(!E&&m>2)||m)}h(c,d,f,b,y,m,w,g,v,k)}}return p(c,r),p(c,o),c}function p(t,e){e&&t.push((function(t){for(var n=0;n<e.length;n++)e[n].call(t);return t}))}function v(t,e,n,r,a){return{e:d(t,e,a),get c(){return function(t,e,n){if(e.length){for(var r=[],a=t,i=t.name,c=n?2:1,s=e.length-1;s>=0;s-=c){var l={v:!1};try{var f=e[s].call(n?e[s-1]:void 0,a,{kind:"class",name:i,addInitializer:o(r,l)})}finally{l.v=!0}void 0!==f&&(u(5,f),a=f)}return[a,function(){for(var t=0;t<r.length;t++)r[t].call(a)}]}}(t,n,r)}}}},1815:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(6522);function a(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,r.Z)(t):"null"));return t}},5863:(t,e,n)=>{function r(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}n.d(e,{Z:()=>r})},175:(t,e,n)=>{function r(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}n.d(e,{Z:()=>r})},687:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(175);function a(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,(0,r.Z)(t,e,"get"))}},3395:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(5863);function a(t,e,n){(0,r.Z)(t,e),e.set(t,n)}},381:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(175);function a(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,(0,r.Z)(t,e,"set"),n),n}},6522:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{Z:()=>r})},7993:(t,e,n)=>{n.d(e,{OZ:()=>o});var r=n(8353),a=n(5062);function o(t,e,n,c){var s=[],u=[],l=0;return t.forEach((t=>{if(t.key=""===c?"".concat(l):"".concat(c,".").concat(l),function(t){return"group"===t.type}(t)||function(t,e){return Boolean("subMenu"===t.type||void 0)}(t)){var f=o(t.items,e,n,t.key);s.push(...f.selectedKeys),(f.selectedKeys.length||t.defaultExpanded)&&u.push(t.key),u.push(...f.openedKeys)}else(function(t,e,n){if(!t.to)return!1;var o="object"==typeof t.to?t.to:(0,r.parsePath)(t.to),c=o.pathname.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),s=!!(0,a.matchPath)(e,{path:c,exact:t.exact});if(!s&&Array.isArray(t.activeIncludes))for(var u of t.activeIncludes){var l,f=void 0,h=u.includes("?");if(h&&(f=(0,r.parsePath)(u)),(s=!!(0,a.matchPath)(e,{path:h?f.pathname:u,exact:!0}))&&null!==(l=f)&&void 0!==l&&l.search&&(s=i(n,f.search)),s)break}if(s&&Array.isArray(t.activeExcludes))for(var d of t.activeExcludes)if(!(s=!(0,a.matchPath)(e,{path:d,exact:!0})))break;return s&&t.activeMatchSearch&&(s=i(n,o.search)),s})(t,e,n)&&s.push(String(t.key));l+=1})),s.length&&""!==c&&u.push(c),{selectedKeys:s,openedKeys:u}}function i(t,e){var n=new URLSearchParams(t),r=new URLSearchParams(e);for(var[a,o]of r.entries())if(n.get(a)!==o)return!1;return!0}}}]);
//# sourceMappingURL=workbench-action-list.b96a46ed.js.map