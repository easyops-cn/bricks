{"version":3,"file":"chunks/chat-conversation.f9dbc32c.js","mappings":"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","sources":["webpack:///./src/chat-conversation/MessageComponent.tsx","webpack:///./src/chat-conversation/index.tsx","webpack:///./src/chat-conversation/styles.shadow.css","webpack:///../../shared/markdown/dist/esm/prism-tomorrow.css","webpack:///../../node_modules/css-loader/dist/runtime/api.js","webpack:///../../node_modules/css-loader/dist/runtime/noSourceMaps.js","webpack:///../../node_modules/classnames/index.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/setFunctionName.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/applyDecs2311.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/assertClassBrand.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/checkInRHS.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/checkPrivateRedeclaration.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/classPrivateGetter.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/classPrivateMethodInitSpec.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack:///../../node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///../../src/MarkdownComponent.tsx","webpack:///../../src/rehypePrism.ts"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport classNames from \"classnames\";\nimport { MarkdownComponent } from \"@next-shared/markdown\";\nimport { wrapBrick } from \"@next-core/react-element\";\nimport type { AvatarProps, EoAvatar } from \"@next-bricks/basic/avatar\";\nimport type { Message } from \"./index\";\n\nconst WrappedAvatar = wrapBrick<EoAvatar, AvatarProps>(\"eo-avatar\");\n\nexport interface MessageComponentProps {\n  message: Message;\n}\n\ntype MessageChunk =\n  | MessageChunkPlain\n  | MessageChunkMarkdown\n  | MessageChunkCommand;\n\ninterface MessageChunkPlain {\n  type: \"plain\";\n  content: string;\n}\n\ninterface MessageChunkMarkdown {\n  type: \"markdown\";\n  content: string;\n}\n\ninterface MessageChunkCommand {\n  type: \"command\";\n  command: string;\n  content: string;\n  raw: string;\n}\n\nexport function MessageComponent({ message }: MessageComponentProps) {\n  const messageChunks = useMemo(() => {\n    const chunks: MessageChunk[] = [];\n\n    if (message.role === \"assistant\") {\n      const chunkRegExp =\n        /(?:^|\\n)```(easy_cmd_\\S+)\\n([\\s\\S]*?)\\n```(?:$|\\n)/gm;\n\n      let match: RegExpExecArray | null;\n      let lastIndex = 0;\n      while ((match = chunkRegExp.exec(message.content))) {\n        const [fullMatch, command, content] = match;\n        const start = match.index;\n        const previousText = message.content.slice(lastIndex, start).trim();\n        if (previousText.length > 0) {\n          chunks.push({\n            type: \"markdown\",\n            content: previousText,\n          });\n        }\n        chunks.push({\n          type: \"command\",\n          command,\n          content: content.trim(),\n          raw: fullMatch,\n        });\n        lastIndex = chunkRegExp.lastIndex;\n      }\n      const lastText = message.content.slice(lastIndex).trim();\n      if (lastText.length > 0) {\n        chunks.push({\n          type: \"markdown\",\n          content: lastText,\n        });\n      }\n    } else {\n      chunks.push({\n        type: \"plain\",\n        content: message.content,\n      });\n    }\n\n    return chunks;\n  }, [message.content, message.role]);\n\n  const contentRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    const contentElement = contentRef.current;\n    if (!contentElement) {\n      return;\n    }\n    setTimeout(() => {\n      const textingElements =\n        contentElement.parentElement.querySelectorAll(\".texting\");\n      for (const element of textingElements) {\n        element.classList.remove(\"texting\");\n      }\n      if (!message.partial) {\n        return;\n      }\n      // Find the last text element descendant of the message element,\n      // and apply a texting effect to it.\n      let current = contentElement as HTMLElement;\n      while (current) {\n        const lastChild = current.lastChild;\n        if (\n          lastChild?.nodeType === Node.ELEMENT_NODE &&\n          ((lastChild as HTMLElement)?.tagName !== \"DETAILS\" ||\n            (lastChild as HTMLDetailsElement).open)\n        ) {\n          current = lastChild as HTMLElement;\n        } else {\n          // Handle a special case: the last child is a text node without any\n          // non-whitespace content. In such case, we should apply the texting\n          // effect to the previous sibling element.\n          if (\n            lastChild?.nodeType === Node.TEXT_NODE &&\n            lastChild.textContent.trim().length === 0 &&\n            lastChild.previousSibling?.nodeType === Node.ELEMENT_NODE\n          ) {\n            current = lastChild.previousSibling as HTMLElement;\n          } else {\n            break;\n          }\n        }\n      }\n      current.classList.add(\"texting\");\n    }, 1);\n  }, [message.partial, message.content]);\n\n  return (\n    <div className={classNames(\"message\", { failed: message.failed })}>\n      <div className=\"avatar\">\n        <WrappedAvatar\n          icon={{\n            lib: \"easyops\",\n            icon: message.role === \"assistant\" ? \"robot\" : \"account\",\n          }}\n          size=\"small\"\n          className={`role-${message.role}`}\n        />\n      </div>\n      <div className=\"main\">\n        <div className=\"label\">\n          {message.role === \"assistant\" ? \"Assistant\" : \"You\"}\n        </div>\n        <div className=\"content\" ref={contentRef}>\n          {messageChunks.map((chunk, index) => (\n            <MessageChunkComponent key={index} chunk={chunk} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction MessageChunkComponent({ chunk }: { chunk: MessageChunk }) {\n  return (\n    <>\n      {chunk.type === \"markdown\" ? (\n        <div className=\"markdown\">\n          <MarkdownComponent content={chunk.content} />\n        </div>\n      ) : chunk.type === \"command\" ? (\n        <>\n          <details className=\"command\">\n            <summary>```{chunk.command}</summary>\n            <pre>\n              <code>{chunk.content}</code>\n            </pre>\n          </details>\n        </>\n      ) : (\n        <div className=\"plain\">{chunk.content}</div>\n      )}\n    </>\n  );\n}\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { createDecorators, type EventEmitter } from \"@next-core/element\";\nimport { ReactNextElement } from \"@next-core/react-element\";\nimport \"@next-core/theme\";\nimport type { BrickConf } from \"@next-core/types\";\nimport { MessageComponent } from \"./MessageComponent\";\nimport styleText from \"./styles.shadow.css\";\n\nconst { defineElement, property, event } = createDecorators();\n\nexport interface Message {\n  role: \"user\" | \"assistant\";\n  content: string;\n  key: number;\n  partial?: boolean;\n  failed?: boolean;\n}\n\nexport interface ChatConversationProps {\n  messages?: Message[];\n  errorBoundary?: boolean;\n}\n\ntype StoryboardChunk = StoryboardChunkBlock | StoryboardChunkBlockItem;\n\ninterface StoryboardChunkBlock {\n  type: \"block\";\n  uuid: string;\n  children: string[];\n  name: string;\n  seq: number;\n  hasContainer?: boolean;\n}\n\ninterface StoryboardChunkBlockItem {\n  type: \"item\";\n  uuid: string;\n  storyboard?: BrickConf;\n}\n\n/**\n * 用于 Visual Builder 的智能聊天对话列表\n */\nexport\n@defineElement(\"visual-builder.chat-conversation\", {\n  styleTexts: [styleText],\n})\nclass ChatConversation\n  extends ReactNextElement\n  implements ChatConversationProps\n{\n  @property({ attribute: false })\n  accessor messages: Message[] | undefined;\n\n  @property({ type: Boolean })\n  accessor errorBoundary: boolean | undefined;\n\n  @event({ type: \"storyboard.update\" })\n  accessor #storyboardUpdate!: EventEmitter<BrickConf[]>;\n\n  #handleStoryboardUpdate = (storyboard: BrickConf[]) => {\n    this.#storyboardUpdate.emit(storyboard);\n  };\n\n  render() {\n    return (\n      <ChatConversationComponent\n        host={this}\n        messages={this.messages}\n        errorBoundary={this.errorBoundary}\n        onStoryboardUpdate={this.#handleStoryboardUpdate}\n      />\n    );\n  }\n}\n\nexport interface ChatConversationComponentProps extends ChatConversationProps {\n  host: Element;\n  onStoryboardUpdate?: (storyboard: BrickConf[]) => void;\n}\n\nexport function ChatConversationComponent({\n  messages,\n  host,\n  errorBoundary,\n  onStoryboardUpdate,\n}: ChatConversationComponentProps) {\n  const chunkRegExp = useMemo(\n    () =>\n      /(?:^|\\n)```easy_cmd_vb_block_(page|storyboard)\\n([\\s\\S]*?)\\n```(?:$|\\n)/gm,\n    []\n  );\n  const lastIndexMapRef = useRef(new Map<number, number>());\n  const [chunks, setChunks] = useState<StoryboardChunk[]>([]);\n  const manualScrolledRef = useRef(false);\n\n  useEffect(() => {\n    for (const message of messages ?? []) {\n      if (message.role !== \"assistant\") {\n        continue;\n      }\n      chunkRegExp.lastIndex = lastIndexMapRef.current.get(message.key) ?? 0;\n      let match: RegExpExecArray | null;\n      const newChunks: StoryboardChunk[] = [];\n      let newPage = false;\n      while ((match = chunkRegExp.exec(message.content))) {\n        lastIndexMapRef.current.set(message.key, chunkRegExp.lastIndex);\n        const [, type, content] = match;\n        try {\n          const parsed = JSON.parse(content) as unknown;\n          if (type === \"page\") {\n            newPage = true;\n            newChunks.push(\n              ...(parsed as (StoryboardChunkBlock | StoryboardChunkBlockItem)[])\n            );\n          } else {\n            newChunks.push({\n              ...(parsed as StoryboardChunkBlockItem),\n              type: \"item\",\n            });\n          }\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          console.error(\"parse storyboard failed:\", e);\n        }\n      }\n      if (newPage) {\n        setChunks(newChunks);\n      } else if (newChunks.length > 0) {\n        setChunks((prev) => [...prev, ...newChunks]);\n      }\n    }\n  }, [chunkRegExp, messages]);\n\n  const [storyboard, setStoryboard] = useState<BrickConf[]>([]);\n\n  useEffect(() => {\n    const blocks = [];\n    const storyboardMap = new Map<string, BrickConf>();\n    for (const chunk of chunks) {\n      if (chunk.type === \"block\") {\n        blocks.push(chunk);\n      } else if (chunk.storyboard) {\n        storyboardMap.set(chunk.uuid, chunk.storyboard);\n      }\n    }\n\n    // Sort by seq ascent\n    blocks.sort((a, b) => a.seq - b.seq);\n\n    const contentLayout: BrickConf = {\n      brick: \"eo-content-layout\",\n      children: [],\n    };\n    const main: BrickConf = {\n      brick: \"eo-main-view\",\n      children: [\n        {\n          brick: \"eo-page-title\",\n          slot: \"pageTitle\",\n          properties: {\n            pageTitle: \"测试页面\",\n          },\n        },\n      ],\n    };\n\n    let hasContent = false;\n    for (const block of blocks) {\n      // No container\n      if (block.name === \"全局操作区\") {\n        for (const child of block.children) {\n          const childBrick = storyboardMap.get(child);\n          if (childBrick) {\n            main.children.push({\n              ...childBrick,\n              properties: {\n                ...childBrick.properties,\n                slot: undefined,\n              },\n              errorBoundary,\n              slot: \"toolbar\",\n              iid: `item:${child}`,\n              meta: {\n                type: \"item\",\n                uuid: child,\n                block: {\n                  uuid: block.uuid,\n                  name: block.name,\n                },\n              },\n            } as BrickConf);\n            hasContent = true;\n          }\n        }\n      } else {\n        const rawBrick = storyboardMap.get(block.uuid);\n        if (rawBrick) {\n          const brick: BrickConf = {\n            ...rawBrick,\n            children: [],\n            errorBoundary,\n            iid: `block:${block.uuid}`,\n            meta: {\n              type: \"block\",\n              uuid: block.uuid,\n              name: block.name,\n            },\n          } as BrickConf;\n          hasContent = true;\n          contentLayout.children.push(brick);\n          for (const child of block.children) {\n            const childBrick = storyboardMap.get(child);\n            if (childBrick) {\n              brick.children.push({\n                ...childBrick,\n                errorBoundary,\n                iid: `item:${child}`,\n                meta: {\n                  type: \"item\",\n                  uuid: child,\n                },\n              } as BrickConf);\n            }\n          }\n        } else if (!block.hasContainer) {\n          for (const child of block.children) {\n            const childBrick = storyboardMap.get(child);\n            if (childBrick) {\n              contentLayout.children.push({\n                ...childBrick,\n                errorBoundary,\n                iid: `item:${child}`,\n                meta: {\n                  type: \"item\",\n                  uuid: child,\n                },\n              } as BrickConf);\n              hasContent = true;\n            }\n          }\n        }\n      }\n    }\n\n    main.children.push(contentLayout);\n\n    setStoryboard((prev) =>\n      hasContent ? [main] : prev.length === 0 ? prev : []\n    );\n  }, [chunks, errorBoundary]);\n\n  useEffect(() => {\n    onStoryboardUpdate?.(storyboard);\n  }, [onStoryboardUpdate, storyboard]);\n\n  const verticalScrollParent = useMemo(() => {\n    // Lookup the nearest scrollable parent (on axis y)\n    let current = host;\n    while (current) {\n      const overflowY = getComputedStyle(current, null).getPropertyValue(\n        \"overflow-y\"\n      );\n      if (overflowY === \"auto\" || overflowY === \"scroll\") {\n        return current;\n      }\n      if (current.parentNode instanceof ShadowRoot) {\n        current = current.parentNode.host;\n      } else if (current.parentNode instanceof Element) {\n        current = current.parentNode;\n      } else {\n        break;\n      }\n    }\n    return document.scrollingElement || document.documentElement;\n  }, [host]);\n\n  useEffect(() => {\n    if (manualScrolledRef.current) {\n      return;\n    }\n    setTimeout(() => {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n      verticalScrollParent.scrollTo(0, verticalScrollParent.scrollHeight!);\n    }, 1);\n  }, [messages, verticalScrollParent]);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      manualScrolledRef.current =\n        verticalScrollParent.scrollTop +\n          verticalScrollParent.clientHeight! +\n          6 <\n        verticalScrollParent.scrollHeight;\n    };\n    verticalScrollParent.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      verticalScrollParent.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [verticalScrollParent]);\n\n  return (\n    <>\n      {messages?.map((message, index) => (\n        <MessageComponent\n          key={message.key ?? `index-${index}`}\n          message={message}\n        />\n      ))}\n    </>\n  );\n}\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[0]!../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../../../shared/markdown/dist/esm/prism-tomorrow.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host{display:block}:host([hidden]){display:none}*{box-sizing:border-box}.message{display:flex;gap:8px}.main{flex:1;min-width:0}.label{font-weight:bold;line-height:28px}.message:not(:last-child){margin-bottom:2em}.invisible-dots{opacity:0}.failed .content{color:var(--color-error)}.command:not(:first-child){margin-top:1em}.command:not(:last-child){margin-bottom:1em}pre{white-space:pre-wrap;background-color:var(--palette-gray-3);border-radius:6px;padding:1em}.markdown > :first-child{margin-top:0}.markdown > :last-child{margin-bottom:0}.avatar{align-self:flex-start;display:flex;align-items:center;justify-content:center}.texting::after{content:\"   \";animation:texting 2s infinite;white-space:pre}@keyframes texting{0%{content:\"   \"}25%{content:\".  \"}50%{content:\".. \"}75%{content:\"...\"}100%{content:\"   \"}}pre[class*=\"language-\"]{overflow:visible}pre[class*=\"language-\"],\ncode[class*=\"language-\"]{white-space:pre-wrap}eo-avatar.role-assistant::part(avatar-icon){background-color:var(--palette-blue-5)}.content{word-wrap:break-word}.plain{white-space:pre-wrap}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[0]!../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../../../node_modules/prismjs/themes/prism-tomorrow.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___.toString();\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (i) {\n  return i[1];\n};","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import _typeof from \"./typeof.js\";\nexport default function setFunctionName(e, t, n) {\n  \"symbol\" == _typeof(t) && (t = (t = t.description) ? \"[\" + t + \"]\" : \"\");\n  try {\n    Object.defineProperty(e, \"name\", {\n      configurable: !0,\n      value: n ? n + \" \" + t : t\n    });\n  } catch (e) {}\n  return e;\n}","import _typeof from \"./typeof.js\";\nimport checkInRHS from \"./checkInRHS.js\";\nimport setFunctionName from \"./setFunctionName.js\";\nimport toPropertyKey from \"./toPropertyKey.js\";\nexport default function applyDecs2311(e, t, n, r, o, i) {\n  var a,\n    c,\n    u,\n    s,\n    f,\n    l,\n    p,\n    d = Symbol.metadata || Symbol[\"for\"](\"Symbol.metadata\"),\n    m = Object.defineProperty,\n    h = Object.create,\n    y = [h(null), h(null)],\n    v = t.length;\n  function g(t, n, r) {\n    return function (o, i) {\n      n && (i = o, o = e);\n      for (var a = 0; a < t.length; a++) i = t[a].apply(o, r ? [i] : []);\n      return r ? i : o;\n    };\n  }\n  function b(e, t, n, r) {\n    if (\"function\" != typeof e && (r || void 0 !== e)) throw new TypeError(t + \" must \" + (n || \"be\") + \" a function\" + (r ? \"\" : \" or undefined\"));\n    return e;\n  }\n  function applyDec(e, t, n, r, o, i, u, s, f, l, p) {\n    function d(e) {\n      if (!p(e)) throw new TypeError(\"Attempted to access private element on non-instance\");\n    }\n    var h = [].concat(t[0]),\n      v = t[3],\n      w = !u,\n      D = 1 === o,\n      S = 3 === o,\n      j = 4 === o,\n      E = 2 === o;\n    function I(t, n, r) {\n      return function (o, i) {\n        return n && (i = o, o = e), r && r(o), P[t].call(o, i);\n      };\n    }\n    if (!w) {\n      var P = {},\n        k = [],\n        F = S ? \"get\" : j || D ? \"set\" : \"value\";\n      if (f ? (l || D ? P = {\n        get: setFunctionName(function () {\n          return v(this);\n        }, r, \"get\"),\n        set: function set(e) {\n          t[4](this, e);\n        }\n      } : P[F] = v, l || setFunctionName(P[F], r, E ? \"\" : F)) : l || (P = Object.getOwnPropertyDescriptor(e, r)), !l && !f) {\n        if ((c = y[+s][r]) && 7 != (c ^ o)) throw Error(\"Decorating two elements with the same name (\" + P[F].name + \") is not supported yet\");\n        y[+s][r] = o < 3 ? 1 : o;\n      }\n    }\n    for (var N = e, O = h.length - 1; O >= 0; O -= n ? 2 : 1) {\n      var z = b(h[O], \"A decorator\", \"be\", !0),\n        A = n ? h[O - 1] : void 0,\n        H = {},\n        K = {\n          kind: [\"field\", \"accessor\", \"method\", \"getter\", \"setter\", \"class\"][o],\n          name: r,\n          metadata: a,\n          addInitializer: function (e, t) {\n            if (e.v) throw Error(\"attempted to call addInitializer after decoration was finished\");\n            b(t, \"An initializer\", \"be\", !0), i.push(t);\n          }.bind(null, H)\n        };\n      if (w) c = z.call(A, N, K), H.v = 1, b(c, \"class decorators\", \"return\") && (N = c);else if (K[\"static\"] = s, K[\"private\"] = f, c = K.access = {\n        has: f ? p.bind() : function (e) {\n          return r in e;\n        }\n      }, j || (c.get = f ? E ? function (e) {\n        return d(e), P.value;\n      } : I(\"get\", 0, d) : function (e) {\n        return e[r];\n      }), E || S || (c.set = f ? I(\"set\", 0, d) : function (e, t) {\n        e[r] = t;\n      }), N = z.call(A, D ? {\n        get: P.get,\n        set: P.set\n      } : P[F], K), H.v = 1, D) {\n        if (\"object\" == _typeof(N) && N) (c = b(N.get, \"accessor.get\")) && (P.get = c), (c = b(N.set, \"accessor.set\")) && (P.set = c), (c = b(N.init, \"accessor.init\")) && k.unshift(c);else if (void 0 !== N) throw new TypeError(\"accessor decorators must return an object with get, set, or init properties or undefined\");\n      } else b(N, (l ? \"field\" : \"method\") + \" decorators\", \"return\") && (l ? k.unshift(N) : P[F] = N);\n    }\n    return o < 2 && u.push(g(k, s, 1), g(i, s, 0)), l || w || (f ? D ? u.splice(-1, 0, I(\"get\", s), I(\"set\", s)) : u.push(E ? P[F] : b.call.bind(P[F])) : m(e, r, P)), N;\n  }\n  function w(e) {\n    return m(e, d, {\n      configurable: !0,\n      enumerable: !0,\n      value: a\n    });\n  }\n  return void 0 !== i && (a = i[d]), a = h(null == a ? null : a), f = [], l = function l(e) {\n    e && f.push(g(e));\n  }, p = function p(t, r) {\n    for (var i = 0; i < n.length; i++) {\n      var a = n[i],\n        c = a[1],\n        l = 7 & c;\n      if ((8 & c) == t && !l == r) {\n        var p = a[2],\n          d = !!a[3],\n          m = 16 & c;\n        applyDec(t ? e : e.prototype, a, m, d ? \"#\" + p : toPropertyKey(p), l, l < 2 ? [] : t ? s = s || [] : u = u || [], f, !!t, d, r, t && d ? function (t) {\n          return checkInRHS(t) === e;\n        } : o);\n      }\n    }\n  }, p(8, 0), p(0, 0), p(8, 1), p(0, 1), l(u), l(s), c = f, v || w(e), {\n    e: c,\n    get c() {\n      var n = [];\n      return v && [w(e = applyDec(e, [t], r, e.name, 5, n)), g(n, 1)];\n    }\n  };\n}","export default function _assertClassBrand(e, t, n) {\n  if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n  throw new TypeError(\"Private element is not present on this object\");\n}","import _typeof from \"./typeof.js\";\nexport default function _checkInRHS(e) {\n  if (Object(e) !== e) throw TypeError(\"right-hand side of 'in' should be an object, got \" + (null !== e ? _typeof(e) : \"null\"));\n  return e;\n}","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}","import assertClassBrand from \"./assertClassBrand.js\";\nexport default function _classPrivateFieldGet2(s, a) {\n  return s.get(assertClassBrand(s, a));\n}","import checkPrivateRedeclaration from \"./checkPrivateRedeclaration.js\";\nexport default function _classPrivateFieldInitSpec(obj, privateMap, value) {\n  checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}","import assertClassBrand from \"./assertClassBrand.js\";\nexport default function _classPrivateFieldSet2(s, a, r) {\n  return s.set(assertClassBrand(s, a), r), r;\n}","import assertClassBrand from \"./assertClassBrand.js\";\nexport default function _classPrivateGetter(s, r, a) {\n  return a(assertClassBrand(s, r));\n}","import checkPrivateRedeclaration from \"./checkPrivateRedeclaration.js\";\nexport default function _classPrivateMethodInitSpec(obj, privateSet) {\n  checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import { useEffect, useState } from \"react\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport { unified } from \"unified\";\nimport remarkParse from \"remark-parse\";\nimport remarkToRehype from \"remark-rehype\";\nimport rehypeReact, { Options as RehypeReactOptions } from \"rehype-react\";\nimport { rehypePrism } from \"./rehypePrism.js\";\n\nconst production = { Fragment, jsx, jsxs };\n\nexport interface MarkdownComponentProps {\n  content?: string;\n}\n\n// Reference https://github.com/remarkjs/react-remark/blob/39553e5f5c9e9b903bebf261788ff45130668de0/src/index.ts\nexport function MarkdownComponent({ content }: MarkdownComponentProps) {\n  const [reactContent, setReactContent] = useState<JSX.Element | null>(null);\n\n  useEffect(() => {\n    let ignore = false;\n    unified()\n      .use(remarkParse)\n      .use(remarkToRehype)\n      .use([rehypePrism])\n      .use(rehypeReact, production as RehypeReactOptions)\n      .process(content)\n      .then((vFile) => {\n        if (!ignore) {\n          setReactContent(vFile.result);\n        }\n      })\n      .catch((error) => {\n        if (!ignore) {\n          // eslint-disable-next-line no-console\n          console.error(\"Convert markdown failed:\", error);\n          setReactContent(null);\n        }\n      });\n    return () => {\n      ignore = true;\n    };\n  }, [content]);\n\n  return reactContent;\n}\n","import { visit } from \"unist-util-visit\";\nimport { toString } from \"hast-util-to-string\";\nimport { refractor, type RefractorElement } from \"refractor\";\n\n// Reference https://github.com/mapbox/rehype-prism\nexport function rehypePrism() {\n  function visitor(\n    node: RefractorElement,\n    _index: number | undefined,\n    parent: RefractorElement | undefined\n  ) {\n    if (!parent || parent.tagName !== \"pre\" || node.tagName !== \"code\") {\n      return;\n    }\n\n    const lang = getLanguage(node);\n\n    if (lang === null) {\n      return;\n    }\n\n    let result;\n    try {\n      parent.properties.className = (\n        (parent.properties.className as string[]) || []\n      ).concat(\"language-\" + lang);\n      result = refractor.highlight(toString(node), lang);\n    } catch {\n      return;\n    }\n\n    node.children = result.children;\n  }\n  return (tree: RefractorElement) => {\n    visit(tree, \"element\", visitor);\n  };\n}\n\nfunction getLanguage(node: RefractorElement) {\n  const className = (node.properties.className as string[]) || [];\n\n  for (const classListItem of className) {\n    if (classListItem.slice(0, 9) === \"language-\") {\n      return classListItem.slice(9).toLowerCase();\n    }\n  }\n\n  return null;\n}\n"],"names":["WrappedAvatar","wrapBrick","MessageComponent","_ref","message","messageChunks","useMemo","chunks","role","chunkRegExp","match","lastIndex","exec","content","fullMatch","command","start","index","previousText","slice","trim","length","push","type","raw","lastText","contentRef","useRef","useEffect","contentElement","current","setTimeout","textingElements","parentElement","querySelectorAll","element","classList","remove","partial","lastChild","nodeType","Node","ELEMENT_NODE","tagName","open","_lastChild$previousSi","TEXT_NODE","textContent","previousSibling","add","React","className","classNames","failed","icon","lib","size","ref","map","chunk","MessageChunkComponent","key","_ref2","MarkdownComponent","defineElement","property","event","createDecorators","_ChatConversation","_A","WeakMap","_B","_C","_ChatConversation_brand","WeakSet","_handleStoryboardUpdate","ChatConversation","ReactNextElement","constructor","arguments","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","_init_messages","_init_extra_messages","_init_errorBoundary","_init_extra_errorBoundary","_init_storyboardUpdate","_init_extra_storyboardUpdate","storyboard","_classPrivateGetter","this","_get_storyboardUpdate","emit","messages","_classPrivateFieldGet","v","_classPrivateFieldSet","errorBoundary","render","ChatConversationComponent","host","onStoryboardUpdate","lastIndexMapRef","Map","setChunks","useState","manualScrolledRef","get","newChunks","newPage","set","parsed","JSON","parse","e","console","error","prev","setStoryboard","blocks","storyboardMap","uuid","sort","a","b","seq","contentLayout","brick","children","main","slot","properties","pageTitle","hasContent","block","name","child","childBrick","undefined","iid","meta","rawBrick","hasContainer","verticalScrollParent","overflowY","getComputedStyle","getPropertyValue","parentNode","ShadowRoot","Element","document","scrollingElement","documentElement","scrollTo","scrollHeight","handleScroll","scrollTop","clientHeight","addEventListener","removeEventListener","_ChatConversation2","_set_storyboardUpdate","c","_initClass","_applyDecs","styleTexts","styleText","attribute","Boolean","o","_","has","_checkInRHS","___CSS_LOADER_EXPORT___","i","module","id","toString","exports","cssWithMappingToString","list","item","needLayer","concat","join","modules","media","dedupe","supports","layer","alreadyImportedModules","k","_k","hasOwn","hasOwnProperty","classes","arg","appendClass","parseValue","Array","isArray","apply","Object","prototype","includes","call","value","newClass","default","setFunctionName","t","n","description","defineProperty","configurable","applyDecs2311","r","u","s","f","l","p","d","Symbol","metadata","m","h","create","y","g","TypeError","applyDec","w","D","S","j","E","I","P","F","getOwnPropertyDescriptor","Error","N","O","z","A","H","K","kind","addInitializer","bind","access","init","unshift","splice","enumerable","toPropertyKey","checkInRHS","_assertClassBrand","_checkPrivateRedeclaration","obj","privateCollection","_classPrivateFieldGet2","privateMap","_classPrivateFieldSet2","privateSet","toPrimitive","String","_typeof","iterator","production","Fragment","jsx","jsxs","reactContent","setReactContent","ignore","unified","use","remarkParse","remarkToRehype","rehypePrism","rehypeReact","process","then","vFile","result","catch","visitor","node","_index","parent","lang","classListItem","toLowerCase","getLanguage","refractor","highlight","tree","visit"],"sourceRoot":""}