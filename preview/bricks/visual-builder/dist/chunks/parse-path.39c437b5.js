"use strict";(globalThis.webpackChunk_next_bricks_visual_builder=globalThis.webpackChunk_next_bricks_visual_builder||[]).push([[6620],{3227:(e,t,n)=>{n.r(t),n.d(t,{parsePath:()=>o});var r=n(3078),i=n(1030),a=n(264);async function o(e,t){const n=[];return{regexp:(0,a.MM)(e,n,(0,i.defaults)(t,{end:!1,strict:!1,sensitive:!0})),keys:n}}customElements.define("visual-builder.parse-path",(0,r.createProviderClass)(o))},264:(e,t,n)=>{function r(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}function a(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var a=n.strict,o=void 0!==a&&a,c=n.start,f=void 0===c||c,s=n.end,u=void 0===s||s,p=n.encode,d=void 0===p?function(e){return e}:p,l=n.delimiter,v=void 0===l?"/#?":l,h=n.endsWith,x="[".concat(r(void 0===h?"":h),"]|$"),E="[".concat(r(v),"]"),g=f?"^":"",m=0,w=e;m<w.length;m++){var y=w[m];if("string"==typeof y)g+=r(d(y));else{var A=r(d(y.prefix)),C=r(d(y.suffix));if(y.pattern)if(t&&t.push(y),A||C)if("+"===y.modifier||"*"===y.modifier){var T="*"===y.modifier?"?":"";g+="(?:".concat(A,"((?:").concat(y.pattern,")(?:").concat(C).concat(A,"(?:").concat(y.pattern,"))*)").concat(C,")").concat(T)}else g+="(?:".concat(A,"(").concat(y.pattern,")").concat(C,")").concat(y.modifier);else{if("+"===y.modifier||"*"===y.modifier)throw new TypeError('Can not repeat "'.concat(y.name,'" without a prefix and suffix'));g+="(".concat(y.pattern,")").concat(y.modifier)}else g+="(?:".concat(A).concat(C,")").concat(y.modifier)}}if(u)o||(g+="".concat(E,"?")),g+=n.endsWith?"(?=".concat(x,")"):"$";else{var R=e[e.length-1],b="string"==typeof R?E.indexOf(R[R.length-1])>-1:void 0===R;o||(g+="(?:".concat(E,"(?=").concat(x,"))?")),b||(g+="(?=".concat(E,"|").concat(x,")"))}return new RegExp(g,i(n))}(function(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var i=1,a="";if("?"===e[c=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(c));for(;c<e.length;)if("\\"!==e[c]){if(")"===e[c]){if(0==--i){c++;break}}else if("("===e[c]&&(i++,"?"!==e[c+1]))throw new TypeError("Capturing groups are not allowed at ".concat(c));a+=e[c++]}else a+=e[c++]+e[c++];if(i)throw new TypeError("Unbalanced pattern at ".concat(n));if(!a)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:a}),n=c}else{for(var o="",c=n+1;c<e.length;){var f=e.charCodeAt(c);if(!(f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||95===f))break;o+=e[c++]}if(!o)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:o}),n=c}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),i=t.prefixes,a=void 0===i?"./":i,o=t.delimiter,c=void 0===o?"/#?":o,f=[],s=0,u=0,p="",d=function(e){if(u<n.length&&n[u].type===e)return n[u++].value},l=function(e){var t=d(e);if(void 0!==t)return t;var r=n[u],i=r.type,a=r.index;throw new TypeError("Unexpected ".concat(i," at ").concat(a,", expected ").concat(e))},v=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t},h=function(e){var t=f[f.length-1],n=e||(t&&"string"==typeof t?t:"");if(t&&!n)throw new TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!n||function(e){for(var t=0,n=c;t<n.length;t++){var r=n[t];if(e.indexOf(r)>-1)return!0}return!1}(n)?"[^".concat(r(c),"]+?"):"(?:(?!".concat(r(n),")[^").concat(r(c),"])+?")};u<n.length;){var x=d("CHAR"),E=d("NAME"),g=d("PATTERN");if(E||g){var m=x||"";-1===a.indexOf(m)&&(p+=m,m=""),p&&(f.push(p),p=""),f.push({name:E||s++,prefix:m,suffix:"",pattern:g||h(m),modifier:d("MODIFIER")||""})}else{var w=x||d("ESCAPED_CHAR");if(w)p+=w;else if(p&&(f.push(p),p=""),d("OPEN")){m=v();var y=d("NAME")||"",A=d("PATTERN")||"",C=v();l("CLOSE"),f.push({name:y||(A?s++:""),pattern:y&&!A?h(m):A,prefix:m,suffix:C,modifier:d("MODIFIER")||""})}else l("END")}}return f}(e,n),t,n)}function o(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(e.source);i;)t.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var r=e.map((function(e){return o(e,t,n).source}));return new RegExp("(?:".concat(r.join("|"),")"),i(n))}(e,t,n):a(e,t,n)}n.d(t,{MM:()=>o})}}]);
//# sourceMappingURL=parse-path.39c437b5.js.map