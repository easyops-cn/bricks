/*! For license information please see page-arch-node.eadf238c.js.LICENSE.txt */
(globalThis.webpackChunk_next_bricks_visual_builder=globalThis.webpackChunk_next_bricks_visual_builder||[]).push([[4892,2052],{5014:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PageArchNode:()=>we,PageArchNodeComponent:()=>Ze});var o,i=n(4635),r=n(918),a=n(6902),l=n(5536),s=n(6121),c=n(829),u=n(2740),d=n(8769),h=n.n(d),p=n(300),b=n(4295),f=(n(6477),n(3373)),g=n.n(f),v=n(2381);let m,A,y,x,k,w,C,E,N,M,S,W,D,j,P,O,z,T,_,F,B,L,R,X,Y,I,K,q,G,H,J,Q,U,V,Z,$,ee,te,ne,oe,ie,re,ae,le,se,ce,ue,de,he,pe,be,fe,ge;const{defineElement:ve,property:me,event:Ae}=(0,p.createDecorators)(),ye=(0,b.wrapBrick)("eo-icon"),xe=(0,b.wrapBrick)("eo-tooltip"),ke=new Set;let we;var Ce=new WeakMap,Ee=new WeakMap,Ne=new WeakMap,Me=new WeakMap,Se=new WeakMap,We=new WeakMap,De=new WeakMap,je=new WeakMap,Pe=new WeakMap,Oe=new WeakSet,ze=new WeakMap,Te=new WeakMap,_e=new WeakMap,Fe=new WeakMap,Be=new WeakMap,Le=new WeakMap,Re=new WeakMap,Xe=new WeakMap,Ye=new WeakMap,Ie=new WeakMap,Ke=new WeakMap,qe=new WeakMap,Ge=new WeakMap,He=new WeakMap,Je=new WeakMap,Qe=new WeakMap,Ue=new WeakMap;class Ve extends b.ReactNextElement{constructor(){super(...arguments),(0,i.A)(this,Oe),(0,r.A)(this,Ce,A(this)),(0,r.A)(this,Ee,(y(this),x(this))),(0,r.A)(this,Ne,(k(this),w(this))),(0,r.A)(this,Me,(C(this),E(this))),(0,r.A)(this,Se,(N(this),M(this))),(0,r.A)(this,We,(S(this),W(this))),(0,r.A)(this,De,(D(this),j(this))),(0,r.A)(this,je,(P(this),O(this))),(0,r.A)(this,Pe,(z(this),T(this))),(0,r.A)(this,ze,(B(this),e=>{(0,l.A)(Oe,this,_).emit(e)})),(0,r.A)(this,Te,L(this)),(0,r.A)(this,_e,(Y(this),e=>{(0,l.A)(Oe,this,R).emit(e)})),(0,r.A)(this,Fe,I(this)),(0,r.A)(this,Be,(G(this),()=>{(0,l.A)(Oe,this,K).emit()})),(0,r.A)(this,Le,H(this)),(0,r.A)(this,Re,(U(this),()=>{(0,l.A)(Oe,this,J).emit()})),(0,r.A)(this,Xe,V(this)),(0,r.A)(this,Ye,(ee(this),e=>{(0,l.A)(Oe,this,Z).emit(e)})),(0,r.A)(this,Ie,te(this)),(0,r.A)(this,Ke,(ie(this),()=>{(0,l.A)(Oe,this,ne).emit()})),(0,r.A)(this,qe,re(this)),(0,r.A)(this,Ge,(se(this),e=>{(0,l.A)(Oe,this,ae).emit(e)})),(0,r.A)(this,He,ce(this)),(0,r.A)(this,Je,(he(this),e=>{(0,l.A)(Oe,this,ue).emit(e)})),(0,r.A)(this,Qe,pe(this)),(0,r.A)(this,Ue,(ge(this),e=>{(0,l.A)(Oe,this,be).emit(e)}))}get label(){return(0,c.A)(Ce,this)}set label(e){(0,s.A)(Ce,this,e)}get type(){return(0,c.A)(Ee,this)}set type(e){(0,s.A)(Ee,this,e)}get external(){return(0,c.A)(Ne,this)}set external(e){(0,s.A)(Ne,this,e)}get subNodes(){return(0,c.A)(Me,this)}set subNodes(e){(0,s.A)(Me,this,e)}get active(){return(0,c.A)(Se,this)}set active(e){(0,s.A)(Se,this,e)}get notSynced(){return(0,c.A)(We,this)}set notSynced(e){(0,s.A)(We,this,e)}get disableChildAppend(){return(0,c.A)(De,this)}set disableChildAppend(e){(0,s.A)(De,this,e)}get autoFocusOnce(){return(0,c.A)(je,this)}set autoFocusOnce(e){(0,s.A)(je,this,e)}render(){return h().createElement(Ze,{label:this.label,type:this.type,external:this.external,subNodes:this.subNodes,autoFocusOnce:this.autoFocusOnce,onLabelEditingChange:(0,c.A)(ze,this),onLabelChange:(0,c.A)(_e,this),onNodeClick:(0,c.A)(Be,this),onNodeDoubleClick:(0,c.A)(Re,this),onNodeContextMenu:(0,c.A)(Ye,this),onChildAppend:(0,c.A)(Ke,this),onExternalClick:(0,c.A)(Ge,this),onSubNodeDoubleClick:(0,c.A)(Je,this),onSubNodeContextMenu:(0,c.A)(Ue,this)})}}function Ze(e){let{label:t,type:n,external:o,subNodes:i,autoFocusOnce:r,onLabelEditingChange:a,onLabelChange:l,onNodeClick:s,onNodeDoubleClick:c,onNodeContextMenu:u,onChildAppend:p,onExternalClick:b,onSubNodeDoubleClick:f,onSubNodeContextMenu:v}=e;const m="board"===n?"board":"page",[A,y]=(0,d.useState)(t),[x,k]=(0,d.useState)(!1),w=(0,d.useRef)(!1),[C,E]=(0,d.useState)(!1),N=(0,d.useRef)(null);(0,d.useEffect)((()=>{y(t)}),[t]);const M=(0,d.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),k(!0)}),[]);(0,d.useEffect)((()=>{r&&!ke.has(r)&&(ke.add(r),setTimeout((()=>{k(!0)}),1))}),[r]),(0,d.useEffect)((()=>{var e,t;x&&(null===(e=N.current)||void 0===e||e.focus({preventScroll:!0}),null===(t=N.current)||void 0===t||t.select())}),[x]),(0,d.useEffect)((()=>{w.current?null==a||a(x):w.current=!0}),[x,a]);const S=(0,d.useCallback)((e=>{y(e.target.value)}),[]),W=(0,d.useCallback)((e=>{const t=e.key||e.keyCode||e.which;var n;"Enter"!==t&&13!==t||null===(n=N.current)||void 0===n||n.blur()}),[]),D=(0,d.useCallback)((()=>{k(!1),E(!0)}),[]);(0,d.useEffect)((()=>{C&&(null==l||l(A),E(!1))}),[A,l,C]);const j=(0,d.useCallback)((e=>{e.stopPropagation(),null==p||p()}),[p]),P=(0,d.useCallback)((e=>{e.stopPropagation(),null==b||b(o)}),[o,b]),O=(0,d.useCallback)((e=>{e.stopPropagation()}),[]),z=38*Math.max(0,Math.floor(((null==i?void 0:i.length)??0)-3));return h().createElement(h().Fragment,null,h().createElement("div",{className:g()("node",m,{"editing-label":x}),style:{height:"board"===m?70:130+z},onClick:s,onDoubleClick:c,onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),null==u||u({clientX:e.clientX,clientY:e.clientY})}},h().createElement("input",{className:"label-input",value:A,ref:N,onChange:S,onKeyDown:W,onBlur:D,onDoubleClick:O,onContextMenu:O,onMouseDown:O}),h().createElement("div",{className:"label",onDoubleClick:M,onMouseDown:O},A),"board"===m?h().createElement("div",{className:"icon-container"},h().createElement(ye,{lib:"antd",icon:"unordered-list"})):h().createElement("div",{className:"thumbnail-container",style:{height:98+z}},h().createElement("div",{className:"thumbnail-placeholder"},h().createElement(ye,{lib:"antd",icon:"ellipsis"})),o&&h().createElement("div",{className:"external",onClick:P,onDoubleClick:O,onMouseDown:O},h().createElement(ye,{lib:"antd",icon:"desktop"}),h().createElement("span",{className:"external-label"},o.label)),null!=i&&i.length?h().createElement("div",{className:"sub-nodes"},i.map((e=>h().createElement($e,{key:e.id,subNode:e,onSubNodeDoubleClick:f,onSubNodeContextMenu:v})))):null)),h().createElement("div",{className:"add-button",role:"button",onClick:j,onMouseDown:O},h().createElement(ye,{lib:"fa",icon:"plus"})))}function $e(e){let{subNode:t,onSubNodeDoubleClick:n,onSubNodeContextMenu:o}=e;return h().createElement(xe,{key:t.id,content:t.label},h().createElement("div",{className:"sub-node",onDoubleClick:e=>{e.stopPropagation(),null==n||n(t)},onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),null==o||o({node:t,clientX:e.clientX,clientY:e.clientY})}},h().createElement("div",{className:"sub-node-skeleton-title"}),h().createElement("div",{className:"sub-node-skeleton-content"}),h().createElement("div",{className:"sub-node-skeleton-button"})))}o=Ve,({e:[A,y,x,k,w,C,E,N,M,S,W,D,j,P,O,z,T,_,F,B,L,R,X,Y,I,K,q,G,H,J,Q,U,V,Z,$,ee,te,ne,oe,ie,re,ae,le,se,ce,ue,de,he,pe,be,fe,ge],c:[we,m]}=(0,u.A)(o,[ve("visual-builder.page-arch-node",{styleTexts:[v.A]})],[[me(),1,"label"],[me(),1,"type"],[me({attribute:!1}),1,"external"],[me({attribute:!1}),1,"subNodes"],[me({type:Boolean,render:!1}),1,"active"],[me({type:Boolean,render:!1}),1,"notSynced"],[me({type:Boolean,render:!1}),1,"disableChildAppend"],[me(),1,"autoFocusOnce"],[Ae({type:"label.editing.change"}),1,"labelEditingChange",e=>(0,c.A)(Pe,e),(e,t)=>(0,s.A)(Pe,e,t)],[Ae({type:"label.change"}),1,"labelChange",e=>(0,c.A)(Te,e),(e,t)=>(0,s.A)(Te,e,t)],[Ae({type:"node.click"}),1,"nodeClick",e=>(0,c.A)(Fe,e),(e,t)=>(0,s.A)(Fe,e,t)],[Ae({type:"node.dblclick"}),1,"nodeDoubleClick",e=>(0,c.A)(Le,e),(e,t)=>(0,s.A)(Le,e,t)],[Ae({type:"node.contextmenu"}),1,"nodeContextMenu",e=>(0,c.A)(Xe,e),(e,t)=>(0,s.A)(Xe,e,t)],[Ae({type:"child.append"}),1,"childAppend",e=>(0,c.A)(Ie,e),(e,t)=>(0,s.A)(Ie,e,t)],[Ae({type:"external.click"}),1,"externalClick",e=>(0,c.A)(qe,e),(e,t)=>(0,s.A)(qe,e,t)],[Ae({type:"subNode.dblclick"}),1,"subNodeDoubleClick",e=>(0,c.A)(He,e),(e,t)=>(0,s.A)(He,e,t)],[Ae({type:"subNode.contextmenu"}),1,"subNodeContextMenu",e=>(0,c.A)(Qe,e),(e,t)=>(0,s.A)(Qe,e,t)]],0,(e=>Ue.has((0,a.A)(e))),b.ReactNextElement)),m()},2381:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(6758),i=n.n(o),r=n(935),a=n.n(r)()(i());a.push([e.id,":host{--local-node-outline-style:solid;display:block}:host([hidden]){display:none}:host([not-synced]){--local-node-outline-style:dashed}*{box-sizing:border-box}.node{width:168px;max-width:none;height:130px;position:relative;display:flex;flex-direction:column;justify-content:space-between;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.node.board{height:70px;max-width:168px;width:-moz-fit-content;width:fit-content;padding-bottom:4px}.label,\n.label-input{width:100%;height:24px;padding:3px;border:none;line-height:18px;font-size:var(--sub-title-font-size-small);color:var(--color-header-text);font-weight:var(--font-weight-500);text-align:center;font-family:inherit;cursor:text;-webkit-user-select:text;user-select:text}.label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.node.editing-label .label{height:0}.node:not(.editing-label) .label-input{display:none}.add-button,\n.icon-container,\n.thumbnail-container,\n.thumbnail-placeholder{display:flex;align-items:center;justify-content:center}.thumbnail-container{height:98px;outline:1px var(--local-node-outline-style) var(--palette-gray-4);opacity:1;border:4px solid transparent;border-radius:4px;width:100%;position:relative;flex-direction:column}.thumbnail-placeholder{color:var(--palette-gray-5);font-size:36px;flex:1}.icon-container{font-size:20px;background-color:var(--palette-teal-6);color:var(--palette-gray-4);width:36px;height:36px;border-radius:50%;outline-offset:4px}:host([active]) .thumbnail-container,\n:host([active]) .icon-container{outline:2px var(--local-node-outline-style) var(--palette-blue-3)}:host(:not([active])) .node:hover .thumbnail-container,\n:host(:not([active])) .node:hover .icon-container{outline:1px var(--local-node-outline-style) var(--palette-blue-3)}.add-button{position:absolute;bottom:-26px;left:calc(50% - 12px);width:24px;height:24px;background:var(--palette-gray-3);color:var(--palette-gray-6);border-radius:50%;cursor:pointer}:host([not-synced]) .add-button,\n:host([disable-child-append]) .add-button,\n:host(:not([active])) .add-button{display:none}.add-button:hover{background:var(--palette-blue-5);color:var(--palette-gray-2)}.external{position:absolute;top:4px;left:4px;padding:0 10px;display:flex;align-items:center;gap:6px;background:var(--palette-purple-4);font-size:12px;line-height:20px;height:22px;cursor:pointer;color:var(--palette-gray-1);border-radius:9999px;right:4px;max-width:-moz-fit-content;max-width:fit-content}.external-label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.external:hover{background:var(--palette-purple-5)}.sub-nodes{display:grid;grid-template-columns:1fr 1fr 1fr;gap:6px;width:100%}.sub-node{background-color:var(--palette-gray-2);border-radius:4px;padding:6px;display:flex;flex-direction:column;justify-content:space-between;height:32px}.sub-node-skeleton-title{width:18px;height:4px;border-radius:2px;align-self:flex-start;background-color:var(--palette-gray-4)}.sub-node-skeleton-content{width:100%;height:4px;border-radius:2px;background-color:var(--palette-gray-4)}.sub-node-skeleton-button{width:18px;height:4px;border-radius:2px;align-self:flex-end;background-color:var(--palette-blue-3)}.sub-node:hover{background-color:var(--palette-gray-3)}.sub-node:hover .sub-node-skeleton-title,\n.sub-node:hover .sub-node-skeleton-content{background-color:var(--palette-gray-5)}.sub-node:hover .sub-node-skeleton-button{background-color:var(--palette-blue-4)}",""]);const l=a.toString()},935:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);o&&a[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},6758:e=>{"use strict";e.exports=function(e){return e[1]}},3373:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2740:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(7545),i=n(6902);function r(e,t,n){"symbol"==(0,o.A)(t)&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:n?n+" "+t:t})}catch(e){}return e}var a=n(1369);function l(e,t,n,l,s,c){var u,d,h,p,b,f,g,v=Symbol.metadata||Symbol.for("Symbol.metadata"),m=Object.defineProperty,A=Object.create,y=[A(null),A(null)],x=t.length;function k(t,n,o){return function(i,r){n&&(r=i,i=e);for(var a=0;a<t.length;a++)r=t[a].apply(i,o?[r]:[]);return o?r:i}}function w(e,t,n,o){if("function"!=typeof e&&(o||void 0!==e))throw new TypeError(t+" must "+(n||"be")+" a function"+(o?"":" or undefined"));return e}function C(e,t,n,i,a,l,s,c,h,p,b){function f(e){if(!b(e))throw new TypeError("Attempted to access private element on non-instance")}var g=[].concat(t[0]),v=t[3],A=!s,x=1===a,C=3===a,E=4===a,N=2===a;function M(t,n,o){return function(i,r){return n&&(r=i,i=e),o&&o(i),S[t].call(i,r)}}if(!A){var S={},W=[],D=C?"get":E||x?"set":"value";if(h?(p||x?S={get:r((function(){return v(this)}),i,"get"),set:function(e){t[4](this,e)}}:S[D]=v,p||r(S[D],i,N?"":D)):p||(S=Object.getOwnPropertyDescriptor(e,i)),!p&&!h){if((d=y[+c][i])&&7!=(d^a))throw Error("Decorating two elements with the same name ("+S[D].name+") is not supported yet");y[+c][i]=a<3?1:a}}for(var j=e,P=g.length-1;P>=0;P-=n?2:1){var O=w(g[P],"A decorator","be",!0),z=n?g[P-1]:void 0,T={},_={kind:["field","accessor","method","getter","setter","class"][a],name:i,metadata:u,addInitializer:function(e,t){if(e.v)throw Error("attempted to call addInitializer after decoration was finished");w(t,"An initializer","be",!0),l.push(t)}.bind(null,T)};if(A)d=O.call(z,j,_),T.v=1,w(d,"class decorators","return")&&(j=d);else if(_.static=c,_.private=h,d=_.access={has:h?b.bind():function(e){return i in e}},E||(d.get=h?N?function(e){return f(e),S.value}:M("get",0,f):function(e){return e[i]}),N||C||(d.set=h?M("set",0,f):function(e,t){e[i]=t}),j=O.call(z,x?{get:S.get,set:S.set}:S[D],_),T.v=1,x){if("object"==(0,o.A)(j)&&j)(d=w(j.get,"accessor.get"))&&(S.get=d),(d=w(j.set,"accessor.set"))&&(S.set=d),(d=w(j.init,"accessor.init"))&&W.unshift(d);else if(void 0!==j)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else w(j,(p?"field":"method")+" decorators","return")&&(p?W.unshift(j):S[D]=j)}return a<2&&s.push(k(W,c,1),k(l,c,0)),p||A||(h?x?s.splice(-1,0,M("get",c),M("set",c)):s.push(N?S[D]:w.call.bind(S[D])):m(e,i,S)),j}function E(e){return m(e,v,{configurable:!0,enumerable:!0,value:u})}return void 0!==c&&(u=c[v]),u=A(null==u?null:u),b=[],f=function(e){e&&b.push(k(e))},g=function(t,o){for(var r=0;r<n.length;r++){var l=n[r],c=l[1],u=7&c;if((8&c)==t&&!u==o){var d=l[2],f=!!l[3],g=16&c;C(t?e:e.prototype,l,g,f?"#"+d:(0,a.A)(d),u,u<2?[]:t?p=p||[]:h=h||[],b,!!t,f,o,t&&f?function(t){return(0,i.A)(t)===e}:s)}}},g(8,0),g(0,0),g(8,1),g(0,1),f(h),f(p),d=b,x||E(e),{e:d,get c(){var n=[];return x&&[E(e=C(e,[t],l,e.name,5,n)),k(n,1)]}}}},2559:(e,t,n)=>{"use strict";function o(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}n.d(t,{A:()=>o})},6902:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(7545);function i(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==e?(0,o.A)(e):"null"));return e}},2016:(e,t,n)=>{"use strict";function o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}n.d(t,{A:()=>o})},829:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(2559);function i(e,t){return e.get((0,o.A)(e,t))}},918:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(2016);function i(e,t,n){(0,o.A)(e,t),t.set(e,n)}},6121:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(2559);function i(e,t,n){return e.set((0,o.A)(e,t),n),n}},5536:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(2559);function i(e,t,n){return n((0,o.A)(e,t))}},4635:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(2016);function i(e,t){(0,o.A)(e,t),t.add(e)}},1369:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(7545);function i(e){var t=function(e,t){if("object"!=(0,o.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=(0,o.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,o.A)(t)?t:t+""}},7545:(e,t,n)=>{"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}n.d(t,{A:()=>o})}}]);
//# sourceMappingURL=page-arch-node.eadf238c.js.map