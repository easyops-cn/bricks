"use strict";(globalThis.webpackChunk_next_bricks_ai=globalThis.webpackChunk_next_bricks_ai||[]).push([[6129],{1943:(e,s,t)=>{t.r(s),t.d(s,{ChatView:()=>Se,ChatViewComponent:()=>Ie,LegacyChatViewComponent:()=>me});var i,n=t(4635),a=t(918),o=t(6902),h=t(5536),r=t(6121),l=t(829),d=t(2740),A=t(8769),c=t.n(A),w=t(300),u=t(4295),g=t(15),p=t(2046),k=t(2442),m=t(3830),I=t(205);let S,L,b,v,C,W,M,y,B,f,E,T,q,N,R,_,x,Q,F,V,D,H,O,P,Z,j,z,G,J,K,U,X,Y,$,ee,se,te,ie,ne,ae,oe,he,re,le,de,Ae,ce,we;t(6477),t(2896),t(3262);const{defineElement:ue,property:ge,method:pe,event:ke}=(0,w.createDecorators)();function me(e,s){let{agentId:t,robotId:i,sessionId:n,showAvatar:a,showSessionList:o=!0,readonly:h=!1,showLike:r=!0,showShare:l=!0,quickAnswerConfig:d,snippetList:w,enterInterval:u,debug:S=!1,useSpiltWord:L=!1,commandBricks:b,answerLanguage:v,inputToolbarBrick:C,showToolCalls:W,onSessionIdChange:M,onRobotIdChange:y,onQaFinish:B}=e;const{sessionEnd:f,sessionLoading:E,activeSessionId:T,msgEnd:q,msgLoading:N,msgList:R,sessionList:_,loading:x,chatting:Q,searchStr:F,toolNames:V,setAgent:D,handleIsLike:H,handleChat:O,stopChat:P,createSession:Z,deleteSession:j,updateSession:z,checkSession:G,setSearchStr:J,querySessionHistory:K}=(0,k.Fn)({agentId:t,robotId:i,sessionId:n,enterInterval:u,debug:S,answerLanguage:v,useSpiltWord:L,showToolCalls:W});return(0,A.useEffect)((()=>{var e;T&&(M(T),y(null===(e=_.find((e=>e.conversationId===T)))||void 0===e?void 0:e.robotId))}),[T,y,M,_]),(0,A.useEffect)((()=>{!Q&&T&&B(T)}),[Q]),c().createElement(g.t.Provider,{value:{sessionEnd:f,sessionLoading:E,activeSessionId:T,sessionList:_,msgEnd:q,msgLoading:N,msgList:R,chatting:Q,loading:x,searchStr:F,showLike:r,showShare:l,readonly:h,quickAnswerConfig:d,snippetList:w,commandBricks:b,showToolCalls:W,toolNames:V,setAgent:D,handleIsLike:H,handleChat:O,stopChat:P,createSession:Z,deleteSession:j,updateSession:z,checkSession:G,setSearchStr:J,querySessionHistory:K}},c().createElement("div",{className:"chat-view-container"},o&&c().createElement("div",{className:"chat-view-selector"},c().createElement(m.Z,null)),c().createElement("div",{className:"chat-view-content"},c().createElement(p.M,{showAvatar:a}),!h&&c().createElement(I.D,{inputToolbarBrick:C,ref:s}))))}const Ie=(0,A.forwardRef)(me);let Se;var Le=new WeakMap,be=new WeakMap,ve=new WeakMap,Ce=new WeakMap,We=new WeakMap,Me=new WeakMap,ye=new WeakMap,Be=new WeakMap,fe=new WeakMap,Ee=new WeakMap,Te=new WeakMap,qe=new WeakMap,Ne=new WeakMap,Re=new WeakMap,_e=new WeakMap,xe=new WeakMap,Qe=new WeakMap,Fe=new WeakMap,Ve=new WeakMap,De=new WeakSet,He=new WeakMap,Oe=new WeakMap,Pe=new WeakMap,Ze=new WeakMap,je=new WeakMap;class ze extends u.ReactNextElement{constructor(){super(...arguments),(0,n.A)(this,De),(0,a.A)(this,Le,(S(this),b(this))),(0,a.A)(this,be,(v(this),C(this))),(0,a.A)(this,ve,(W(this),M(this))),(0,a.A)(this,Ce,(y(this),B(this))),(0,a.A)(this,We,(f(this),E(this))),(0,a.A)(this,Me,(T(this),q(this))),(0,a.A)(this,ye,(N(this),R(this))),(0,a.A)(this,Be,(_(this),x(this))),(0,a.A)(this,fe,(Q(this),F(this))),(0,a.A)(this,Ee,(V(this),D(this))),(0,a.A)(this,Te,(H(this),O(this))),(0,a.A)(this,qe,(P(this),Z(this))),(0,a.A)(this,Ne,(j(this),z(this))),(0,a.A)(this,Re,(G(this),J(this))),(0,a.A)(this,_e,(K(this),U(this))),(0,a.A)(this,xe,(X(this),Y(this))),(0,a.A)(this,Qe,($(this),ee(this))),(0,a.A)(this,Fe,(se(this),c().createRef())),(0,a.A)(this,Ve,te(this)),(0,a.A)(this,He,(ae(this),e=>{(0,h.A)(De,this,ie).emit(e)})),(0,a.A)(this,Oe,oe(this)),(0,a.A)(this,Pe,(le(this),e=>{(0,h.A)(De,this,he).emit(e)})),(0,a.A)(this,Ze,de(this)),(0,a.A)(this,je,(we(this),e=>{(0,h.A)(De,this,Ae).emit(e)}))}get sessionId(){return(0,l.A)(Le,this)}set sessionId(e){(0,r.A)(Le,this,e)}get agentId(){return(0,l.A)(be,this)}set agentId(e){(0,r.A)(be,this,e)}get robotId(){return(0,l.A)(ve,this)}set robotId(e){(0,r.A)(ve,this,e)}get answerLanguage(){return(0,l.A)(Ce,this)}set answerLanguage(e){(0,r.A)(Ce,this,e)}get debug(){return(0,l.A)(We,this)}set debug(e){(0,r.A)(We,this,e)}get showAvatar(){return(0,l.A)(Me,this)}set showAvatar(e){(0,r.A)(Me,this,e)}get showSessionList(){return(0,l.A)(ye,this)}set showSessionList(e){(0,r.A)(ye,this,e)}get readonly(){return(0,l.A)(Be,this)}set readonly(e){(0,r.A)(Be,this,e)}get showLike(){return(0,l.A)(fe,this)}set showLike(e){(0,r.A)(fe,this,e)}get showShare(){return(0,l.A)(Ee,this)}set showShare(e){(0,r.A)(Ee,this,e)}get useSpiltWord(){return(0,l.A)(Te,this)}set useSpiltWord(e){(0,r.A)(Te,this,e)}get enterInterval(){return(0,l.A)(qe,this)}set enterInterval(e){(0,r.A)(qe,this,e)}get quickAnswerConfig(){return(0,l.A)(Ne,this)}set quickAnswerConfig(e){(0,r.A)(Ne,this,e)}get snippetList(){return(0,l.A)(Re,this)}set snippetList(e){(0,r.A)(Re,this,e)}get commandBricks(){return(0,l.A)(_e,this)}set commandBricks(e){(0,r.A)(_e,this,e)}get inputToolbarBrick(){return(0,l.A)(xe,this)}set inputToolbarBrick(e){(0,r.A)(xe,this,e)}get showToolCalls(){return(0,l.A)(Qe,this)}set showToolCalls(e){(0,r.A)(Qe,this,e)}insertQuestion(e){var s;const{value:t}=e;t&&(null===(s=(0,l.A)(Fe,this).current)||void 0===s||s.handleInsertQuestion(t))}sendMsg(e){var s;null===(s=(0,l.A)(Fe,this).current)||void 0===s||s.sendMsg(e)}render(){return c().createElement(Ie,{agentId:this.agentId,robotId:this.robotId,debug:this.debug,sessionId:this.sessionId,readonly:this.readonly,showAvatar:this.showAvatar,showSessionList:this.showSessionList,showLike:this.showLike,showShare:this.showShare,useSpiltWord:this.useSpiltWord,quickAnswerConfig:this.quickAnswerConfig,snippetList:this.snippetList,enterInterval:this.enterInterval,commandBricks:this.commandBricks,answerLanguage:this.answerLanguage,inputToolbarBrick:this.inputToolbarBrick,showToolCalls:this.showToolCalls,onSessionIdChange:(0,l.A)(He,this),onRobotIdChange:(0,l.A)(Pe,this),onQaFinish:(0,l.A)(je,this),ref:(0,l.A)(Fe,this)})}}i=ze,({e:[b,v,C,W,M,y,B,f,E,T,q,N,R,_,x,Q,F,V,D,H,O,P,Z,j,z,G,J,K,U,X,Y,$,ee,se,te,ie,ne,ae,oe,he,re,le,de,Ae,ce,we,S],c:[Se,L]}=(0,d.A)(i,[ue("ai.chat-view",{shadowOptions:!1})],[[ge(),1,"sessionId"],[ge(),1,"agentId"],[ge(),1,"robotId"],[ge(),1,"answerLanguage"],[ge({type:Boolean}),1,"debug"],[ge({type:Boolean}),1,"showAvatar"],[ge({type:Boolean}),1,"showSessionList"],[ge({type:Boolean}),1,"readonly"],[ge({type:Boolean}),1,"showLike"],[ge({type:Boolean}),1,"showShare"],[ge({type:Boolean}),1,"useSpiltWord"],[ge({type:Number}),1,"enterInterval"],[ge({attribute:!1}),1,"quickAnswerConfig"],[ge({attribute:!1}),1,"snippetList"],[ge({attribute:!1}),1,"commandBricks"],[ge({attribute:!1}),1,"inputToolbarBrick"],[ge({type:Boolean}),1,"showToolCalls"],[ke({type:"sessionId.change"}),1,"sessionIdChange",e=>(0,l.A)(Ve,e),(e,s)=>(0,r.A)(Ve,e,s)],[ke({type:"robotId.change"}),1,"robotIdChange",e=>(0,l.A)(Oe,e),(e,s)=>(0,r.A)(Oe,e,s)],[ke({type:"qa.finish"}),1,"qaFinish",e=>(0,l.A)(Ze,e),(e,s)=>(0,r.A)(Ze,e,s)],[pe(),2,"insertQuestion"],[pe(),2,"sendMsg"]],0,(e=>je.has((0,o.A)(e))),u.ReactNextElement)),L()}}]);
//# sourceMappingURL=chat-view.0c1f27be.js.map