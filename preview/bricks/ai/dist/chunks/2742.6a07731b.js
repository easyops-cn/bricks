"use strict";(globalThis.webpackChunk_next_bricks_ai=globalThis.webpackChunk_next_bricks_ai||[]).push([[2742],{15:(e,t,o)=>{o.d(t,{a:()=>n,t:()=>s});var r=o(8769);const s=(0,r.createContext)({}),n=()=>(0,r.useContext)(s)},1534:(e,t,o)=>{o.d(t,{CA:()=>i,g3:()=>l,mc:()=>a});var r=o(8769),s=o.n(r);const n=(0,o(4295).wrapBrick)("eo-icon");function i(){return s().createElement("div",{className:"message-list-loading-wrapper"})}function a(){return s().createElement("div",{className:"chart-item-loading-wrapper"},s().createElement("div",{className:"load"},s().createElement("div",null),s().createElement("div",null),s().createElement("div",null),s().createElement("div",null)))}function l(){return s().createElement("div",{className:"common-loading-wrapper"},s().createElement(n,{icon:"loading",lib:"antd",spinning:!0}))}},2046:(e,t,o)=>{o.d(t,{M:()=>me});var r=o(8769),s=o.n(r),n=o(9126),i=o(15),a=o(9575),l=o(4295);const c=(0,l.wrapBrick)("eo-icon");function p(e){let{role:t,agentId:o}=e;const n=(0,r.useMemo)((()=>"user"===t),[t]),{quickAnswerConfig:l}=(0,i.a)(),p=(0,r.useMemo)((()=>(null==l?void 0:l.list)??[]),[l]),d=(0,r.useMemo)((()=>p.find((e=>e.id===o))),[p,o]);return!n&&d?s().createElement(c,(0,a.A)({className:"avatar"},d.icon,{style:{color:`var(--theme-${d.icon.color}-color)`,background:`var(--theme-${d.icon.color}-background)`}})):s().createElement("div",{className:"avatar "+(n?"user":"robot")})}var d=o(3373),m=o.n(d),u=o(1534);const h=(0,l.wrapBrick)("eo-link");function g(e){let{text:t,prompts:o}=e;return s().createElement("div",{className:"guide-item"},t,s().createElement("div",{className:"prompts-list"},o?o.map(((e,t)=>s().createElement(h,{key:t},e))):null))}var w=o(5119),b=o(4001),f=o(536),v=o(4895),x=o(7534),k=o(2762),y=o(7268),E=o(3319);function A(e){let{text:t}=e;const o=(0,r.useMemo)((()=>t.replace(/\n[`]{0,3}$/,"")),[t]);return s().createElement("div",{className:"progress-text"},o)}const C=(0,r.createContext)({}),N=()=>(0,r.useContext)(C);var S=o(9592);function M(e){let{text:t,language:o}=e;const{commandBricks:n}=(0,i.a)(),{chatting:a,agentId:l,robotId:c,conversationId:p,taskId:d}=N(),{parseData:m,isError:u}=function(e){let{text:t,chatting:o}=e;const s=(0,r.useRef)(""),[n,i]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[c,p]=(0,r.useState)();return(0,r.useEffect)((()=>{if(s.current!==t){let e;s.current=t;try{e=JSON.parse(t)}catch{return void l(!0)}p(e)}}),[t]),(0,r.useEffect)((()=>{o?t.match(/\n[`]{0,3}$/)&&i(!0):i(!0)}),[t,o]),{parseData:c,isError:n&&a}}({text:t,chatting:!!a}),h=(0,r.useMemo)((()=>{const e=null==n?void 0:n[o];if(e){const t={data:m,agentId:l,robotId:c,conversationId:p,taskId:d};return{component:s().createElement(S.ReactUseMultipleBricks,{useBrick:e.useBrick,data:t}),...e}}return{component:null,showOriginData:!0}}),[n,o,m,l,c,p,d]);return s().createElement("div",{className:"custom-component-wrapper not-prose"},null!=h&&h.showOriginData?s().createElement(s().Fragment,null,s().createElement("div",{className:"params"},s().createElement("div",{className:"params-tip"},"【原始命令】: "),s().createElement("pre",null,s().createElement("code",null,t))),u?s().createElement("div",{className:"error-tip"},"【执行失败】"):s().createElement(s().Fragment,null,s().createElement("div",{className:"result-tip"},"【执行结果】:"),s().createElement("div",{className:"custom-component"},h.component))):h.component)}var I=o(3143),z=o(9430);const q=(0,l.wrapBrick)("eo-icon"),_={lib:"antd",icon:"copy",theme:"outlined"},P=()=>{const[e,t]=(0,r.useState)(""),{contentRef:o,node:n}=(0,E.e2)(),{commandBricks:l}=(0,i.a)(),[c,p]=I.Ay.useMessage(),d=async()=>{var e;const t=null===(e=n.content.firstChild)||void 0===e?void 0:e.text;try{t&&(await navigator.clipboard.writeText(t),c.success("复制成功"))}catch(e){console.error("Failed to copy: ",e),c.error("复制失败")}},m=(0,r.useMemo)((()=>s().createElement("div",{className:"default-container"},p,s().createElement("pre",{spellCheck:!1},s().createElement("code",{ref:o,style:{position:"relative"}},s().createElement("div",{className:"default-toolbar-container"},s().createElement(z.A,{title:"复制",color:"#474747",arrow:!1},s().createElement(q,(0,a.A)({},_,{onClick:d,style:{cursor:"pointer"}})))))))),[o]),u=(0,r.useMemo)((()=>{var t,o,r;if(null===(t=n.firstChild)||void 0===t||!t.text)return null;const i=null===(o=n.firstChild)||void 0===o?void 0:o.textContent,a=e||(null===(r=n.attrs)||void 0===r?void 0:r.language);return l&&l[a]?s().createElement(M,{text:i,language:a}):"easy_cmd_progress"===a?s().createElement(A,{text:i}):m}),[n,e,m,l]);return(0,r.useEffect)((()=>{if(!e){const{attrs:{language:e}}=n;e&&t(e)}}),[n,e]),u};function R(e){let{text:t}=e;return s().createElement("div",{className:"markdown-item"},s().createElement(b.pb,null,s().createElement(E.vo,null,s().createElement(T,{value:t}))))}function T(e){let{value:t}=e;const o=(0,E.$X)(),n=e=>/<tool_call>(.+)<\/tool_call>/.test(e)?e.replace(/<tool_call>(.+?)<\/tool_call>/g,((e,t)=>`\n\`\`\`easy_cmd_tool_call\n${t}\n\`\`\`\n`)):e,{get:i}=(0,b.hG)((e=>w.KE.make().config((o=>{o.set(w.k,e),o.update(w.QM,(e=>({...e,editable:()=>!1,handleClickOn:(e,t)=>((e,t)=>{const o=e.state.tr.doc.nodeAt(t),r=null==o?void 0:o.marks.find((e=>"link"===e.type.name));if(r){const e=null==r?void 0:r.attrs.href;window.open(e,"_blank")}return!0})(e,t)})));const r=n(t);r&&o.set(w.CI,r),new MutationObserver((()=>{Array.from(e.querySelectorAll("a")).forEach((e=>{e.onclick=()=>!1}))})).observe(e,{childList:!0,subtree:!0})})).config(v.E).use(k.Wj).use(x.Te).use(f.PD).use((0,y.m5)(f.Ay.node,(()=>o({component:P}))))),[]);return(0,r.useEffect)((()=>{if(void 0!==t){var e;const o=n(t);null===(e=i())||void 0===e||e.action((0,y.yh)(o))}}),[i,t]),s().createElement(b.y5,null)}function L(e){let{text:t}=e;return s().createElement("div",{className:"table-item"},t)}function D(e){let{text:t}=e;return s().createElement("div",{className:"text-item"},t)}var B=o(3078),$=o(5223);const O=(0,l.wrapBrick)("eo-icon"),H=(0,l.wrapBrick)("eo-tooltip"),Y=(0,B.unwrapProvider)("basic.copy-to-clipboard"),W=(0,B.unwrapProvider)("basic.show-notification");function F(e){let{role:t,content:o,chatting:n,taskId:a,tag:l}=e;const c=(0,r.useMemo)((()=>"assistant"===t&&"load"!==o.type),[t,o.type]),p=(0,r.useMemo)((()=>"user"===t),[t]),d=(0,r.useMemo)((()=>n),[n]),{showLike:u,chatting:h,showShare:g,readonly:w,handleIsLike:b,setSearchStr:f}=(0,i.a)(),{agentId:v,robotId:x,conversationId:k}=N(),y=(0,r.useCallback)((async e=>{const t=await b(a,e);W({message:`${e?"点赞":"操作"}${t?"成功":"失败"}`,type:t?"success":"error"})}),[a,b]);return c&&!d?s().createElement("div",{className:"message-toolbar"},u&&!w&&s().createElement(s().Fragment,null,s().createElement(H,{content:"点赞",hoist:!0},s().createElement(O,{className:m()("like",{active:!0===(null==l?void 0:l.isLike)}),lib:"easyops",icon:"like",onClick:()=>y(!0)})),s().createElement(H,{content:"还不够好",hoist:!0},s().createElement(O,{className:m()("unlike",{active:!1===(null==l?void 0:l.isLike)}),lib:"easyops",icon:"unlike",onClick:()=>y(!1)})),s().createElement("div",{className:"split"})),s().createElement(H,{content:"点击复制",hoist:!0},s().createElement(O,{lib:"antd",icon:"copy",onClick:()=>{Y(o.text).then((()=>W({type:"success",message:"复制成功"}))).catch((()=>W({type:"error",message:"复制失败"})))}})),g&&s().createElement(H,{content:"点击分享",hoist:!0},s().createElement(O,{lib:"antd",icon:"share-alt",onClick:()=>{Y(`${location.origin}${(0,$.getBasePath)()}ai-center/share?agentId=${v}&robotId=${x}&conversationId=${k}`).then((()=>W({type:"success",message:"会话链接已复制到剪贴板"}))).catch((()=>W({type:"error",message:"会话链接复制失败"})))}}))):w||!p||h?null:s().createElement("div",{className:"message-toolbar"},s().createElement(H,{content:"点击再次提问",hoist:!0},s().createElement(O,{lib:"antd",icon:"edit",onClick:()=>{f(o.text)}})))}var j=o(6238),J=o.n(j);function U(e){let{time:t}=e;return s().createElement("div",{className:"time"},t?"string"==typeof t?t:J()(t).format("YYYY-MM-DD HH:mm:ss"):null)}var X=o(2442),V=o(8679);const K=(0,l.wrapBrick)("eo-icon"),Q=(0,l.wrapBrick)("eo-button"),G=(0,l.wrapBrick)("eo-tag");function Z(e){let{toolCalls:t}=e;const[o,n]=(0,r.useState)(!1),i=(0,r.useMemo)((()=>t.map((e=>{let t,o,{id:r,function:s,response:n}=e;try{t={ok:!0,data:JSON.parse(s.arguments)}}catch{t={ok:!0,data:s.arguments}}if("string"==typeof n){let e;try{e=JSON.parse(n),o={ok:!0,data:e}}catch{o={ok:!0,data:n}}}else o={ok:!1};return{id:r,functionName:s.name,processedArguments:t,processedResponse:o,args:s.arguments,response:n}}))),[t]),a=(0,r.useMemo)((()=>{let e="ok";for(const t of i){if(void 0===t.processedResponse){e="processing";break}!1===t.processedResponse.ok&&(e="failed")}return e}),[i]);return s().createElement("div",{className:"tool-calls"},o?s().createElement(s().Fragment,null,s().createElement("div",{className:"tool-calls-summary"},s().createElement(Q,{type:"ghost",onClick:()=>n(!1)},s().createElement("span",{style:{marginRight:8}},"隐藏工具调用过程"),s().createElement(K,{lib:"fa",prefix:"fas",icon:"chevron-up",className:"tool-calls-summary-toggle"}))),i.map((e=>s().createElement(ee,{id:e.id,key:e.id,functionName:e.functionName,processedArguments:e.processedArguments,processedResponse:e.processedResponse,args:e.args})))):s().createElement("div",{className:"tool-calls-summary",onClick:()=>n(!0)},s().createElement("span",{className:m()("tool-calls-status",a)},"processing"===a?s().createElement(K,{lib:"fa",prefix:"fas",icon:"spinner",spinning:!0}):"ok"===a?s().createElement(K,{lib:"fa",prefix:"far",icon:"circle-check"}):s().createElement(K,{lib:"fa",prefix:"fas",icon:"triangle-exclamation"}),s().createElement("span",null,"processing"===a?"工具调用中":"ok"===a?"工具调用完成":"工具调用失败")),s().createElement(K,{lib:"fa",prefix:"fas",icon:"chevron-down",className:"tool-calls-summary-toggle"})))}function ee(e){let{functionName:t,processedArguments:o,processedResponse:r,args:n}=e;const{toolNames:a}=(0,i.a)();return s().createElement("div",{className:"tool-call"},s().createElement("div",{className:"tool-call-function-name"},s().createElement(K,{lib:"antd",theme:"outlined",icon:"function"}),a.get(t)??t),s().createElement(G,{outline:!0},"Arguments"),s().createElement("div",{className:m()("tool-call-function-arguments",{failed:!o.ok})},s().createElement("pre",null,s().createElement("code",null,o.ok?te(o.data):n))),r?s().createElement(s().Fragment,null,s().createElement(G,{outline:!0},"Response"),s().createElement("div",{className:m()("tool-call-function-response",{failed:!r.ok})},s().createElement("pre",null,s().createElement("code",null,r.ok?te(r.data):"Failed")))):s().createElement("div",{className:"tool-call-wait-response"},"…"))}function te(e){return(0,V.safeDump)(e,{schema:V.JSON_SCHEMA,skipInvalid:!0,noRefs:!0,noCompatMode:!0})}const oe="no_agent";function re(e){const{content:t,created:o,role:n,agentId:a,type:l,chatting:c,toolCalls:p}=e,d=(0,r.useMemo)((()=>"user"===n),[n]),{quickAnswerConfig:m,showToolCalls:h}=(0,i.a)(),w=(0,r.useCallback)((e=>{const{type:t,text:o,examplePrompts:r}=e;switch(t){case"guide":return s().createElement(g,{text:o,prompts:r});case"text":return s().createElement(D,{text:o});case"table":return s().createElement(L,{text:o});case"load":return s().createElement(u.mc,null);default:return s().createElement(R,{text:o})}}),[]),b=(0,r.useMemo)((()=>w(t)),[t,w]),f=(0,r.useMemo)((()=>(null==m?void 0:m.list)??[]),[m]),v=(0,r.useMemo)((()=>f.find((e=>e.id===a))),[f,a]),x=(0,r.useCallback)((()=>{switch(l){case X.Dq:return s().createElement(s().Fragment,null,s().createElement("div",{className:"message-top"},s().createElement("div",{style:{color:"gray"}},"推荐提问")),s().createElement("div",{className:"message-content"},s().createElement("div",{className:"wrapper"},c?s().createElement("div",{className:"content"},s().createElement(u.mc,null)):s().createElement(s().Fragment,null,b))));case X.vY:default:return s().createElement(s().Fragment,null,s().createElement("div",{className:"message-top"},d?"我":a&&a!==oe&&v?v.name:"AI助手",s().createElement(U,{time:o})),s().createElement("div",{className:"message-content"},s().createElement("div",{className:"wrapper"},h&&null!=p&&p.length?s().createElement(Z,{toolCalls:p}):null,s().createElement("div",{className:"content"},b),s().createElement(F,e))))}}),[l,d,a,v,o,c,b,e,h,p]);return s().createElement(C.Provider,{value:e},s().createElement("div",{className:"message-box"},x()))}const se=(0,l.wrapBrick)("eo-icon"),ne=(0,l.wrapBrick)("eo-link"),ie=85,ae=24;function le(e){let{name:t,description:o,icon:n,starterPrompts:l}=e;const{setSearchStr:c}=(0,i.a)(),p=(0,r.useMemo)((()=>(null==n?void 0:n.color)??"geekblue"),[n]);return s().createElement("div",{className:"quick-answer-card-item",style:{height:ie,background:`linear-gradient(rgba(var(--theme-${p}-color-rgb-channel), 0.1), rgba(var(--theme-${p}-color-rgb-channel), 0.08))`},onClick:()=>{(null==l?void 0:l.length)&&c(l[0])}},s().createElement("div",{className:"left"},s().createElement(se,(0,a.A)({className:"icon"},n??{icon:"default-app",lib:"easyops",category:"app"},{style:{background:`rgba(var(--theme-${p}-color-rgb-channel), 0.5)`}}))),s().createElement("div",{className:"content"},s().createElement("div",{className:"title"},t),s().createElement("div",{className:"description"},o)))}function ce(){const{quickAnswerConfig:e,msgList:t,loading:o}=(0,i.a)(),[n,l]=(0,r.useState)(!1),c=(0,r.useRef)(null),p=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{const e=c.current;if(e){const t=new ResizeObserver((e=>{for(const t of e)t.contentRect.height>3*ie+2*ae?p.current||l(!0):l(!1)}));return t.observe(e),()=>t.disconnect()}}),[n,null==e?void 0:e.list]),null!=e&&e.list.length&&0===t.length&&!o?s().createElement("div",{className:"quick-answer-wrapper"},s().createElement("div",{className:"tip"},e.tip??"你好，我是运维数智人 — Murphy，我能为你提供以下服务:"),s().createElement("div",{className:"quick-answer-list",style:{...n?{maxHeight:3*ie+2*ae+10,overflow:"hidden"}:{}},ref:c},e.list.map((e=>s().createElement(le,(0,a.A)({key:e.instanceId},e))))),n?s().createElement("div",{className:"show-more-wrapper"},s().createElement(ne,{icon:{lib:"antd",icon:"down"},className:"show-more-btn",onClick:()=>{p.current=!0,l(!1)}},"显示更多")):null):null}const pe=(0,l.wrapBrick)("eo-link");function de(){const{stopChat:e}=(0,i.a)();return s().createElement("div",{className:"stop-responding-wrapper"},s().createElement(pe,{className:"stop-btn",onClick:()=>{e()}},"停止生成"))}function me(e){let{showAvatar:t=!0}=e;const o=(0,r.useRef)(null),a=(0,r.useRef)(null),{msgLoading:l,msgEnd:c,msgList:d,loading:h,chatting:g}=(0,i.a)(),w=(0,r.useCallback)((function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(e.type){case X.Dq:return s().createElement("div",{className:m()("message-item"),style:{marginTop:"-36px",marginLeft:"44px"},key:o},s().createElement(re,e));case X.vY:default:return s().createElement("div",{className:m()("message-item",{user:"user"===e.role}),key:o},t&&s().createElement(p,{role:e.role,agentId:e.agentId}),s().createElement(re,e))}}),[t]),b=(0,r.useMemo)((()=>d.map(((e,t)=>s().createElement(s().Fragment,{key:e.key},e.chatting?s().createElement(s().Fragment,null,w(e,t),g&&t===d.length-1&&e.type!==X.Dq?s().createElement(de,null):null):w(e,t))))),[d,g,w]),[f,v]=(0,r.useState)(!1),x=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{const e=o.current;if(!e)return;const t=()=>{x.current||v(e.scrollTop+e.clientHeight+6<e.scrollHeight)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[]),(0,r.useEffect)((()=>{const e=a.current,t=o.current;if(f||!e||!t)return;const r=new n.A((()=>{x.current=!0,t.scroll({top:t.scrollHeight}),requestAnimationFrame((()=>{x.current=!1}))}));return r.observe(e),()=>r.disconnect()}),[f]),s().createElement("div",{className:"chat-view",ref:o},s().createElement("div",{className:"message-list",ref:a},s().createElement("div",{className:"message-list-box"},c&&d.length?s().createElement("div",{className:"message-start-tip"},"会话开始"):null,l&&s().createElement(u.g3,null),s().createElement(ce,null),b),h&&s().createElement(u.CA,null)))}},205:(e,t,o)=>{o.d(t,{D:()=>w});var r=o(9575),s=o(8769),n=o.n(s),i=o(4295);const a=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"];let l;var c=o(3373),p=o.n(c),d=o(15),m=o(9592);const u=(0,i.wrapBrick)("eo-tooltip"),h=(0,i.wrapBrick)("eo-icon");function g(e,t){const[o,i]=(0,s.useState)(""),[c,g]=(0,s.useState)(!1),[w,b]=(0,s.useState)(!1),[f,v]=(0,s.useState)(),[x,k]=(0,s.useState)(!1),[y,E]=(0,s.useState)(!1),[A,C]=(0,s.useState)([]),[N,S]=(0,s.useState)(0),[M,I]=(0,s.useState)(!1),[z,q]=(0,s.useState)(-1),[_,P]=(0,s.useState)([]),[R,T]=(0,s.useState)(0),L=(0,s.useRef)(null),D=(0,s.useRef)(null),B=(0,s.useRef)(null),$=(0,s.useRef)(null),O=(0,s.useRef)(!1),H=(0,s.useRef)(!1),{chatting:Y,loading:W,searchStr:F,quickAnswerConfig:j,createSession:J,setSearchStr:U,handleChat:X,setAgent:V,snippetList:K}=(0,d.a)(),Q=(0,s.useMemo)((()=>(null==j?void 0:j.list)??[]),[j]),G=(0,s.useMemo)((()=>!!o),[o]),Z=(0,s.useMemo)((()=>[1,5]),[]),ee=(0,s.useMemo)((()=>W||Y),[Y,W]),te=(0,s.useMemo)((()=>{const e=$.current;if(z>=0&&o){const t=e.selectionStart;let r="";for(let e=z+1;e<t;e++){if(!/[\u4e00-\u9fa5]|\w|\d/.test(o[e])&&!H.current)return q(-1),!1;r+=o[e]}return{start:z+1,end:t,word:r}}return!1}),[z,o]),oe=(0,s.useCallback)((e=>{if(te){const{start:t,end:r}=te,s=o.split(""),n=e.name.replace(/\s+/g,"")+" ",a=t+n.length;s.splice(t,r-t,n),i(s.join("")),q(-1),setTimeout((()=>{$.current.selectionStart=a,$.current.selectionEnd=a,$.current.focus()}),0)}}),[te,o]),re=(0,s.useCallback)((e=>{const t=/@([\u4e00-\u9fa5|\w|\d]+)/g,r=[];let s;for(;null!==(s=t.exec(o));)r.push(s[0]);r.length?i(r.join(" ")+" "+e.content):i(e.content),E(!1),S(0),setTimeout((()=>{$.current.focus()}),0)}),[o]),se=(0,s.useMemo)((()=>_.length&&M),[_,M]),ne=(0,s.useMemo)((()=>se?n().createElement("div",{className:"mentions-list-wrapper",ref:L},n().createElement("div",{className:"content"},n().createElement("div",{className:"mentions-title"},"技能"),n().createElement("div",{className:"mentions-list"},_.slice(0,10).map(((e,t)=>n().createElement("div",{className:p()("mentions-item",{active:t===R}),key:t,onClick:()=>oe(e)},n().createElement(h,(0,r.A)({className:"icon"},e.icon,{style:{color:`var(--theme-${e.icon.color}-color)`,background:`var(--theme-${e.icon.color}-background)`}})),n().createElement("div",{className:"name"},e.name),n().createElement("div",{className:"description"},e.description))))))):null),[_,R,se,oe]),ie=(0,s.useMemo)((()=>!se&&A.length&&y),[se,A,y]),ae=(0,s.useMemo)((()=>ie?n().createElement("div",{className:"snippets-list-wrapper",ref:D},n().createElement("div",{className:"content"},n().createElement("div",{className:"snippets-title"},"常用语"),n().createElement("div",{className:"snippets-list"},A.slice(0,10).map(((e,t)=>n().createElement("div",{className:p()("snippets-item",{active:t===N}),key:t,onClick:()=>re(e)},n().createElement("div",{className:"name"},e.name),n().createElement("div",{className:"description"},e.content))))))):null),[A,N,ie,re]),le=(0,s.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;if(O.current&&w)return;const t=$.current;if(t){const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l||(l=document.createElement("textarea"),l.setAttribute("tab-index","-1"),l.setAttribute("aria-hidden","true"),document.body.appendChild(l));const r=window.getComputedStyle(e),s=a.map((e=>`${e}:${r.getPropertyValue(e)}`)).join(";");let n,i;l.setAttribute("style",`${s};\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  padding: 10px !important;\n  pointer-events: none !important;\n`),l.value=e.value||e.placeholder||"";let c=l.scrollHeight-20+2;if(null!==t||null!==o){l.value=" ";const e=l.scrollHeight-20;null!==t&&(n=e*t-20+2,c=Math.max(20,c)),null!==o&&(i=e*o-20+2,c=Math.min(i,c))}const p={height:c,overflowY:"scroll",resize:"none"};return n&&(p.minHeight=n),i&&(p.maxHeight=i),p}(t,e[0],e[1]);v(o)}O.current=w}),[Z,w]),ce=(0,s.useCallback)((e=>{const t="string"==typeof e?e:e.target.value;i(t),$.current.value=t;const o=t.replaceAll(/@([\u4e00-\u9fa5|\w|\d]+)\s/g,"").trim();if(o){const e=(null==K?void 0:K.filter((e=>e.name.includes(o))))??[];C(e),E(!!e.length)}else C([]),E(!1)}),[K]),pe=(0,s.useCallback)((()=>{b((e=>!e))}),[]),de=(0,s.useCallback)((e=>{const t=/@([\u4e00-\u9fa5|\w|\d]+)/g;let o;for(;null!==(o=t.exec(e));)if(o){const e=null==Q?void 0:Q.find((e=>e.name.replace(/\s+/g,"")===o[1]));if(e&&V(e.id),e)break}}),[Q,V]),me=(0,s.useCallback)((e=>{var t;de(e),X(e),g(!1),b(!1),ce(""),null===(t=$.current)||void 0===t||t.blur()}),[X,ce,de]),ue=(0,s.useCallback)((()=>{G&&$.current&&!ee&&me(o)}),[o,G,ee,me]),he=(0,s.useCallback)((e=>{"Enter"!==e.key||w&&!se&&!ie||e.shiftKey||H.current||(e.preventDefault(),se?oe(_[R]):ie?re(A[N]):ue()),se?("ArrowUp"===e.key&&(e.preventDefault(),T((e=>Math.max(0,e-1)))),"ArrowDown"===e.key&&(e.preventDefault(),T((e=>Math.min(_.length-1,e+1))))):ie&&("ArrowUp"===e.key&&(e.preventDefault(),S((e=>Math.max(0,e-1)))),"ArrowDown"===e.key&&(e.preventDefault(),S((e=>Math.min(A.length-1,e+1)))))}),[ue,oe,re,se,_,R,ie,A,N,w]),ge=(0,s.useCallback)((e=>{const t=$.current,o=t.selectionStart,r=t.value[o-1],s=t.value.slice(0,o).lastIndexOf("@");"Escape"===e.key||!se&&-1!==["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(e.key)?q(-1):q("@"===r?o-1:s)}),[se]);return(0,s.useEffect)((()=>{var e;F&&(ce(F.trim()),null===(e=$.current)||void 0===e||e.focus(),U(""))}),[F,ee,U,ce]),(0,s.useEffect)((()=>{le(w?[20,20]:void 0)}),[o,w,le]),(0,s.useEffect)((()=>{const e=B.current;if(e){const t=new ResizeObserver((()=>{const{width:t}=e.getBoundingClientRect();k(t<900)}));return t.observe(e),()=>{t.disconnect()}}}),[]),(0,s.useEffect)((()=>{var e;!Y&&$.current&&(null===(e=$.current)||void 0===e||e.focus())}),[Y]),(0,s.useEffect)((()=>{if(null!=Q&&Q.length&&te){const e=""===te.word?Q:Q.filter((e=>e.name.includes(te.word)));P(e),T(0),I(!0)}else P([]),I(!1)}),[te,Q]),(0,s.useEffect)((()=>{if(R>=0&&L.current){const e=L.current.querySelector(".mentions-item.active");null==e||e.scrollIntoView({block:"nearest"})}}),[R]),(0,s.useEffect)((()=>{if(N>=0&&D.current){const e=D.current.querySelector(".snippets-item.active");null==e||e.scrollIntoView({block:"nearest"})}}),[N]),(0,s.useEffect)((()=>{const e=e=>{const t=L.current;t&&!t.contains(e.composedPath()[0])&&I(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,s.useImperativeHandle)(t,(()=>({handleInsertQuestion:e=>{me(e)},sendMsg:e=>{X(e)}}))),n().createElement("div",{className:p()("search-input-box",{"fill-content":x}),ref:B},ne,ae,e.inputToolbarBrick&&n().createElement("div",{className:"input-toolbar"},n().createElement(m.ReactUseMultipleBricks,e.inputToolbarBrick)),n().createElement("div",{className:p()("input-box",{active:c,disabled:ee,expand:w})},n().createElement("textarea",{value:o,ref:$,style:{...f,paddingRight:w?"50px":"140px"},placeholder:Y?"回复中,请稍等...":"提出你的想法...",onFocus:()=>g(!0),onBlur:()=>g(!1),onChange:ce,onKeyDown:he,onKeyUpCapture:ge,onCompositionStart:()=>{H.current=!0},onCompositionEnd:()=>{H.current=!1}}),n().createElement("span",{className:"suffix-icon"},n().createElement(u,{content:"新增会话"},n().createElement(h,{lib:"antd",icon:"plus-circle",onClick:()=>{J()}})),!w&&n().createElement(u,{content:"放大"},n().createElement(h,{lib:"antd",icon:"arrows-alt",onClick:pe})),n().createElement("div",{className:"submit-split"}),n().createElement(u,{content:"提交"},n().createElement(h,{className:p()("submit-btn",{active:G,disabled:!G||ee}),lib:Y?"antd":"easyops",icon:Y?"loading":"release-management-fill",category:Y?"":"menu",spinning:Y,onClick:ue}))),n().createElement("span",{className:"toolbar-icon"},w&&n().createElement(u,{content:"缩小"},n().createElement(h,{lib:"antd",icon:"shrink",onClick:pe})))),G&&n().createElement("div",{className:"search-input-toolbar"},n().createElement("div",{className:"input-tip"},"Shift + Enter 换行")))}const w=(0,s.forwardRef)(g)},3830:(e,t,o)=>{o.d(t,{Z:()=>A});var r=o(9575),s=o(8769),n=o.n(s),i=o(15),a=o(3373),l=o.n(a),c=o(2445),p=o(1534),d=o(4295),m=o(3078),u=o(2442);const h=(0,d.wrapBrick)("eo-tooltip"),g=(0,m.unwrapProvider)("basic.show-notification"),w=(0,d.wrapBrick)("eo-icon"),b=(0,m.unwrapProvider)("basic.show-dialog"),f=(0,d.wrapBrick)("eo-modal",{onClose:"close",onConfirm:"confirm",onCancel:"cancel",onOpen:"open"}),v=(0,d.wrapBrick)("eo-form",{onValuesChange:"values.change",onValidateSuccess:"validate.success",onValidateError:"validate.error"}),x=(0,d.wrapBrick)("eo-input"),k=42,y=5,E=100;function A(){const{sessionEnd:e,sessionLoading:t,sessionList:o,querySessionHistory:a,updateSession:l}=(0,i.a)(),d=(0,s.useRef)(null),m=(0,s.useRef)(null),u=(0,s.useRef)(""),b=(0,s.useRef)(null),A=(0,s.useRef)(null),N=(0,s.useRef)(),S=(0,s.useRef)(""),M=()=>{let e=20;const t=d.current;return t&&(e=Math.floor(t.clientHeight/k)+y),e};(0,s.useEffect)((()=>{a(M())}),[]);const I=(0,s.useCallback)((()=>{if(t||e)return;const o=m.current;if(o){const{scrollTop:e,scrollHeight:t,clientHeight:r}=o;e+r+E>t&&a()}}),[a,t,e]),z=(0,c.debounce)(I,200),q=(0,s.useCallback)((e=>{u.current=e.target.value}),[]),_=(0,s.useCallback)((()=>{a(M(),u.current)}),[]),P=(0,s.useCallback)((e=>{"Enter"===e.key&&_()}),[]),R=(0,s.useCallback)(((e,t)=>{var o,r;S.current=e,N.current=t,null===(o=A.current)||void 0===o||o.setInitValue({...t}),null===(r=b.current)||void 0===r||r.open()}),[]),T=(0,s.useCallback)((()=>{var e;null===(e=A.current)||void 0===e||e.validate()}),[]),L=(0,s.useCallback)((async e=>{const t=await l(S.current,e.detail);var o;g({message:"修改会话"+(t?"成功":"失败"),type:t?"success":"error"}),t&&(null===(o=b.current)||void 0===o||o.close())}),[S.current,b.current]);return n().createElement(n().Fragment,null,n().createElement("div",{className:"session-list-wrapper",ref:d},n().createElement("div",{className:"session-title"},"历史对话"),n().createElement("div",{className:"session-search-input-box"},n().createElement("input",{placeholder:"输入关键词进行搜索",onChange:q,onKeyUpCapture:P}),n().createElement("span",{className:"suffix-icon"},n().createElement(h,{content:"搜索"},n().createElement(w,{lib:"antd",icon:"search",theme:"outlined",onClick:_})))),n().createElement("div",{className:"session-list",ref:m,onScroll:z},o.map(((e,t)=>n().createElement(C,(0,r.A)({key:t},e,{handleEditSession:R})))),t&&n().createElement(p.g3,null))),n().createElement(f,{ref:b,modalTitle:"编辑会话",width:"688px",maskClosable:!1,closeWhenConfirm:!1,onConfirm:T},n().createElement(v,{layout:"horizontal",ref:A,onValidateSuccess:L},n().createElement(x,{label:"标题",name:"title"}))))}function C(e){let{title:t,conversationId:o,handleEditSession:r}=e;const{activeSessionId:a,checkSession:c,deleteSession:p}=(0,i.a)(),d=(0,s.useCallback)((()=>{c(o,!0)}),[o,c]),m=(0,s.useCallback)((e=>{e.stopPropagation(),b({type:"confirm",title:"会话删除确认",content:"请输入 {{ expect }} 以确认删除",expect:t.replace(/\s+/g,"")}).then((async()=>{const e=await p([o]);g({message:"删除会话"+(e?"成功":"失败"),type:e?"success":"error"})}))}),[o,p,t]),h=(0,s.useCallback)((e=>{e.stopPropagation(),r&&r(o,{title:t})}),[o,r,t]);return n().createElement("div",{key:t,className:l()("session-item",{active:o===a}),onClick:d},n().createElement("div",{className:"content"},n().createElement("div",{className:"title",title:t},t)),o!==u.eX&&n().createElement(n().Fragment,null,n().createElement("div",{className:"session-edit-btn",onClick:h},n().createElement(w,{icon:"edit",lib:"antd"})),n().createElement("div",{className:"session-close-btn",onClick:m},n().createElement(w,{icon:"close",lib:"antd"}))))}},2442:(e,t,o)=>{o.d(t,{vY:()=>H,eX:()=>$,Dq:()=>O,WY:()=>W,Fn:()=>F});var r=o(8769),s=o(6238),n=o.n(s),i=o(4635),a=o(918),l=o(2559),c=o(829),p=o(6121),d=o(2110),m=o(9455),u=o(5223),h=o(2445),g=o.n(h),w=new WeakMap,b=new WeakMap,f=new WeakMap,v=new WeakMap,x=new WeakMap,k=new WeakMap,y=new WeakMap,E=new WeakMap,A=new WeakMap,C=new WeakMap,N=new WeakMap,S=new WeakMap,M=new WeakMap,I=new WeakMap,z=new WeakMap,q=new WeakMap,_=new WeakMap,P=new WeakSet;class R{constructor(e){let{agentId:t,robotId:o,enterInterval:r=50,debug:s=!1,answerLanguage:n,useSpiltWord:l}=e;(0,i.A)(this,P),(0,a.A)(this,w,void 0),(0,a.A)(this,b,void 0),(0,a.A)(this,f,void 0),(0,a.A)(this,v,void 0),(0,a.A)(this,x,void 0),(0,a.A)(this,k,!1),(0,a.A)(this,y,!1),(0,a.A)(this,E,void 0),(0,a.A)(this,A,[]),(0,a.A)(this,C,{}),(0,a.A)(this,N,void 0),(0,a.A)(this,S,void 0),(0,a.A)(this,M,void 0),(0,a.A)(this,I,void 0),(0,a.A)(this,z,void 0),(0,a.A)(this,q,void 0),(0,a.A)(this,_,!1),(0,p.A)(f,this,t),(0,p.A)(v,this,o),(0,p.A)(x,this,r),(0,p.A)(w,this,s),(0,p.A)(_,this,l??!1),(0,p.A)(S,this,n)}enqueue(e){(0,c.A)(A,this).push(e),(0,l.A)(P,this,L).call(this)}dequeue(){return(0,c.A)(A,this).shift()}getMessageQueue(){return(0,c.A)(A,this)}subscribe(e,t){(0,c.A)(C,this)[e]||((0,c.A)(C,this)[e]=[]),(0,c.A)(C,this)[e].push(t)}unsubscribe(e,t){(0,c.A)(C,this)[e]&&((0,c.A)(C,this)[e]=(0,c.A)(C,this)[e].filter((e=>e!==t)))}notifySubscribers(e){const t=e.topic;(0,c.A)(C,this)[t]&&(0,c.A)(C,this)[t].forEach((t=>{t(null==e?void 0:e.message)}))}async setChatItemIsLike(e,t){let o=!1;try{const{code:r}=await m.http.request(`${(0,u.getBasePath)()}api/gateway/easyops.api.aiops_chat.conversation.CommentDialogue/conversation/comment`,{method:"POST",body:JSON.stringify({taskId:e,isLike:t})});0===r&&(o=!0)}catch{o=!1}return o}setAgentId(e){(0,p.A)(f,this,e)}setConversationId(e){(0,p.A)(N,this,e)}async getSessionHistory(e,t){e&&(0,p.A)(I,this,e),g().isNil(t)||((0,c.A)(z,this)!==t&&(0,p.A)(M,this,void 0),(0,p.A)(z,this,t));try{const{data:{conversations:e,next_token:t}}=await m.http.request(`${(0,u.getBasePath)()}api/gateway/easyops.api.aiops_chat.conversation.ListConversation/conversation/list`,{method:"POST",body:JSON.stringify({limit:(0,c.A)(I,this)??20,query:(0,c.A)(z,this),next_token:(0,c.A)(M,this)})});return(0,p.A)(M,this,t),t||this.notifySubscribers({topic:"session.fetch.end"}),e}catch{console.error("获取会话历史失败")}return[]}async getChatHistory(e){if(e&&(this.setConversationId(e),(0,p.A)(q,this,"")),!(0,c.A)(N,this))return[];try{const{data:{conversations:e,next_token:t}}=await m.http.request(`${(0,u.getBasePath)()}api/gateway/easyops.api.aiops_chat.conversation.GetAllDialogue/conversation/get/${(0,c.A)(N,this)}`,{method:"POST",body:JSON.stringify({limit:1e3,next_token:(0,c.A)(q,this)})});return(0,p.A)(q,this,t),t||this.notifySubscribers({topic:"message.fetch.end"}),e}catch{console.error("获取消息历史失败")}return[]}async deleteSession(e){if(!e.length)return!1;let t=!1;try{const{code:o}=await m.http.request(`${(0,u.getBasePath)()}api/gateway/easyops.api.aiops_chat.conversation.DeleteConversation/conversation/delete`,{method:"POST",body:JSON.stringify({conversationIds:e})});0===o&&(t=!0)}catch{t=!1}return t}async updateSession(e,t){if(!e)return!1;let o=!1;try{const{code:r}=await m.http.request(`${(0,u.getBasePath)()}api/gateway/easyops.api.aiops_chat.conversation.UpdateConversation/conversation/update/${e}`,{method:"POST",body:JSON.stringify({updateData:t})});0===r&&(o=!0)}catch{o=!1}return o}getCustomSplit(){return{[Symbol.split](e){let t=0;const o=[];let r="";for(;t<e.length;){const s=e.substring(t,t+1);/[\u4e00-\u9fa5]/.test(s)||/\s|[，。；《》?!,.:<>？！]]/.test(s)?(o.push(r+s),r=""):r+=s,t++}return r&&o.push(r),o}}}splitWord(e){if(!e)return[];if((null==e?void 0:e.length)<5)return[e];let t=[];if(/^```easy_cmd_[\s\S]*?```[^`]*$/.test(e)&&!/easy_cmd_progress/.test(e))return[e];if(window.Intl)try{const o=new Intl.Segmenter("zh-Hans-CN",{granularity:"word"}).segment(e)[Symbol.iterator]();let r=o.next();for(;!r.done;)t.push(r.value.segment),r=o.next()}catch{t=[];const o=this.getCustomSplit();e.split(o).forEach((e=>{t.push(e)}))}else{const o=this.getCustomSplit();e.split(o).forEach((e=>{t.push(e)}))}return t}async chat(e){(0,p.A)(b,this,new AbortController);let t=!1;(0,p.A)(k,this,!0),await(0,d.y)(`${(0,u.getBasePath)()}api/gateway/easyops.api.aiops_chat.manage.LLMChatProxy@1.0.0/api/aiops_chat/v1/chat/completions`,{method:"POST",signal:(0,c.A)(b,this).signal,openWhenHidden:!0,body:JSON.stringify({agentId:(0,c.A)(f,this),robotId:(0,c.A)(v,this),conversationId:(0,c.A)(N,this),stream:!0,config:{debug:(0,c.A)(w,this),...(0,c.A)(S,this)?{lang:(0,c.A)(S,this)}:{}},..."string"==typeof e?{input:e}:e}),headers:{"giraffe-contract-name":"easyops.api.aiops_chat.manage.LLMChatProxy"},onopen:async e=>{e.ok?console.log("open sse service success!"):console.log("open sse service fail!")},onmessage:e=>{const{data:o}=e;if(t=!0,"[DONE]"===o)return void(0,c.A)(b,this).abort();let r={};try{if(r=JSON.parse(o),(0,c.A)(N,this)||this.setConversationId(r.conversationId),(0,c.A)(_,this)&&W(r.type)){const e=this.splitWord(r.delta.content);let t=e;const o=100;if(e.length>o){const r=50,s=Math.ceil(e.length/(Math.floor(Math.random()*(o-r+1))+r));t=g().chunk(e,s).map((e=>e.join("")))}t.forEach((e=>{this.enqueue({topic:"add",message:{...r,delta:{role:r.delta.role??"assistant",content:e}}})}))}else this.enqueue({topic:"add",message:{...r,delta:{role:r.delta.role??"assistant",...(0,h.pick)(r.delta,["content","tool_calls","tool_call_id"])}}})}catch{var s,i;r=JSON.parse(o);const e="input messages contains sensitive words",t="exceed tokens resource limit";let a=`\`【数据格式错误】:\` ${o}`;return null!==(s=r)&&void 0!==s&&null!==(s=s.error)&&void 0!==s&&s.includes(e)?a="触发敏感词限制，请换一个问题，或找管理员修改敏感词配置":null!==(i=r)&&void 0!==i&&null!==(i=i.error)&&void 0!==i&&i.includes(t)&&(a="超过资源配额限制，请找管理员增加资源配额"),this.enqueue({topic:"add",message:{created:n()().format("YYYY-MM-DD HH:mm:ss"),delta:{role:"assistant",content:a},agentId:(0,c.A)(f,this),robotId:(0,c.A)(v,this)}}),void(0,c.A)(b,this).abort()}},onclose:()=>{console.log("close"),t||this.enqueue({topic:"add",message:{delta:{role:"assistant",content:"`无法识别`"},agentId:(0,c.A)(f,this),robotId:(0,c.A)(v,this),created:n()().format("YYYY-MM-DD HH:mm:ss")}}),(0,c.A)(b,this).abort()},onerror:e=>{throw e}}),(0,p.A)(k,this,!1)}stop(){var e;clearTimeout((0,c.A)(E,this)),(0,c.A)(b,this)&&(null===(e=(0,c.A)(b,this))||void 0===e||e.abort()),(0,p.A)(k,this,!1),(0,p.A)(E,this,void 0),(0,p.A)(y,this,!1),(0,l.A)(P,this,T).call(this),this.notifySubscribers({topic:"stop"})}}function T(){(0,c.A)(A,this).length=0}function L(){if((0,c.A)(y,this))return;(0,p.A)(y,this,!0);const e=()=>{if((0,c.A)(k,this)||(0,c.A)(A,this).length){const t=this.dequeue();t&&this.notifySubscribers(t),(0,p.A)(E,this,setTimeout(e,D((0,c.A)(x,this),(0,c.A)(A,this).length)))}else clearTimeout((0,c.A)(E,this)),(0,p.A)(E,this,void 0),(0,p.A)(y,this,!1),this.notifySubscribers({topic:"finish"})};(0,p.A)(E,this,setTimeout(e,D((0,c.A)(x,this),(0,c.A)(A,this).length)))}function D(e,t){return e>=0?e:t>50?16:Math.floor(11*Math.random())<9?50:Math.floor(251*Math.random())+50}var B=o(8406);const $="new_session_id",O="RELATED_QUESTIONS",H="TEXT",Y=["TEXT","tool_call","tool_response"];function W(e){return Y.includes(e??"TEXT")}function F(e){let{agentId:t,robotId:o,sessionId:s,enterInterval:i=50,debug:a,answerLanguage:l,useSpiltWord:c,showToolCalls:p}=e;const[d,m]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!1),[w,b]=(0,r.useState)(s||$),[f,v]=(0,r.useState)(!1),[x,k]=(0,r.useState)(!1),[y,E]=(0,r.useState)([]),[A,C]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),[M,I]=(0,r.useState)([]),[z,q]=(0,r.useState)(""),_=(0,r.useRef)(),P=(0,r.useRef)(),T=(0,r.useRef)(!1),[L,D]=(0,r.useState)(new Map),Y=(0,r.useRef)(new Map),F=(0,r.useCallback)((e=>{if(Y.current.has(e))return;const t=(0,B.y)("LLM_TOOL@EASYOPS",{query:{id:e},fields:["name"]}).then((t=>{const o=t.list,r=o.length>0?o[0].name:null;D((t=>{const o=new Map(t);return o.set(e,r),o}))}),(e=>{console.error("fetch tool name error",e)}));Y.current.set(e,t)}),[]),j=(0,r.useMemo)((()=>new R({agentId:t,robotId:o,enterInterval:i,debug:a,answerLanguage:l,useSpiltWord:c})),[t,o,i,a,l,c]),J=(0,r.useMemo)((()=>({conversationId:$,title:"新建会话"})),[]),U=(0,r.useCallback)((()=>{j.stop()}),[j]),X=(0,r.useCallback)((e=>{j.setAgentId(e)}),[j]),V=(0,r.useCallback)((async function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e?(S(!1),C(!1),v(!0),I([]),b(e),x&&U()):C(!0),e===$)return j.setConversationId(),S(!0),void v(!1);const t=await j.getChatHistory(e);I((e=>(e=>{const t=[];return e.forEach((e=>{let o;if(p&&e.allToolCalls)try{const t=JSON.parse(e.allToolCalls);o=[],t.forEach((e=>{try{const t=JSON.parse(e.call);o.push({id:e.callId,...Array.isArray(t)?t[0]:t,response:e.result})}catch(e){console.error("parse allToolCalls.call error",e)}}))}catch(e){console.error("parse allToolCalls error",e)}t.unshift({agentId:e.agentId,robotId:e.robotId,taskId:e.taskId,conversationId:e.conversationId,role:"user",content:{type:"markdown",text:e.input},key:(0,h.uniqueId)("msg-"),created:e.time,type:H},{agentId:e.agentId,taskId:e.taskId,conversationId:e.conversationId,role:"assistant",content:{type:"markdown",text:e.output},key:(0,h.uniqueId)("msg-"),created:e.inputTime,tag:e.tag,type:H,toolCalls:o})})),t.filter((e=>e.content.text))})(t).concat(e))),C(!1),v(!1)}),[j,x,U]),K=(0,r.useCallback)((async e=>{const t=e.filter((e=>e!==$)),o=await j.deleteSession(t);if(o){let e=!1;w&&t.includes(w)&&w!==$&&(e=!0,j.setConversationId(),S(!1),C(!1),I([]),x&&U()),E((o=>{const r=o.filter((e=>!t.includes(e.conversationId)));if(e){const e=o.find((e=>e.conversationId===$));return v(!1),b($),e?r:[J].concat(r)}return r}))}return o}),[w,j,x,J,U]),Q=(0,r.useCallback)((async(e,t)=>{const o=await j.updateSession(e,t);return o&&null!=t&&t.title&&E((o=>o.map((o=>({...o,title:o.conversationId===e?t.title:null==o?void 0:o.title}))))),o}),[w,j,x,J,U]),G=(0,r.useCallback)((async(e,t)=>{g(!0);let o=await j.getSessionHistory(e,t);w||(b($),I([])),t&&P.current!==t?m(!1):o=[...y].concat(o),w?w&&!T.current&&(y.find((e=>e.conversationId===$))||(o=[J].concat(o))):o=[J].concat(o),P.current=t,E(o),g(!1)}),[j,w,y,J,P,T.current]),Z=(0,r.useCallback)((async e=>{const t="string"==typeof e?e:e.input;w===$&&(E((e=>e.map((e=>({...e,title:e.conversationId===$?t:e.title}))))),T.current=!0),k(!0),j.chat(e),I((e=>e.filter((e=>e.type!==O)).concat([{role:"user",content:{type:"markdown",text:t},created:n()().format("YYYY-MM-DD HH:mm:ss"),type:H,key:(0,h.uniqueId)("msg-")},{role:"assistant",content:{type:"load",text:""},chatting:!0,created:"Now",type:H,key:(0,h.uniqueId)("msg-")}])))}),[j,w]),ee=(0,r.useCallback)((()=>{j.setConversationId(),I([]),b($),y.find((e=>e.conversationId===$))||E((e=>[J].concat(e)))}),[j,y,J]),te=(0,r.useCallback)((async(e,t)=>{const o=await j.setChatItemIsLike(e,t);return o&&I((o=>o.map((o=>({...o,tag:e===o.taskId?{isLike:t}:o.tag}))))),o}),[j]);return(0,r.useEffect)((()=>{s?V(s):G(30)}),[s]),(0,r.useEffect)((()=>{const e=()=>{m(!0)};return j.subscribe("session.fetch.end",e),()=>{j.subscribe("session.fetch.end",e)}}),[j]),(0,r.useEffect)((()=>{const e=e=>{var t,o,r,s,i;if(!e)return;const a={type:H,...e};if(w===$&&a.conversationId&&(E((e=>e.map((e=>({...e,conversationId:e.conversationId===$?a.conversationId:e.conversationId}))))),b(a.conversationId)),!p&&("tool_call"===a.type||"tool_response"===a.type))return;if("tool_call"===a.type)for(const e of a.delta.tool_calls.map((e=>e.function.name)))F(e);let l=!1;const c=!_.current,d=!c&&(m=a.type,u=_.current.type,l=(m===u||W(m)&&W(u))&&a.taskId===_.current.taskId);var m,u;const g=_.current={...a,role:"assistant",content:{type:"markdown",text:null==a.type||"TEXT"===a.type?`${d?_.current.content.text:""}${a.delta.content}`:(null===(t=_.current)||void 0===t?void 0:t.content.text)??""},chatting:!0,toolCalls:"tool_call"===a.type?[...(null===(o=_.current)||void 0===o?void 0:o.toolCalls)??[],...a.delta.tool_calls]:"tool_response"===a.type?null===(r=_.current)||void 0===r||null===(r=r.toolCalls)||void 0===r?void 0:r.map((e=>e.id===a.delta.tool_call_id?{...e,response:a.delta.content}:e)):null===(s=_.current)||void 0===s?void 0:s.toolCalls,created:n()(null==a?void 0:a.created).format("YYYY-MM-DD HH:mm:ss"),key:(null===(i=_.current)||void 0===i?void 0:i.key)??(0,h.uniqueId)("msg-")};I((e=>c||d?(e.pop(),e.concat(g)):(l?e:e.filter((e=>e.type!==O))).map((e=>({...e,chatting:!1}))).concat(g)))},t=()=>{k(!1),v(!1),_.current=void 0},o=()=>{I((e=>e.map((e=>{var t;return{...e,chatting:!1,toolCalls:null===(t=e.toolCalls)||void 0===t?void 0:t.map((e=>void 0===e.response?{...e,failed:!0}:e))}})))),t()},r=()=>{S(!0)},s=()=>{if(_.current){const e={..._.current,content:{type:"markdown",text:_.current.content.text+" \\\n  ` 对话被中断了 `"}};I((t=>(t.pop(),M.concat(e))))}else I((e=>e.filter((e=>"load"!==e.content.type))));t()};return j.subscribe("add",e),j.subscribe("finish",o),j.subscribe("stop",s),j.subscribe("message.fetch.end",r),()=>{j.unsubscribe("add",e),j.unsubscribe("finish",o),j.unsubscribe("stop",s),j.unsubscribe("message.fetch.end",r)}}),[j,w,M,p,F]),{sessionEnd:d,sessionLoading:u,loading:f,chatting:x,activeSessionId:w,sessionList:y,searchStr:z,msgEnd:N,msgLoading:A,msgList:M,toolNames:L,setAgent:X,handleChat:Z,stopChat:U,createSession:ee,deleteSession:K,updateSession:Q,checkSession:V,setSearchStr:q,querySessionHistory:G,handleIsLike:te}}},2793:(e,t,o)=>{o.d(t,{A:()=>a});var r=o(6758),s=o.n(r),n=o(935),i=o.n(n)()(s());i.push([e.id,'.progress-text{position:relative;margin-left:12px;font-size:12px;color:var(--palette-gray-7);line-height:22px;min-height:22px}.progress-text::before{content:"·";font-size:16px;position:absolute;left:-10px;top:-4px}.custom-component-wrapper .params{margin-top:6px;border-radius:3px}:is(.custom-component-wrapper .params) pre{margin:4px 0}.custom-component-wrapper .params-tip,.custom-component-wrapper .error-tip,.custom-component-wrapper .result-tip{font-size:0.875em;color:rgb(94 129 172)}.custom-component-wrapper .empty-tip{font-size:12px;color:var(--palette-gray-7)}:is(.custom-component-wrapper .table-wrapper) .table-container{position:relative;box-sizing:border-box;margin:0;padding:0;font-size:14px;clear:both;max-width:100%;overflow:hidden}:is(:is(.custom-component-wrapper .table-wrapper) .table-container) .table-content{overflow-x:auto}:is(:is(:is(.custom-component-wrapper .table-wrapper) .table-container) .table-content) table{margin:4px 0}:is(:is(:is(:is(:is(.custom-component-wrapper .table-wrapper) .table-container) .table-content) table) tr) td{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}:is(.custom-component-wrapper .table-wrapper) .open-more{margin-top:4px;font-size:12px;display:flex;justify-content:flex-end}.custom-component-wrapper .chart-wrapper{background:#fff;margin-top:12px}.default-container .default-toolbar-container{visibility:hidden;position:absolute;top:0;right:0}.default-container:hover .default-toolbar-container{visibility:visible}',""]);const a=i},4345:(e,t,o)=>{o.d(t,{A:()=>a});var r=o(6758),s=o.n(r),n=o(935),i=o.n(n)()(s());i.push([e.id,'.ProseMirror{position:relative;word-wrap:break-word;white-space:pre-wrap;white-space:break-spaces;font-variant-ligatures:none;font-feature-settings:"liga" 0,none;font-weight:400}.ProseMirror pre{white-space:pre-wrap}.ProseMirror li{position:relative}.ProseMirror-hideselection *::selection{background:transparent}.ProseMirror-hideselection *::-moz-selection{background:transparent}.ProseMirror-hideselection{caret-color:transparent}.ProseMirror-selectednode{outline:2px solid #8cf}li.ProseMirror-selectednode{outline:none}li.ProseMirror-selectednode:after{content:"";position:absolute;left:-32px;right:-2px;top:-2px;bottom:-2px;border:2px solid #8cf;pointer-events:none}img.ProseMirror-separator{display:inline!important;border:none!important;margin:0!important}.ProseMirror .tableWrapper{overflow-x:auto}.ProseMirror table{border-collapse:collapse;table-layout:fixed;width:100%;overflow:hidden;background-color:white;margin:4px 0}.ProseMirror td,\n.ProseMirror th{vertical-align:top;box-sizing:border-box;position:relative}.ProseMirror .column-resize-handle{position:absolute;right:-2px;top:0;bottom:0;width:4px;z-index:20;background-color:#adf;pointer-events:none}.ProseMirror.resize-cursor{cursor:ew-resize;cursor:col-resize}.ProseMirror .selectedCell:after{z-index:2;position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(200,200,255,0.4);pointer-events:none}.milkdown-theme-nord blockquote{border-left-width:4px;--tw-border-opacity:1;border-color:rgb(94 129 172/var(--tw-border-opacity));padding-left:1rem;font-family:ui-serif,Georgia,Cambria,Times New Roman,Times,serif;font-style:normal}.milkdown-theme-nord code{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-weight:400;--tw-text-opacity:1;color:rgb(94 129 172/var(--tw-text-opacity))}.user .milkdown-theme-nord code{color:rgb(120 168 237)}.milkdown-theme-nord pre code{color:inherit}.milkdown-theme-nord img{margin-top:0!important;margin-bottom:0!important;display:inline-block;max-width:100%}.milkdown-theme-nord.prose\n  :where(blockquote):not(:where([class~="not-prose"] *)){font-weight:400}.milkdown-theme-nord.prose\n  :where(ol > li):not(:where([class~="not-prose"] *))::marker,\n.milkdown-theme-nord.prose\n  :where(ul > li):not(:where([class~="not-prose"] *))::marker{--tw-text-opacity:1;color:rgb(94 129 172/var(--tw-text-opacity))}.milkdown-theme-nord.prose\n  :where(blockquote p:first-of-type):not(:where([class~="not-prose"] *)):before,\n.milkdown-theme-nord.prose\n  :where(blockquote p:first-of-type):not(:where([class~="not-prose"] *)):after{content:""}.milkdown-theme-nord.prose\n  :where(code):not(:where([class~="not-prose"] *)):before,\n.milkdown-theme-nord.prose\n  :where(code):not(:where([class~="not-prose"] *)):after{content:""}.milkdown-theme-nord.prose .tableWrapper{position:relative;margin-bottom:0.5rem;overflow-x:auto}.milkdown-theme-nord.prose table{font-size:0.875rem;line-height:1.25rem;--tw-shadow:0 4px 6px -1px rgb(0 0 0/0.1),0 2px 4px -2px rgb(0 0 0/0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);width:max-content}@media (min-width: 640px){.milkdown-theme-nord.prose table{border-radius:0.5rem}}.milkdown-theme-nord.prose td,\n.milkdown-theme-nord.prose th{padding:0.75rem 1.5rem!important;max-width:20em}.milkdown-theme-nord.prose tr{border-bottom-width:1px;--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}.prose :where(tr:first-child){background-color:var(--antd-table-header-bg)}.dark .milkdown-theme-nord.prose tr{--tw-border-opacity:1;border-color:rgb(75 85 99/var(--tw-border-opacity))}.milkdown-theme-nord.prose :where(td, th) p{margin:0!important}.dark .milkdown-theme-nord.prose :where(td, th):nth-child(odd){--tw-bg-opacity:1;background-color:rgb(17 24 39/var(--tw-bg-opacity))}.milkdown-theme-nord.prose.ProseMirror .selectedCell:after{background-color:#88c0d04d}.milkdown-theme-nord.prose br[data-is-inline="true"],\n.milkdown-theme-nord.prose br[data-is-inline="true"]:after{content:" "}.prose{color:var(--color-normal-text)}.prose :where(p):not(:where([class~="not-prose"] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where([class~="lead"]):not(:where([class~="not-prose"] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-top:1.2em;margin-bottom:1.2em}.prose :where(a):not(:where([class~="not-prose"] *)){color:var(--color-info);text-decoration:underline;font-weight:500}.prose :where(strong):not(:where([class~="not-prose"] *)){color:var(--color-strong-text);font-weight:600}.user .prose :where(strong):not(:where([class~="not-prose"] *)){color:inherit;font-weight:600;padding:0 2px}.prose :where(a strong):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(thead th strong):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(ol):not(:where([class~="not-prose"] *)){list-style-type:decimal;margin-top:1.25em;margin-bottom:1.25em;padding-left:1.625em}.prose :where(ol[type="A"]):not(:where([class~="not-prose"] *)){list-style-type:upper-alpha}.prose :where(ol[type="a"]):not(:where([class~="not-prose"] *)){list-style-type:lower-alpha}.prose :where(ol[type="A" s]):not(:where([class~="not-prose"] *)){list-style-type:upper-alpha}.prose :where(ol[type="a" s]):not(:where([class~="not-prose"] *)){list-style-type:lower-alpha}.prose :where(ol[type="I"]):not(:where([class~="not-prose"] *)){list-style-type:upper-roman}.prose :where(ol[type="i"]):not(:where([class~="not-prose"] *)){list-style-type:lower-roman}.prose :where(ol[type="I" s]):not(:where([class~="not-prose"] *)){list-style-type:upper-roman}.prose :where(ol[type="i" s]):not(:where([class~="not-prose"] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~="not-prose"] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~="not-prose"] *)){list-style-type:disc;margin-top:1.25em;margin-bottom:1.25em;padding-left:1.625em}.prose :where(ol > li):not(:where([class~="not-prose"] *))::marker{font-weight:400;color:var(--tw-prose-counters)}.prose :where(ul > li):not(:where([class~="not-prose"] *))::marker{color:var(--tw-prose-bullets)}.prose :where(hr):not(:where([class~="not-prose"] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose :where(blockquote):not(:where([class~="not-prose"] *)){font-weight:500;font-style:italic;color:var(--color-auxiliary-text);border-left-width:0.25rem;border-left-color:var(--tw-prose-quote-borders);quotes:"\\201C" "\\201D" "\\2018" "\\2019";margin-top:1.6em;margin-bottom:1.6em;padding-left:1em}.prose\n  :where(blockquote p:first-of-type):not(\n    :where([class~="not-prose"] *)\n  )::before{content:open-quote}.prose\n  :where(blockquote p:last-of-type):not(:where([class~="not-prose"] *))::after{content:close-quote}.prose :where(h1):not(:where([class~="not-prose"] *)){color:var(--color-strong-text);font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:0.8888889em;line-height:1.1111111}.prose :where(h1 strong):not(:where([class~="not-prose"] *)){font-weight:900;color:inherit}.prose :where(h2):not(:where([class~="not-prose"] *)){color:var(--color-strong-text);font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333}.prose :where(h2 strong):not(:where([class~="not-prose"] *)){font-weight:800;color:inherit}.prose :where(h3):not(:where([class~="not-prose"] *)){color:var(--color-strong-text);font-weight:600;font-size:1.25em;margin-top:1.6em;margin-bottom:0.6em;line-height:1.6}.prose :where(h3 strong):not(:where([class~="not-prose"] *)){font-weight:700;color:inherit}.prose :where(h4):not(:where([class~="not-prose"] *)){color:var(--color-strong-text);font-weight:600;margin-top:1.5em;margin-bottom:0.5em;line-height:1.5}.prose :where(h4 strong):not(:where([class~="not-prose"] *)){font-weight:700;color:inherit}.prose :where(img):not(:where([class~="not-prose"] *)){margin-top:2em;margin-bottom:2em}.prose :where(figure > *):not(:where([class~="not-prose"] *)){margin-top:0;margin-bottom:0}.prose :where(figcaption):not(:where([class~="not-prose"] *)){color:var(--tw-prose-captions);font-size:0.875em;line-height:1.4285714;margin-top:0.8571429em}.prose :where(code):not(:where([class~="not-prose"] *)){color:var(--tw-prose-code);font-weight:600;font-size:0.875em}.prose :where(code):not(:where([class~="not-prose"] *))::before{content:"`"}.prose :where(code):not(:where([class~="not-prose"] *))::after{content:"`"}.prose :where(a code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(h1 code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(h2 code):not(:where([class~="not-prose"] *)){color:inherit;font-size:0.875em}.prose :where(h3 code):not(:where([class~="not-prose"] *)){color:inherit;font-size:0.9em}.prose :where(h4 code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(blockquote code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(thead th code):not(:where([class~="not-prose"] *)){color:inherit}.prose :where(pre):not(:where([class~="not-prose"] *)){color:var(--tw-prose-pre-code);background-color:var(--tw-prose-pre-bg);overflow-x:auto;font-weight:400;font-size:0.875em;line-height:1.7142857;margin-top:1.7142857em;margin-bottom:1.7142857em;border-radius:0.375rem;padding-top:0.8571429em;padding-right:1.1428571em;padding-bottom:0.8571429em;padding-left:1.1428571em}.prose :where(pre code):not(:where([class~="not-prose"] *)){background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:inherit;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit}.prose :where(pre code):not(:where([class~="not-prose"] *))::before{content:none}.prose :where(pre code):not(:where([class~="not-prose"] *))::after{content:none}.prose :where(table):not(:where([class~="not-prose"] *)){width:100%;table-layout:auto;text-align:left;margin-top:2em;margin-bottom:2em;font-size:0.875em;line-height:1.7142857}.prose :where(thead):not(:where([class~="not-prose"] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-th-borders)}.prose :where(thead th):not(:where([class~="not-prose"] *)){color:var(--color-strong-text);font-weight:600;vertical-align:bottom;padding-right:0.5714286em;padding-bottom:0.5714286em;padding-left:0.5714286em}.prose :where(tbody tr):not(:where([class~="not-prose"] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-td-borders)}.prose :where(tbody tr:last-child):not(:where([class~="not-prose"] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~="not-prose"] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~="not-prose"] *)){border-top-width:1px;border-top-color:var(--tw-prose-th-borders)}.prose :where(tfoot td):not(:where([class~="not-prose"] *)){vertical-align:top}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgb(0 0 0/50%);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(video):not(:where([class~="not-prose"] *)){margin-top:2em;margin-bottom:2em}.prose :where(figure):not(:where([class~="not-prose"] *)){margin-top:2em;margin-bottom:2em}.prose :where(li):not(:where([class~="not-prose"] *)){margin-top:0.5em;margin-bottom:0.5em}.prose :where(ol > li):not(:where([class~="not-prose"] *)){padding-left:0.375em}.prose :where(ul > li):not(:where([class~="not-prose"] *)){padding-left:0.375em}.prose :where(.prose > ul > li p):not(:where([class~="not-prose"] *)){margin-top:0.75em;margin-bottom:0.75em}.prose\n  :where(.prose > ul > li > *:first-child):not(:where([class~="not-prose"] *)){margin-top:1.25em}.prose\n  :where(.prose > ul > li > *:last-child):not(:where([class~="not-prose"] *)){margin-bottom:1.25em}.prose\n  :where(.prose > ol > li > *:first-child):not(:where([class~="not-prose"] *)){margin-top:1.25em}.prose\n  :where(.prose > ol > li > *:last-child):not(:where([class~="not-prose"] *)){margin-bottom:1.25em}.prose :where(ul ul, ul ol, ol ul, ol ol):not(:where([class~="not-prose"] *)){margin-top:0.75em;margin-bottom:0.75em}.prose :where(hr + *):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(h2 + *):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(h3 + *):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(h4 + *):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~="not-prose"] *)){padding-left:0}.prose :where(thead th:last-child):not(:where([class~="not-prose"] *)){padding-right:0}.prose :where(tbody td, tfoot td):not(:where([class~="not-prose"] *)){padding-top:0.5714286em;padding-right:0.5714286em;padding-bottom:0.5714286em;padding-left:0.5714286em}.prose\n  :where(tbody td:first-child, tfoot td:first-child):not(\n    :where([class~="not-prose"] *)\n  ){padding-left:0}.prose\n  :where(tbody td:last-child, tfoot td:last-child):not(\n    :where([class~="not-prose"] *)\n  ){padding-right:0}.prose :where(.prose > :first-child):not(:where([class~="not-prose"] *)){margin-top:0}.prose :where(.prose > :last-child):not(:where([class~="not-prose"] *)){margin-bottom:0}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.isolate{isolation:isolate}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.flex-shrink{flex-shrink:1}.shrink{flex-shrink:1}.flex-grow{flex-grow:1}.grow{flex-grow:1}.border-collapse{border-collapse:collapse}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.select-all{-webkit-user-select:all;user-select:all}.resize{resize:both}.flex-wrap{flex-wrap:wrap}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.break-all{word-break:break-all}.rounded{border-radius:0.25rem}.border{border-width:1px}.text-justify{text-align:justify}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.italic{font-style:italic}.ordinal{--tw-ordinal:ordinal;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero:slashed-zero;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure:lining-nums;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure:oldstyle-nums;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing:proportional-nums;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction:diagonal-fractions;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction:stacked-fractions;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.shadow{--tw-shadow:0 1px 3px 0 rgb(0 0 0/0.1),0 1px 2px -1px rgb(0 0 0/0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.blur{--tw-blur:blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert:invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia:sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:150ms}.ease-in{transition-timing-function:cubic-bezier(0.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(0.4,0,0.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,0.2,1)}.milkdown{border-radius:0.25rem;margin:0;padding:0}.editor{margin-left:auto;margin-right:auto}:is(.dark .dark\\:prose-invert){--tw-prose-body:var(--tw-prose-invert-body);--tw-prose-headings:var(--tw-prose-invert-headings);--tw-prose-lead:var(--tw-prose-invert-lead);--tw-prose-links:var(--tw-prose-invert-links);--tw-prose-bold:var(--tw-prose-invert-bold);--tw-prose-counters:var(--tw-prose-invert-counters);--tw-prose-bullets:var(--tw-prose-invert-bullets);--tw-prose-hr:var(--tw-prose-invert-hr);--tw-prose-quotes:var(--tw-prose-invert-quotes);--tw-prose-quote-borders:var(--tw-prose-invert-quote-borders);--tw-prose-captions:var(--tw-prose-invert-captions);--tw-prose-code:var(--tw-prose-invert-code);--tw-prose-pre-code:var(--tw-prose-invert-pre-code);--tw-prose-pre-bg:var(--tw-prose-invert-pre-bg);--tw-prose-th-borders:var(--tw-prose-invert-th-borders);--tw-prose-td-borders:var(--tw-prose-invert-td-borders)}code[class*="language-"],\npre[class*="language-"]{color:#f8f8f2;background:none;font-family:"Fira Code",Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}pre[class*="language-"]{padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em}:not(pre) > code[class*="language-"],\npre[class*="language-"]{background:#2e3440}:not(pre) > code[class*="language-"]{padding:0.1em;border-radius:0.3em;white-space:normal}.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata{color:#636f88}.token.punctuation{color:#81a1c1}.namespace{opacity:0.7}.token.property,\n.token.tag,\n.token.constant,\n.token.symbol,\n.token.deleted{color:#81a1c1}.token.number{color:#b48ead}.token.boolean{color:#81a1c1}.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted{color:#a3be8c}.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string,\n.token.variable{color:#81a1c1}.token.atrule,\n.token.attr-value,\n.token.function,\n.token.class-name{color:#88c0d0}.token.keyword{color:#81a1c1}.token.regex,\n.token.important{color:#ebcb8b}.token.important,\n.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}',""]);const a=i},4218:(e,t,o)=>{o.d(t,{A:()=>a});var r=o(6758),s=o.n(r),n=o(935),i=o.n(n)()(s());i.push([e.id,'.quick-answer-wrapper{margin-top:20px;border-radius:6px;border:1px solid var(--color-border-divider-line);padding:16px 24px}.quick-answer-wrapper .tip{font-size:18px;margin-bottom:30px}.quick-answer-wrapper .quick-answer-list{display:grid;gap:24px 16px;border-radius:3px;grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}:is(.quick-answer-wrapper .quick-answer-list) .quick-answer-card-item{position:relative;padding:16px;border-radius:6px;cursor:pointer;display:flex;padding:10px 20px;gap:12px;width:auto;box-sizing:border-box}:is(:is(.quick-answer-wrapper .quick-answer-list) .quick-answer-card-item):hover{box-shadow:var(--quick-answer-card-item-hover)}:is(:is(:is(.quick-answer-wrapper .quick-answer-list) .quick-answer-card-item) .left) .icon{font-size:20px;color:#fff;padding:8px;border-radius:6px;margin-top:4px}:is(:is(.quick-answer-wrapper .quick-answer-list) .quick-answer-card-item) .content{flex:1;min-width:0}:is(:is(:is(.quick-answer-wrapper .quick-answer-list) .quick-answer-card-item) .content) .title{font-size:16px;font-weight:bold;color:var(--color-normal-text);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}:is(:is(:is(.quick-answer-wrapper .quick-answer-list) .quick-answer-card-item) .content) .description{color:var(--color-auxiliary-text);font-size:12px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.quick-answer-wrapper .show-more-wrapper{text-align:center;margin-top:20px}:is(.quick-answer-wrapper .show-more-wrapper) .show-more-btn{line-height:24px}:is(:is(.quick-answer-wrapper .show-more-wrapper) .show-more-btn)::after,:is(:is(.quick-answer-wrapper .show-more-wrapper) .show-more-btn)::before{content:"- - - - -";color:var(--color-text-divider-line);position:absolute}:is(:is(.quick-answer-wrapper .show-more-wrapper) .show-more-btn)::before{margin-left:-60px}:is(:is(.quick-answer-wrapper .show-more-wrapper) .show-more-btn)::after{margin-left:10px}',""]);const a=i},3613:(e,t,o)=>{o.d(t,{A:()=>m});var r=o(6758),s=o.n(r),n=o(935),i=o.n(n),a=o(62),l=o.n(a),c=new URL(o(3101),o.b),p=i()(s()),d=l()(c);p.push([e.id,`.message-list-loading-wrapper{width:140px;height:140px;background-repeat:no-repeat;margin:auto;background-image:url(${d})}.chart-item-loading-wrapper{display:flex;padding:10px;font-size:40px;align-items:center;justify-content:center;color:#d2d3d4;border-radius:6px}.chart-item-loading-wrapper .load{display:inline-block;position:relative;width:64px;height:64px}:is(.chart-item-loading-wrapper .load) div{position:absolute;top:27px;width:11px;height:11px;border-radius:50%;background:#aaa8a8;animation-timing-function:cubic-bezier(0,1,1,0)}:is(:is(.chart-item-loading-wrapper .load) div):nth-child(1){left:6px;animation:load1 0.6s infinite}:is(:is(.chart-item-loading-wrapper .load) div):nth-child(2){left:6px;animation:load2 0.6s infinite}:is(:is(.chart-item-loading-wrapper .load) div):nth-child(3){left:26px;animation:load2 0.6s infinite}:is(:is(.chart-item-loading-wrapper .load) div):nth-child(4){left:45px;animation:load3 0.6s infinite}@keyframes load1{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes load2{0%{transform:translate(0,0)}100%{transform:translate(19px,0)}}@keyframes load3{0%{transform:scale(1)}100%{transform:scale(0)}}.common-loading-wrapper{text-align:center;font-size:30px;color:#ddd}`,""]);const m=p},6870:(e,t,o)=>{o.d(t,{A:()=>a});var r=o(6758),s=o.n(r),n=o(935),i=o.n(n)()(s());i.push([e.id,':root{--message-box-bg:#f1f3f4;--search-input-icon-hover:#ddd;--quick-answer-card-item-hover:0px 7px 8px 0px rgba(0,0,0,0.15)}html[data-theme="dark"],\nhtml[data-theme="dark-v2"]{--message-box-bg:rgba(255,255,255,0.16);--search-input-icon-hover:#383838;--quick-answer-card-item-hover:0px 7px 8px 0px rgba(0,0,0,0.24)}',""]);const a=i},5800:(e,t,o)=>{o.d(t,{A:()=>u});var r=o(6758),s=o.n(r),n=o(935),i=o.n(n),a=o(7956),l=o(3613),c=o(4345),p=o(4218),d=o(2793),m=i()(s());m.i(a.A),m.i(l.A),m.i(c.A),m.i(p.A),m.i(d.A),m.push([e.id,"",""]);const u=m},7956:(e,t,o)=>{o.d(t,{A:()=>h});var r=o(6758),s=o.n(r),n=o(935),i=o.n(n),a=o(62),l=o.n(a),c=new URL(o(7309),o.b),p=new URL(o(950),o.b),d=i()(s()),m=l()(c),u=l()(p);d.push([e.id,`:host{display:block;height:100%}:host([hidden]){display:none}.chat-view-container{display:flex;flex-direction:row;width:100%;height:100%}.chat-view-selector{width:200px;padding:14px;border-right:1px solid var(--color-border-divider-line)}.chat-view-content{flex:1;display:flex;flex-direction:column;width:100%;gap:8px}.chat-view-content .chat-view-toolbar{background:#e0e4e5;padding:18px;display:flex;justify-content:space-between;align-items:center}:is(.chat-view-content .chat-view-toolbar) .username{color:#333333;font-weight:500;line-height:22px;font-size:16px}.chat-view-content .chat-view{max-width:100%;position:relative;display:flex;flex:1;flex-direction:column;box-sizing:border-box;overflow-y:auto}.session-list-wrapper{display:flex;flex-direction:column;height:100%}.session-list-wrapper .session-title{font-size:16px;color:var(--color-header-text);margin-bottom:16px}.session-list-wrapper .session-list{overflow-y:auto}:is(.session-list-wrapper .session-list) .session-item{display:flex;justify-content:space-between;cursor:pointer;border-radius:var(--small-border-radius);background-color:var(--third-menu-default-bg);padding:6px 18px;color:var(--color-header-text);margin-top:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:is(:is(.session-list-wrapper .session-list) .session-item) .content{width:0;flex:1}:is(:is(:is(.session-list-wrapper .session-list) .session-item) .content) .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:is(:is(:is(.session-list-wrapper .session-list) .session-item):hover .session-close-btn) eo-icon{display:block}:is(:is(:is(.session-list-wrapper .session-list) .session-item):hover .session-edit-btn) eo-icon{display:block}:is(:is(.session-list-wrapper .session-list) .session-item):first-child{margin-top:0px}.active:is(:is(.session-list-wrapper .session-list) .session-item){background-color:var(--third-menu-item-selected-bg);color:var(--color-brand)}:is(:is(.session-list-wrapper .session-list) .session-item):hover,.active:is(:is(.session-list-wrapper .session-list) .session-item):hover{color:var(--color-header-text);background-color:var(--third-menu-item-hover-bg)}:is(:is(.session-list-wrapper .session-list) .session-item) .session-close-btn{display:flex;align-items:center;cursor:pointer;font-size:12px;margin-left:6px}:is(:is(:is(.session-list-wrapper .session-list) .session-item) .session-close-btn):hover{color:var(--color-error)}:is(:is(:is(.session-list-wrapper .session-list) .session-item) .session-close-btn) eo-icon{display:none}:is(:is(.session-list-wrapper .session-list) .session-item) .session-edit-btn{display:flex;align-items:center;cursor:pointer;font-size:12px}:is(:is(:is(.session-list-wrapper .session-list) .session-item) .session-edit-btn):hover{color:var(--color-info)}:is(:is(:is(.session-list-wrapper .session-list) .session-item) .session-edit-btn) eo-icon{display:none}.message-list{display:flex;flex-direction:column;padding-bottom:30px;padding:12px;flex:1;margin:0 auto;max-width:1556px;width:100%;box-sizing:border-box}.message-list .message-list-box{display:flex;flex-direction:column;position:relative;gap:36px}:is(.message-list .message-list-box) .message-item{display:flex;gap:8px;padding-right:40px}:is(:is(.message-list .message-list-box) .message-item):last-child{margin-bottom:10px}.user:is(:is(.message-list .message-list-box) .message-item){flex-direction:row-reverse;padding:0;padding-left:40px}.user:is(:is(.message-list .message-list-box) .message-item) .message-box{margin-bottom:0;overflow:hidden}:is(.user:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-top{flex-direction:row-reverse}:is(.user:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content{justify-content:flex-end}:is(:is(:is(.user:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content) .wrapper) .content{background-color:#606f7c;color:#fff}:is(:is(:is(:is(.user:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content) .wrapper) .content) .ProseMirror.prose{color:#fff}:is(:is(.message-list .message-list-box) .message-item) .avatar{width:36px;height:36px;margin-top:32px;border-radius:50%;font-size:20px;display:flex;align-items:center;justify-content:center}.user:is(:is(:is(.message-list .message-list-box) .message-item) .avatar){background-image:url(${m})}.robot:is(:is(:is(.message-list .message-list-box) .message-item) .avatar){background-image:url(${u})}:is(:is(.message-list .message-list-box) .message-item) .message-box{position:relative;flex:1;overflow:hidden}:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content{display:flex;justify-content:start;position:relative}:is(:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content) .wrapper{position:relative;overflow:hidden}:is(:is(:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content) .wrapper) .content{position:relative;padding:14px;border-radius:6px;overflow:hidden;background:var(--message-box-bg)}:is(:is(:is(:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content) .wrapper) .content) .text-item{white-space:pre-wrap}:is(:is(:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content) .wrapper) .message-toolbar{display:flex;gap:12px;justify-content:flex-end;margin-top:4px}:is(:is(:is(:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content) .wrapper) .message-toolbar) eo-icon{cursor:pointer;color:#606f7c}.active:is(:is(:is(:is(:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content) .wrapper) .message-toolbar) eo-icon){color:var(--color-brand)}:is(:is(:is(:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-content) .wrapper) .message-toolbar) .split{width:1px;height:16px;background-color:#d9d9d9;margin-bottom:1px}:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-top{display:flex;margin-bottom:4px;color:#bec8ce;gap:8px}:is(:is(:is(:is(.message-list .message-list-box) .message-item) .message-box) .message-top) .time{min-height:22px}:is(.message-list .message-list-box) .stop-responding-wrapper{position:absolute;left:44px;bottom:-28px}.message-list .tool-calls{width:-moz-fit-content;width:fit-content;max-width:100%;padding:14px;border-radius:6px;background:var(--message-box-bg);margin-bottom:8px}:is(.message-list .tool-calls) pre{margin-top:1em;padding:0.5em;border:1px solid var(--palette-gray-5);border-radius:4px;font-size:12px}.message-list .tool-calls-summary{cursor:pointer;display:flex;justify-content:space-between;align-items:center;gap:8px;width:-moz-fit-content;width:fit-content}.message-list .tool-calls-summary-toggle{color:var(--color-secondary-text)}.message-list .tool-calls-status,.message-list .tool-call-function-name{display:flex;gap:8px;align-items:center}.processing:is(.message-list .tool-calls-status){color:var(--color-secondary-text)}.ok:is(.message-list .tool-calls-status){color:var(--color-success)}.failed:is(.message-list .tool-calls-status){color:var(--color-error)}.message-list .tool-call{margin-top:1em;padding-top:1em;border-top:1px solid var(--palette-gray-5)}.message-list .tool-call-function-name{font-weight:bold;margin-bottom:0.5em}.message-list .tool-call-wait-response{margin:1em 0}.message-list .tool-call-function-arguments.failed,.message-list .tool-call-function-response.failed{color:var(--color-error)}:is(.message-list .tool-call-function-arguments.failed,.message-list .tool-call-function-response.failed) pre{border-color:var(--color-error)}.search-input-box{display:flex;flex-direction:column;height:87px;padding:12px;position:relative;margin:0 auto;max-width:1556px;width:100%;box-sizing:border-box}.search-input-box .input-toolbar{position:absolute;bottom:71%;left:12px;right:12px}.search-input-box .mentions-list-wrapper{position:absolute;bottom:100%;left:12px;right:12px;z-index:1}:is(.search-input-box .mentions-list-wrapper) .content{background-color:var(--antd-input-bg);border-radius:6px;border:1px solid var(--palette-gray-4);padding:8px}:is(:is(.search-input-box .mentions-list-wrapper) .content) .mentions-title{font-size:14px;font-weight:bold;color:var(--color-strong-text);padding-bottom:8px}:is(:is(.search-input-box .mentions-list-wrapper) .content) .mentions-list{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:auto}:is(:is(:is(.search-input-box .mentions-list-wrapper) .content) .mentions-list) .mentions-item{display:flex;flex-direction:row;align-items:center;gap:12px;padding:8px;border-radius:6px;cursor:pointer}:is(:is(:is(:is(.search-input-box .mentions-list-wrapper) .content) .mentions-list) .mentions-item) .icon{font-size:18px;padding:8px;border-radius:50%}:is(:is(:is(:is(.search-input-box .mentions-list-wrapper) .content) .mentions-list) .mentions-item) .name{color:var(--color-normal-text)}:is(:is(:is(:is(.search-input-box .mentions-list-wrapper) .content) .mentions-list) .mentions-item) .description{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;color:var(--color-disabled-text)}:is(:is(:is(:is(.search-input-box .mentions-list-wrapper) .content) .mentions-list) .mentions-item):hover,.active:is(:is(:is(:is(.search-input-box .mentions-list-wrapper) .content) .mentions-list) .mentions-item){background:var(--palette-gray-3)}.search-input-box .snippets-list-wrapper{position:absolute;bottom:100%;left:12px;right:12px;z-index:1}:is(.search-input-box .snippets-list-wrapper) .content{background-color:var(--antd-input-bg);border-radius:6px;border:1px solid var(--palette-gray-4);padding:8px}:is(:is(.search-input-box .snippets-list-wrapper) .content) .snippets-title{font-size:14px;font-weight:bold;color:var(--color-strong-text);padding-bottom:8px}:is(:is(.search-input-box .snippets-list-wrapper) .content) .snippets-list{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:auto}:is(:is(:is(.search-input-box .snippets-list-wrapper) .content) .snippets-list) .snippets-item{display:flex;flex-direction:row;align-items:center;gap:12px;padding:8px;border-radius:6px;cursor:pointer}:is(:is(:is(:is(.search-input-box .snippets-list-wrapper) .content) .snippets-list) .snippets-item) .icon{font-size:18px;padding:8px;border-radius:50%}:is(:is(:is(:is(.search-input-box .snippets-list-wrapper) .content) .snippets-list) .snippets-item) .name{color:var(--color-normal-text)}:is(:is(:is(:is(.search-input-box .snippets-list-wrapper) .content) .snippets-list) .snippets-item) .description{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;color:var(--color-disabled-text)}:is(:is(:is(:is(.search-input-box .snippets-list-wrapper) .content) .snippets-list) .snippets-item):hover,.active:is(:is(:is(:is(.search-input-box .snippets-list-wrapper) .content) .snippets-list) .snippets-item){background:var(--palette-gray-3)}.search-input-box.fill-content{border-top:1px solid rgba(197,197,197,0.5)}.search-input-box .input-box{position:absolute;bottom:20px;left:12px;right:12px;display:inline-flex;padding:var(--input-affix-wrapper-padding);border-radius:var(--small-border-radius);height:-moz-fit-content;height:fit-content;color:var(--text-color-default);background-color:var(--antd-input-bg);border:1px solid var(--color-border-divider-line);transition:border-color 0.3s;overflow:visible}.active:is(.search-input-box .input-box){border-color:var(--antd-input-focus-border-color)}.disabled:is(.search-input-box .input-box){pointer-events:none;background:var(--input-outline-disabled);cursor:not-allowed}.expand:is(.search-input-box .input-box) textarea{padding-right:50px;margin-bottom:50px}:is(.search-input-box .input-box) textarea{width:100%;height:22px;font-size:18px;resize:none;padding:10px 50px 10px 10px;outline:none;border:none;line-height:20px;color:var(--color-normal-text);background-color:transparent;cursor:inherit;transition:all 300ms ease-out;box-sizing:content-box}:is(:is(.search-input-box .input-box) textarea)::placeholder{color:#b0b1b8}:is(.search-input-box .input-box) .suffix-icon{display:flex;align-items:center;gap:8px;position:absolute;right:12px;bottom:6px}:is(:is(.search-input-box .input-box) .suffix-icon) eo-tooltip{display:flex}:is(:is(.search-input-box .input-box) .suffix-icon) eo-icon{font-size:20px;cursor:pointer;padding:6px;border-radius:3px}:is(:is(:is(.search-input-box .input-box) .suffix-icon) eo-icon):not(.disabled):hover{background:var(--search-input-icon-hover)}:is(:is(.search-input-box .input-box) .suffix-icon) .submit-split{width:1px;height:20px;background:#d1d1d1}.active:is(:is(:is(.search-input-box .input-box) .suffix-icon) .submit-btn){color:var(--color-brand)}.disabled:is(:is(:is(.search-input-box .input-box) .suffix-icon) .submit-btn){color:var(--color-disabled-text);cursor:not-allowed}:is(.search-input-box .input-box) .toolbar-icon{position:absolute;top:12px;right:14px}:is(:is(.search-input-box .input-box) .toolbar-icon) eo-icon{font-size:20px;cursor:pointer;padding:6px;border-radius:3px}:is(:is(:is(.search-input-box .input-box) .toolbar-icon) eo-icon):hover{background:var(--search-input-icon-hover)}.search-input-box .search-input-toolbar{display:flex;justify-content:flex-end;position:absolute;right:12px;bottom:0px}:is(.search-input-box .search-input-toolbar) .input-tip{font-size:12px;color:var(--color-secondary-text)}.message-start-tip,\n.session-end-tip{color:var(--color-disabled-text);font-size:12px;text-align:center;margin-top:12px;position:relative}:is(.message-start-tip,.session-end-tip)::after,:is(.message-start-tip,.session-end-tip)::before{content:"- - -";color:var(--color-disabled-text);position:absolute}:is(.message-start-tip,.session-end-tip)::before{margin-left:-35px}:is(.message-start-tip,.session-end-tip)::after{margin-left:10px}.session-search-input-box{position:relative;display:inline-flex;padding:var(--input-affix-wrapper-padding);border-radius:var(--small-border-radius);height:-moz-fit-content;height:fit-content;color:var(--text-color-default);background-color:var(--antd-input-bg);border:1px solid var(--color-border-divider-line);margin-bottom:8px}.session-search-input-box input{width:100%;padding:4px 28px 4px 8px;outline:none;border:none;color:var(--color-normal-text);background-color:transparent;cursor:inherit;transition:all 300ms ease-out;box-sizing:content-box}:is(.session-search-input-box input)::placeholder{color:#b0b1b8}.session-search-input-box .suffix-icon{display:flex;align-items:center;position:absolute;right:0;bottom:0;color:var(--color-secondary-text)}:is(.session-search-input-box .suffix-icon) eo-tooltip{display:flex}:is(.session-search-input-box .suffix-icon) eo-icon{font-size:18px;cursor:pointer;padding:6px;border-radius:3px}:is(:is(.session-search-input-box .suffix-icon) eo-icon):not(.disabled):hover{color:var(--color-info-active)}`,""]);const h=d},2896:(e,t,o)=>{var r=o(2591),s=o.n(r),n=o(1740),i=o.n(n),a=o(8128),l=o.n(a),c=o(855),p=o.n(c),d=o(3051),m=o.n(d),u=o(3656),h=o.n(u),g=o(6870),w={};w.styleTagTransform=h(),w.setAttributes=p(),w.insert=l().bind(null,"head"),w.domAPI=i(),w.insertStyleElement=m(),s()(g.A,w),g.A&&g.A.locals&&g.A.locals},3262:(e,t,o)=>{var r=o(2591),s=o.n(r),n=o(1740),i=o.n(n),a=o(8128),l=o.n(a),c=o(855),p=o.n(c),d=o(3051),m=o.n(d),u=o(3656),h=o.n(u),g=o(5800),w={};w.styleTagTransform=h(),w.setAttributes=p(),w.insert=l().bind(null,"head"),w.domAPI=i(),w.insertStyleElement=m(),s()(g.A,w),g.A&&g.A.locals&&g.A.locals},3101:(e,t,o)=>{e.exports=o.p+"images/863bc601.gif"},950:(e,t,o)=>{e.exports=o.p+"images/8c6e5bc3.png"},7309:(e,t,o)=>{e.exports=o.p+"images/6c9a569e.png"}}]);
//# sourceMappingURL=2742.6a07731b.js.map