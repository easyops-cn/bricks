{"version":3,"file":"chunks/1493.cc58ad97.js","mappings":"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","sources":["webpack:///./src/app-wall/utils.ts","webpack:///./src/app-wall/app-wall.tsx","webpack:///./src/app-wall/app-wall.shadow.css","webpack:///./src/app-wall/card-item/card-item.shadow.css","webpack:///./src/app-wall/relation-line/relation-line.shadow.css","webpack:///./src/app-wall/system-card/system-card.shadow.css","webpack:///./src/data-view-variables.shadow.css"],"sourcesContent":["import {\n  Vector3,\n  Object3D,\n  Quaternion,\n  Vector3Tuple,\n  PerspectiveCamera,\n} from \"three\";\nimport { CSS3DObject } from \"three/addons/renderers/CSS3DRenderer.js\";\nimport \"./card-item/index.js\";\nimport \"./relation-line/index.js\";\nimport \"./system-card/index.js\";\nimport type { AppWallCardItemProps } from \"./card-item/index.js\";\nimport type {\n  AppWallRelationLine,\n  AppWallRelationLineProps,\n} from \"./relation-line/index.js\";\nimport type { SystemCardProps } from \"./system-card/index.js\";\nimport {\n  TrapezoidalObjectProps,\n  TrapezoidalProps,\n  bounds,\n  CardSize,\n  DistanceConfig,\n  Position,\n  Target,\n  Ele,\n  AppWallCardBrickNameType,\n} from \"./interface.js\";\nimport { CabinetThumbnail } from \"../cabinet/cabinet-thumbnail/index.jsx\";\nimport { SimpleCardItemProps } from \"../simple-card-item/index.js\";\n\nexport interface AppData {\n  key: string;\n  status: \"normal\" | \"warning\";\n  cardItemProps: AppWallCardItemProps & SimpleCardItemProps;\n  systemCardProps: SystemCardProps;\n  trapezoidalProps: TrapezoidalProps;\n  data?: any;\n}\n\nexport type Relation = {\n  source: string;\n  target: string;\n};\n\nexport interface UserData {\n  appData: AppData;\n  elementStyle: {\n    width: number;\n    height: number;\n  };\n  turningStyle: {\n    width: number;\n    height: number;\n  };\n  systemCardStyle: {\n    width: number;\n    height: number;\n  };\n  hoverStyle: {\n    width: number;\n    height: number;\n  };\n  cardItemObject3D: {\n    curve: Object3D;\n    flat: Object3D;\n    hover: Object3D;\n    clickTurn: Object3D;\n  };\n  systemCardObject3D: {\n    clickTurn: Object3D;\n    front: Object3D;\n  };\n}\nexport const createRelationLine = (\n  sourceVector: Vector3,\n  targetVector: Vector3,\n  lightColor: AppWallRelationLineProps[\"lightColor\"]\n): CSS3DObject => {\n  const subVector = new Vector3().subVectors(targetVector, sourceVector);\n  const lineLength = subVector.length();\n\n  const lineElement = document.createElement(\n    \"data-view.app-wall-relation-line\"\n  ) as AppWallRelationLine;\n  lineElement.style.height = `${lineLength}px`;\n  lineElement.classList.add(\"relation-line\");\n  lineElement.lightColor = lightColor;\n  const lineObject = new CSS3DObject(lineElement);\n\n  const centerVector = new Vector3().lerpVectors(\n    sourceVector,\n    targetVector,\n    0.5\n  );\n  lineObject.position.copy(centerVector);\n  // lineObject.lookAt(new Vector3(0, 0, 10).add(centerVector));\n  // lineObject.lookAt(new Vector3(0, 10000, 0));\n\n  const quaternion = new Quaternion().setFromUnitVectors(\n    new Vector3(0, 1, 0).normalize(),\n    subVector.clone().normalize()\n  );\n  lineObject.setRotationFromQuaternion(quaternion);\n\n  return lineObject;\n};\n\nexport const getCenterPointOrSubPoint = (\n  start: Vector3Tuple,\n  end: Vector3Tuple\n) => {\n  const pointA = new Vector3(start[0], start[1], start[2]);\n  const pointB = new Vector3(end[0], end[1], end[2]);\n  return {\n    centerVector: new Vector3().lerpVectors(pointA, pointB, 0.5), //中心点坐标\n    subVector: new Vector3().subVectors(pointA, pointB), // a-b向量\n  };\n};\nexport const createTrapezoidalRightOrLeftElement = (props: {\n  BW: number;\n  TW: number;\n  d: number;\n  TH: number;\n  BH: number;\n  isLeft: boolean;\n}): CSS3DObject => {\n  const { BW, TW, d, TH, BH, isLeft } = props;\n  const height = Math.sqrt(Math.pow(TW / 2 - BW / 2, 2) + Math.pow(d, 2)); //斜边\n  const wrapper = document.createElement(\"div\");\n  wrapper.style.cssText = `\n                   width: ${height}px;\n                   height:${TH}px;\n                   position: relative;\n                   clip-path: polygon(0 0, ${height}px ${\n                     TH / 2 - BH / 2\n                   }px, ${height}px ${TH / 2 - BH / 2 + BH}px, 0 ${TH}px);\n                    `;\n  const cantCard = document.createElement(\"div\");\n  cantCard.className = \"trapezoidalLeftOrRightAnimation\";\n  wrapper.appendChild(cantCard);\n  const start: Vector3Tuple = isLeft ? [-BW / 2, 0, 0] : [BW / 2, 0, 0];\n  const end: Vector3Tuple = isLeft ? [-TW / 2, 0, d] : [TW / 2, 0, d];\n  const objectCantModel = new CSS3DObject(wrapper);\n  const { centerVector, subVector } = getCenterPointOrSubPoint(start, end);\n  objectCantModel.position.copy(centerVector);\n  const quaternion = new Quaternion().setFromUnitVectors(\n    new Vector3(1, 0, 0).normalize(),\n    subVector.clone().normalize()\n  );\n  objectCantModel.setRotationFromQuaternion(quaternion);\n  return objectCantModel;\n};\n\nexport const createTrapezoidalTopOrBottomElement = (props: {\n  BW: number;\n  TW: number;\n  d: number;\n  TH: number;\n  BH: number;\n  isTop: boolean;\n}): CSS3DObject => {\n  const { BW, TW, d, TH, BH, isTop } = props;\n  const height = Math.sqrt(Math.pow(TH / 2 - BH / 2, 2) + Math.pow(d, 2)); //斜边\n  const wrapper = document.createElement(\"div\");\n  wrapper.style.cssText = `\n                   width: ${TW}px;\n                   height:${height}px;\n                   position: relative;\n                   clip-path: polygon(0 0, ${TW}px 0, ${\n                     TW / 2 - BW / 2 + BW\n                   }px ${height}px, ${TW / 2 - BW / 2}px ${height}px);\n                   `;\n  const cantCard = document.createElement(\"div\");\n  cantCard.className = \"trapezoidalTopOrBottomAnimation\";\n  wrapper.appendChild(cantCard);\n  const objectCantModel = new CSS3DObject(wrapper);\n  const start: Vector3Tuple = isTop ? [0, -BH / 2, 0] : [0, BH / 2, 0];\n  const end: Vector3Tuple = isTop ? [0, -TH / 2, d] : [0, TH / 2, d];\n  const { centerVector, subVector } = getCenterPointOrSubPoint(start, end);\n  objectCantModel.position.copy(centerVector);\n  const topQuaternion = new Quaternion().setFromUnitVectors(\n    new Vector3(0, -1, 0).normalize(),\n    subVector.clone().normalize()\n  );\n  objectCantModel.setRotationFromQuaternion(topQuaternion);\n  return objectCantModel;\n};\n/**\n * 创建梯台模型\n * @param props\n * @returns\n */\nexport const createTrapezoidalObject = (props: TrapezoidalObjectProps) => {\n  const {\n    objectData,\n    leftBtnName,\n    clusters,\n    columns,\n    leftOnClick,\n    rightBtnName,\n    rightOnClick,\n    appName,\n  } = props;\n  const d = 600;\n  const container = document.createElement(\"div\");\n  const objectContainer = new CSS3DObject(container);\n  objectContainer.position.set(...objectData.point);\n  // 模型为梯形 , 底部和顶部的宽高成一定的比例计算，  bw: tw = 1:11; bh:th= 1:4.5\n  const BW: number = objectData.width,\n    BH: number = objectData.height,\n    TW = 1500,\n    TH = 1200;\n  // 底部\n  const bottomCard = document.createElement(\"div\");\n  bottomCard.style.cssText = `\n                   width: ${BW}px;\n                   height: ${BH}px;\n                   box-shadow: inset 0px 1px 2px 0px rgba(255,255,255,0.45);\n                   border: 1px solid rgba(118,255,255,0.58);\n                   padding: 16px;\n                   `;\n  const objectBottomModel = new CSS3DObject(bottomCard);\n  objectBottomModel.position.z = 0;\n  objectContainer.add(objectBottomModel);\n\n  // 顶部\n  const topCard = document.createElement(\"div\");\n  topCard.style.cssText = `\n                   width: ${TW}px;\n                   height:${TH}px;\n                   background: linear-gradient(rgb(13, 54, 179,0.6) 0%, rgb(74, 108, 156,0.6) 100%);\n                   box-sizing: border-box;\n                   padding: 16px;\n                   `;\n  const thumbnailEle = document.createElement(\n    \"data-view.cabinet-thumbnail\"\n  ) as CabinetThumbnail;\n  thumbnailEle.clusters = clusters ?? [];\n  thumbnailEle.columns = columns ?? 4;\n  thumbnailEle.appName = appName;\n  topCard.className = \"visibilityAnimate\";\n  topCard.appendChild(thumbnailEle);\n  const objectTopModel = new CSS3DObject(topCard);\n  objectTopModel.position.set(0, 0, d);\n\n  const objectCantLeftModel = createTrapezoidalRightOrLeftElement({\n    BW,\n    TW,\n    BH,\n    TH,\n    d,\n    isLeft: true,\n  }); //斜面右边\n  const objectCantRightModel = createTrapezoidalRightOrLeftElement({\n    BW,\n    TW,\n    BH,\n    TH,\n    d,\n    isLeft: false,\n  }); //斜面右边\n  const objectCantTopModel = createTrapezoidalTopOrBottomElement({\n    BW,\n    TW,\n    BH,\n    TH,\n    d,\n    isTop: true,\n  }); //斜面前边\n  const objectCantBottomModel = createTrapezoidalTopOrBottomElement({\n    BW,\n    TW,\n    BH,\n    TH,\n    d,\n    isTop: false,\n  }); //斜面后面\n  objectContainer.add(\n    objectCantLeftModel,\n    objectCantRightModel,\n    objectCantBottomModel,\n    objectCantTopModel\n  );\n  if (leftBtnName) {\n    const btnLeft = document.createElement(\"div\");\n    btnLeft.style.cssText = `\n                 color: #6BE0FA;\n                 font-size: 28px;\n                 font-weight: 500;\n                 width: ${TW / 2}px;\n                 line-height: 16px;\n                 `;\n    btnLeft.className = \"visibilityAnimate\";\n    const wordNode = document.createElement(\"span\");\n    wordNode.style.cursor = \"pointer\";\n    wordNode.innerText = leftBtnName;\n    btnLeft.appendChild(wordNode);\n    const btnLeftObject = new CSS3DObject(btnLeft);\n    btnLeftObject.position.set(-TW / 4 + 10, -TH / 2, 14);\n    btnLeftObject.rotateX(Math.PI / 2);\n    objectTopModel.add(btnLeftObject);\n    wordNode.onpointerdown = leftOnClick;\n  }\n  if (rightBtnName) {\n    const btnRight = document.createElement(\"div\");\n    btnRight.style.cssText = `\n                 color: #FFFFFF;\n                 font-size: 30px;\n                 font-weight: 500;\n                 width: ${TW / 2}px;\n                 text-shadow: 0px 1px 4px #3366FF;\n                 text-align: right;\n                 `;\n    btnRight.className = \"visibilityAnimate\";\n    const textNode = document.createElement(\"span\");\n    textNode.style.cursor = \"pointer\";\n    textNode.innerText = rightBtnName;\n\n    btnRight.appendChild(textNode);\n    const btnRightObject = new CSS3DObject(btnRight);\n    btnRightObject.position.set(TW / 4 - 10, -TH / 2, 14);\n    btnRightObject.rotateX(Math.PI / 2);\n    objectTopModel.add(btnRightObject);\n    textNode.onpointerdown = rightOnClick;\n  }\n  objectContainer.add(objectTopModel);\n  return objectContainer;\n};\n/**\n *  布局计算\n * @param dataSource\n * @param maxX\n * @param maxY\n * @returns\n */\nexport const setAppPosition = (\n  dataSource: AppData[],\n  maxX: number,\n  maxY: number\n) => {\n  if (!dataSource?.length) return [];\n  let appData: Target[] = dataSource.map((d) => ({ ...d, x: 0, y: 0 }));\n  if (appData.length === maxX * maxY) {\n    appData = appData.map((d, i) => ({\n      ...d,\n      x: (i % maxX) + 1,\n      y: parseInt(`${i / maxX}`) + 1,\n    }));\n  } else {\n    const offset = maxX * (maxY - 1);\n    const leng = appData.length - offset;\n    for (let d = 0; d < offset; d++) {\n      const u = appData[d];\n      u.x = (d % maxX) + 1;\n      u.y = parseInt(`${d / maxX}`) + 1;\n    }\n    for (let h = 0; h < leng / 2; h++) {\n      const g = appData[h + offset],\n        m = appData[appData.length - 1 - h];\n      g.x = h + 1;\n      g.y = maxY;\n      if (g !== m) {\n        m.x = maxX - h;\n        m.y = maxY;\n      }\n    }\n  }\n  return appData;\n};\nexport const createTableTarget = (\n  data: Target,\n  cardSize: CardSize,\n  maxX: number,\n  maxY: number\n) => {\n  const object3D = new Object3D();\n  object3D.position.x =\n    data.x * cardSize.outerWidth - (maxX / 2 + 0.5) * cardSize.outerWidth;\n  object3D.position.y =\n    -data.y * cardSize.outerHeight + (maxY / 2 + 0.5) * cardSize.outerHeight;\n  return object3D;\n};\n\nexport const computeCurvePosition = (\n  data: Target,\n  cardSize: CardSize,\n  maxX: number,\n  maxY: number,\n  angle: number\n) => {\n  const position: Position = {\n      x: 0,\n      y: 0,\n      z: 0,\n    },\n    n = parseInt(`${maxX * cardSize.outerWidth * 180}`) / (angle * Math.PI),\n    a = maxX / 2 + 0.5;\n  position.x = n * Math.sin(Math.PI / (180 / ((data.x - a) * (angle / maxX))));\n  position.y =\n    -data.y * cardSize.outerHeight + (maxY / 2 + 0.5) * cardSize.outerHeight;\n  position.z = n - Math.sqrt(n * n - position.x * position.x);\n  return position;\n};\nexport const createCurveTarget = (\n  data: Target,\n  cardSize: CardSize,\n  maxX: number,\n  maxY: number,\n  angle: number,\n  radius: number\n) => {\n  const object3D = new Object3D();\n  const vector = new Vector3();\n  const position = computeCurvePosition(data, cardSize, maxX, maxY, angle);\n  object3D.position.x = position.x;\n  object3D.position.y = position.y;\n  object3D.position.z = position.z;\n  vector.x = 0;\n  vector.y = object3D.position.y;\n  vector.z = radius;\n  object3D.lookAt(vector);\n  return object3D;\n};\nexport const computeCameraDistance = (\n  camera: PerspectiveCamera,\n  bounds: bounds,\n  distanceConfig: DistanceConfig[],\n  length: number\n) => {\n  const n = bounds.height + 2 * bounds.margin,\n    a = (bounds.width + 2 * bounds.margin) / camera.aspect,\n    i =\n      (0.5 * Math.max(a, n)) / Math.tan((camera.fov * Math.PI) / 360) +\n      bounds.z;\n  let o = 0;\n  distanceConfig.forEach(function (t) {\n    length >= Math.min.apply(null, t.numRange) &&\n      length <= Math.max.apply(null, t.numRange) &&\n      (o = t.distance);\n  });\n  return Math.max(o, i);\n};\nexport const getAppRelations = (\n  object: CSS3DObject,\n  relationsData: Relation[]\n) => {\n  const relations: Relation[] = [];\n  const userData = object.userData;\n  Array.isArray(relationsData) &&\n    relationsData.length &&\n    relationsData.forEach(function (i) {\n      (userData.key !== i.source && userData.key !== i.target) ||\n        relations.push(i);\n    });\n  return relations;\n};\nexport const findElementByEvent = (\n  e: MouseEvent,\n  tagName: AppWallCardBrickNameType\n) => {\n  const _targetName = tagName.toUpperCase();\n  const path = (e.composedPath() as Element[]).find(\n    (node) => node?.shadowRoot\n  ) as Ele;\n  if (path?.tagName === _targetName) return path;\n  const customEle = document.elementFromPoint(e.clientX, e.clientY);\n  const target = customEle?.shadowRoot.elementFromPoint(\n    e.clientX,\n    e.clientY\n  ) as Ele;\n  if (target?.tagName === _targetName) return target;\n  return null;\n};\n","import React, {\n  ReactElement,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { debounce } from \"lodash\";\nimport { MathUtils, Object3D, PerspectiveCamera, Scene } from \"three\";\nimport {\n  CSS3DObject,\n  CSS3DRenderer,\n} from \"three/addons/renderers/CSS3DRenderer.js\";\nimport { TrackballControls } from \"three/addons/controls/TrackballControls.js\";\nimport TWEEN, { Tween, Easing } from \"@tweenjs/tween.js\";\nimport type { AppWallProps } from \"./index.jsx\";\nimport {\n  AppWallCardBrickEleType,\n  BaseConfig,\n  CardSize,\n  DistanceConfig,\n  Ele,\n  Position,\n  RegisterEvents,\n  Target,\n  Targets,\n} from \"./interface.js\";\nimport {\n  AppData,\n  computeCameraDistance,\n  createCurveTarget,\n  createTableTarget,\n  createTrapezoidalObject,\n  setAppPosition,\n  createRelationLine,\n  getAppRelations,\n  findElementByEvent,\n} from \"./utils.js\";\n\nimport \"./card-item/index.js\";\nimport { SystemCard, SystemCardProps } from \"./system-card/index.jsx\";\nimport { wrapBrick } from \"@next-core/react-element\";\nimport classNames from \"classnames\";\nconst distanceConfig: DistanceConfig[] = [\n  {\n    numRange: [0, 40],\n    distance: 3000,\n  },\n  {\n    numRange: [40, 60],\n    distance: 2200,\n  },\n  {\n    numRange: [60, 80],\n    distance: 2700,\n  },\n  {\n    numRange: [80, 120],\n    distance: 3200,\n  },\n  {\n    numRange: [120, 160],\n    distance: 3400,\n  },\n  {\n    numRange: [160, 300],\n    distance: 3600,\n  },\n];\nconst fov = 45;\nconst angle = 100;\nconst panelSpace = 300;\nconst offsetDistance = 500;\n\nconst getViewBounds = (\n  length: number,\n  cardSize: CardSize,\n  margin: number,\n  aspectH: number\n) => {\n  const maxX = Math.ceil(\n    Math.sqrt((length * cardSize.outerHeight) / (aspectH * cardSize.outerWidth))\n  );\n  const maxY = Math.ceil(length / maxX);\n  const radius =\n    parseInt(`${maxX * cardSize.outerWidth * 180}`) / (angle * Math.PI);\n  const width =\n    2 * radius * Math.sin((Math.PI * (angle / 2)) / 180) + cardSize.outerWidth;\n  const height = maxY * cardSize.outerHeight;\n  const z = radius - radius * Math.cos((Math.PI * (angle / 2)) / 180);\n  return {\n    maxX,\n    maxY,\n    radius,\n    bounds: {\n      width,\n      height,\n      margin,\n      z,\n    },\n  };\n};\n\nconst WrappedSystemCard = wrapBrick<SystemCard, SystemCardProps>(\n  \"data-view.app-wall-system-card\"\n);\n\nexport function AppWallElement(props: AppWallProps): ReactElement {\n  const {\n    relations,\n    onSystemCardButtonClick,\n    useDblclick,\n    useDistanceConfig,\n    handleCardDbClick,\n    rightBtnOnClick,\n    leftBtnOnClick,\n    cardBrickName,\n    cardSize,\n    disabledDefaultClickEvent,\n    handleCardClick,\n    containerId,\n    noRotate,\n    boundMargin,\n    useSystemPopover,\n  } = props;\n  const [curClickCardItemAppData, setCurClickCardItemAppData] =\n    useState<AppData>(null);\n\n  const containerRef = useRef<HTMLDivElement>();\n  const appwallRef = useRef<HTMLDivElement>();\n  const closeBtnRef = useRef<HTMLDivElement>();\n  const maskRef = useRef<HTMLDivElement>();\n  const systemCardRef = useRef<SystemCard>();\n  const popoverRef = useRef<\n    HTMLElement &\n      Ele & {\n        instanceId: string;\n        setPosition: (pos: { x: number; y: number }) => void;\n        setVisible: (visible: boolean) => void;\n      }\n  >();\n\n  const rendererRef = useRef<CSS3DRenderer>();\n  const sceneRef = useRef<Scene>();\n  const cameraRef = useRef<PerspectiveCamera>();\n  const controlsRef = useRef<TrackballControls>();\n  const graph3DViewRef = useRef<CSS3DObject>(); // 梯形模型\n  const targetsRef = useRef<Targets>({\n    table: [],\n    curve: [],\n  });\n  const objectsRef = useRef<CSS3DObject[]>([]);\n  const lineCiCodesRef = useRef<CSS3DObject[]>([]);\n  const hoverScaleRef = useRef<number>(1);\n  const baseCameraDistance = useRef<number>(5000);\n\n  const configRef = useRef<BaseConfig>({\n    maxX: 0,\n    maxY: 0,\n    radius: 0,\n    bounds: {\n      width: 0,\n      height: 0,\n      margin: boundMargin,\n      z: 0,\n    },\n  });\n  const registerEvents = useRef<RegisterEvents>({\n    element: null,\n    mouseoverTimer: null,\n    mouseoutTimer: null,\n    clickTimer: null,\n    dblClickTimer: null,\n    isShowGraph3D: false,\n    isShowAppInfo: false,\n    isShowRelations: false,\n    enable: true, //是否可以触发事件\n  });\n\n  const render = useCallback(() => {\n    rendererRef.current.render(sceneRef.current, cameraRef.current);\n    controlsRef.current.maxDistance =\n      baseCameraDistance.current + offsetDistance;\n    controlsRef.current.handleResize();\n  }, []);\n\n  const updateViewBounds = (length: number) => {\n    configRef.current = getViewBounds(\n      length,\n      cardSize,\n      boundMargin,\n      1 / cameraRef.current.aspect\n    );\n  };\n\n  const init = () => {\n    const containerRect = document\n      .getElementById(containerId)\n      ?.getBoundingClientRect();\n    const width = containerRect?.width || window.innerWidth;\n    const height = containerRect?.height || window.innerHeight;\n    const aspect = width / height;\n    const scene = new Scene();\n    const camera = new PerspectiveCamera(fov, aspect, 0.1, 10000);\n\n    const renderer = new CSS3DRenderer();\n    renderer.setSize(width, height);\n    appwallRef.current.replaceChildren(renderer.domElement);\n\n    const controls = new TrackballControls(camera, renderer.domElement);\n    controls.rotateSpeed = 0.5;\n    controls.minDistance = 500;\n    controls.maxDistance = 10000;\n    controls.noRotate = noRotate;\n\n    sceneRef.current = scene;\n    cameraRef.current = camera;\n    controlsRef.current = controls;\n    rendererRef.current = renderer;\n  };\n\n  const createView = (table: Target[]) => {\n    table.forEach((data) => {\n      const element = document.createElement(\n        cardBrickName\n      ) as AppWallCardBrickEleType & Ele;\n      element.status = data.status;\n      element.cardTitle = data.cardItemProps?.cardTitle;\n      element.description = data.cardItemProps?.description;\n      element.background = data.cardItemProps?.background;\n      element.color = data.cardItemProps?.color;\n      element.titleStyle = data.cardItemProps?.titleStyle;\n      element.desStyle = data.cardItemProps?.desStyle;\n      element.descriptionList = data.cardItemProps?.descriptionList;\n      const statusClass = `status-${data?.status || \"normal\"}`;\n      element.className = `card-item-container  ${statusClass}`;\n      element.style.width = `${cardSize.width}px`;\n      element.style.height = `${cardSize.height}px`;\n      element.classList.add(\"card-item-wrap\");\n      // 随机进入\n      const objectCSS = new CSS3DObject(element);\n      objectCSS.position.set(\n        4e3 * Math.random() - 2e3,\n        4e3 * Math.random() - 2e3,\n        4e3 * Math.random() - 2e3\n      );\n\n      sceneRef.current.add(objectCSS);\n      objectsRef.current.push(objectCSS);\n\n      const table = createTableTarget(\n        data,\n        cardSize,\n        configRef.current.maxX,\n        configRef.current.maxY\n      );\n      targetsRef.current.table.push(table);\n      const curve = createCurveTarget(\n        data,\n        cardSize,\n        configRef.current.maxX,\n        configRef.current.maxY,\n        angle,\n        configRef.current.radius\n      );\n      targetsRef.current.curve.push(curve);\n\n      objectCSS.userData = data;\n      element.__objectCSS = objectCSS;\n      element.__userData = data;\n      element.__curve = curve;\n    });\n  };\n\n  const createRelationLines = (object: CSS3DObject) => {\n    const curRelations = getAppRelations(object, relations);\n    const userData = object.userData;\n    let lineObject: CSS3DObject, lineTarget: CSS3DObject;\n    curRelations?.forEach((relation) => {\n      if (relation.source === userData.key) {\n        //获取目标target CSS3DObject\n        lineTarget = objectsRef.current.find(\n          (o) => o.userData.key === relation.target\n        );\n        lineObject =\n          lineTarget &&\n          createRelationLine(object.position, lineTarget.position, \"blue\");\n      } else {\n        lineTarget = objectsRef.current.find(\n          (o) => o.userData.key === relation.source\n        );\n        lineObject =\n          lineTarget &&\n          createRelationLine(lineTarget.position, object.position, \"purple\");\n      }\n      if (!lineObject) return;\n      lineCiCodesRef.current.push(lineObject);\n      sceneRef.current.add(lineObject);\n    });\n    objectsRef.current?.forEach((item) => {\n      if (\n        object != item &&\n        curRelations.every(\n          (r) => r.source != item.userData.key && r.target != item.userData.key\n        )\n      ) {\n        item.element.style.opacity = \"0.2\";\n      }\n    });\n  };\n\n  const showElementBetweenRelation = (target: Ele) => {\n    const { __objectCSS, __userData } = target;\n    const rotationY = __objectCSS.rotation.y;\n    const currentEleRect = __objectCSS.element.getBoundingClientRect();\n    const position: Position = {\n      x: __objectCSS.position.x + 50 * Math.sin(rotationY),\n      y: __objectCSS.position.y + 15,\n      z: __objectCSS.position.z + 100 * Math.cos(rotationY),\n    };\n\n    const scale =\n        currentEleRect.width >= cardSize.width\n          ? hoverScaleRef.current\n          : Math.min(\n              cardSize.width / currentEleRect.width,\n              cardSize.height / currentEleRect.height\n            ),\n      duration = 100;\n    registerEvents.current.isShowRelations = true;\n    new Tween(__objectCSS.rotation)\n      // .to(\n      //   {\n      //     x: 0,\n      //     y: 0,\n      //     z: 0,\n      //   },\n      //   duration\n      // )\n      .onStart(() => {\n        cardBrickName === \"data-view.app-wall-card-item\" &&\n          __objectCSS.element.classList.add(\n            `status-${__userData.status || \"normal\"}-card`\n          );\n      })\n      .start();\n    new Tween(__objectCSS.scale)\n      .to(\n        {\n          x: scale,\n          y: scale,\n          z: scale,\n        },\n        duration\n      )\n      .start();\n\n    new Tween(__objectCSS.position)\n      .to(position, duration)\n      .onUpdate(render)\n      .onComplete(function () {\n        //创建连线\n        createRelationLines(__objectCSS);\n        render();\n        registerEvents.current.element = target;\n\n        if (useSystemPopover) {\n          const rect = target.getBoundingClientRect();\n          const centerX = rect.left + rect.width / 2;\n          const centerY = rect.top + rect.height / 2;\n\n          popoverRef.current.instanceId = target?.__userData?.data?.instanceId;\n          popoverRef.current.setPosition({ x: centerX, y: centerY });\n          popoverRef.current.setVisible(true);\n        }\n      })\n      .start();\n  };\n\n  const restoreElementState = (onComplete?: (ele?: Ele) => void) => {\n    if (!registerEvents.current?.element) return onComplete?.();\n    const {\n      __objectCSS,\n      __curve: object3d,\n      __userData,\n    } = registerEvents.current.element;\n    const duration = 100;\n\n    new Tween(__objectCSS.rotation)\n      .to(\n        {\n          x: object3d.rotation.x,\n          y: object3d.rotation.y,\n          z: object3d.rotation.z,\n        },\n        duration\n      )\n      .start();\n    new Tween(__objectCSS.scale)\n      .to(\n        {\n          x: 1,\n          y: 1,\n          z: 1,\n        },\n        duration\n      )\n      .start();\n    new Tween(__objectCSS.position)\n      .to(\n        {\n          x: object3d.position.x,\n          y: object3d.position.y,\n          z: object3d.position.z,\n        },\n        duration\n      )\n      .onUpdate(render)\n      .onStart(() => {\n        cardBrickName === \"data-view.app-wall-card-item\" &&\n          __objectCSS.element.classList.remove(\n            `status-${__userData.status || \"normal\"}-card`\n          );\n        objectsRef.current?.forEach((item) => {\n          item.element.style.opacity = \"1\";\n        });\n        lineCiCodesRef.current.forEach((lineObject) => {\n          sceneRef.current.remove(lineObject);\n        });\n        lineCiCodesRef.current = [];\n        render();\n      })\n      .onComplete(() => {\n        registerEvents.current.isShowRelations = false;\n        onComplete?.(registerEvents.current?.element);\n      })\n      .start();\n  };\n\n  const transform = (targets: Object3D[], duration: number) => {\n    registerEvents.current.enable = false;\n    for (let i = 0; i < objectsRef.current.length; i++) {\n      const object = objectsRef.current[i];\n      const target = targets[i];\n\n      new Tween(object.position)\n        .to(\n          {\n            x: target.position.x,\n            y: target.position.y,\n            z: target.position.z,\n          },\n          MathUtils.randFloat(duration, duration * 2)\n        )\n        .easing(Easing.Exponential.InOut)\n        .start();\n\n      new Tween(object.rotation)\n        .to(\n          {\n            x: target.rotation.x,\n            y: target.rotation.y,\n            z: target.rotation.z,\n          },\n          MathUtils.randFloat(duration, duration * 2)\n        )\n        .easing(Easing.Exponential.InOut)\n        .start();\n    }\n\n    new Tween({})\n      .to({}, duration * 2)\n      .onUpdate(render)\n      .start()\n      .onComplete(() => {\n        registerEvents.current.enable = true;\n      });\n  };\n\n  const handeReset = () => {\n    TWEEN.removeAll();\n    const o = {\n        opacity: 1,\n      },\n      e = new Tween({\n        z: 0,\n      }),\n      n = new Tween(o),\n      a = new Tween(cameraRef.current.position),\n      i = new Tween(controlsRef.current.target),\n      r = new Tween({\n        blur: 1500,\n        spread: 100,\n      });\n    e.to(\n      {\n        z: panelSpace,\n      },\n      1e3\n    ).chain(a, i, r);\n    n.to(\n      {\n        opacity: 0,\n      },\n      1e3\n    )\n      .onStart(() => {\n        sceneRef.current.remove(graph3DViewRef.current);\n        closeBtnRef.current.style.visibility = \"hidden\";\n      })\n      .delay(300);\n\n    a.to(controlsRef.current.position0, 1e3).onComplete(function () {\n      controlsRef.current.reset();\n      appwallRef.current.classList.remove(\"mask-container\");\n      transform(targetsRef.current.curve, 600);\n      registerEvents.current.isShowGraph3D = false;\n    });\n    i.to(\n      {\n        x: 0,\n        y: 0,\n        z: 0,\n      },\n      1e3\n    );\n    r.to(\n      {\n        blur: 0,\n        spread: 0,\n      },\n      1e3\n    );\n    e.start();\n    n.start();\n  };\n  const showAppInfoAnimate = (toggle: boolean) => {\n    controlsRef.current.reset();\n    const object = registerEvents.current.element.__objectCSS;\n    const target = registerEvents.current.element.__curve;\n    registerEvents.current.enable = false;\n    registerEvents.current.isShowAppInfo = true;\n    //定义四个位置\n    const c = {\n      x: target.position.x > 0 ? 2 * -cardSize.width : 2 * cardSize.width,\n      y: 0,\n      z: (cameraRef.current.position.z - 500) / 1.5,\n    };\n    const p = {\n      x: 0,\n      y: 0,\n      z: cameraRef.current.position.z - 500,\n    };\n    const h = {\n      x: 0,\n      y: target.rotation.y > 0 ? (-Math.PI * 90) / 180 : (Math.PI * 90) / 180,\n      z: 0,\n    };\n    const d = {\n      x: 0,\n      y: target.rotation.y > 0 ? (-Math.PI * 180) / 180 : (Math.PI * 180) / 180,\n      z: 0,\n    };\n    const i = new Tween(object.position);\n    const r = new Tween(object.rotation);\n    const o = new Tween(object.position);\n    const s = new Tween(object.rotation);\n    if (toggle) {\n      //收\n      i.to(c, 500)\n        .easing()\n        .onComplete(() => {\n          systemCardRef.current.hidden = true;\n          registerEvents.current.element.style.opacity = \"1\";\n        });\n      r.to(h, 500).easing();\n      o.to(\n        {\n          x: target.position.x,\n          y: target.position.y,\n          z: target.position.z,\n        },\n        700\n      ).easing();\n      s.to(\n        {\n          x: target.rotation.x,\n          y: target.rotation.y,\n          z: target.rotation.z,\n        },\n        700\n      )\n        .easing()\n        .onComplete(() => {\n          objectsRef.current?.forEach((item) => {\n            item.element.style.opacity = \"1\";\n          });\n        });\n    } else {\n      //出\n      objectsRef.current?.forEach((item) => {\n        if (object != item) {\n          item.element.style.opacity = \"0.2\";\n        }\n      });\n      i.to(c, 700)\n        .easing()\n        .onStart(() => {\n          //为了飞出去的途中，不能在点击其他的卡片飞出来\n          maskRef.current.hidden = false;\n          systemCardRef.current.hidden = true;\n        });\n      r.to(h, 700).easing();\n      o.to(p, 500)\n        .easing()\n        .onStart(function () {\n          registerEvents.current.element.style.opacity = \"0\";\n          systemCardRef.current.style.transition = \"transition: all .3s ease\";\n          systemCardRef.current.hidden = false;\n        });\n      s.to(d, 500).easing();\n    }\n    i.chain(o).start();\n    r.chain(s).start();\n    new Tween({})\n      .to({}, 1400)\n      .onUpdate(() => {\n        render();\n        if (Math.abs(object.rotation.y) >= Math.PI / 2) {\n          const rect = registerEvents.current.element.getBoundingClientRect();\n          const scale = 1.35;\n          const width = rect.width * scale;\n          const height = rect.height * scale;\n          systemCardRef.current.style.width = `${width}px`;\n          systemCardRef.current.style.height = `${height}px`;\n          systemCardRef.current.style.top = `${\n            rect.top - ((scale - 1) * height) / 2\n          }px`;\n          systemCardRef.current.style.left = `${\n            rect.left - ((scale - 1) * width) / 2\n          }px`;\n        }\n      })\n      .start()\n      .onComplete(function () {\n        registerEvents.current.enable = true;\n        registerEvents.current.isShowAppInfo = !toggle;\n        maskRef.current.hidden = toggle;\n      });\n  };\n  const resetView = () => {\n    controlsRef.current.reset();\n    TWEEN.removeAll();\n    objectsRef.current.map((o) => {\n      sceneRef.current.remove(o);\n    });\n    objectsRef.current = [];\n    targetsRef.current = {\n      table: [],\n      curve: [],\n    };\n    //重置交互状态\n    registerEvents.current = {\n      element: null,\n      mouseoverTimer: null,\n      mouseoutTimer: null,\n      clickTimer: null,\n      dblClickTimer: null,\n      enable: true,\n      isShowAppInfo: false,\n      isShowGraph3D: false,\n      isShowRelations: false,\n    };\n  };\n\n  useEffect(() => {\n    init();\n    let cancel: number;\n    const animate = () => {\n      cancel = requestAnimationFrame(animate);\n      TWEEN.update();\n      controlsRef.current.update();\n    };\n    animate();\n    const container = containerId\n      ? document.getElementById(containerId)\n      : document.body;\n\n    const observer = new ResizeObserver(\n      debounce(() => {\n        const { width, height } = container.getBoundingClientRect();\n        cameraRef.current.aspect = width / height;\n        cameraRef.current.updateProjectionMatrix();\n        rendererRef.current.setSize(width, height);\n        render();\n      }, 300)\n    );\n    controlsRef.current.addEventListener(\"change\", render);\n    observer.observe(container);\n    return () => {\n      observer.disconnect();\n      controlsRef.current.removeEventListener(\"change\", render);\n      controlsRef.current.dispose();\n      TWEEN.removeAll();\n      cameraRef.current.clear();\n      sceneRef.current.clear();\n      cancelAnimationFrame(cancel);\n    };\n  }, []);\n\n  useEffect(() => {\n    const length = props.dataSource?.length || 0;\n    if (length > 0) {\n      updateViewBounds(length);\n      baseCameraDistance.current = computeCameraDistance(\n        cameraRef.current,\n        configRef.current.bounds,\n        useDistanceConfig ? distanceConfig : [],\n        length\n      );\n      cameraRef.current.position.z = baseCameraDistance.current;\n      cameraRef.current.updateProjectionMatrix();\n      controlsRef.current.position0.copy(cameraRef.current.position);\n\n      const appData = setAppPosition(\n        props.dataSource,\n        configRef.current.maxX,\n        configRef.current.maxY\n      );\n      createView(appData);\n      transform(targetsRef.current.curve, 1000);\n    }\n\n    return () => {\n      resetView();\n    };\n  }, [props.dataSource, useDistanceConfig]);\n\n  useEffect(() => {\n    if (useSystemPopover) {\n      const element = document.createElement(\"monitoring.sys-popover\") as any;\n      popoverRef.current = element;\n      document.querySelector(\"#main-mount-point\").appendChild(element);\n    }\n  }, [useSystemPopover]);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    const handleMouseover = (e: MouseEvent) => {\n      clearTimeout(registerEvents.current.mouseoverTimer);\n      if (\n        registerEvents.current.isShowAppInfo ||\n        registerEvents.current.isShowGraph3D ||\n        !registerEvents.current.enable\n      )\n        return false;\n      const target = findElementByEvent(e, cardBrickName);\n      if (useSystemPopover) {\n        const canRenderPopover =\n          popoverRef.current?.instanceId !=\n          target?.__userData?.data?.instanceId;\n\n        if (!target || !canRenderPopover) {\n          popoverRef.current.setVisible(false);\n        }\n      }\n      registerEvents.current.mouseoverTimer = window.setTimeout(() => {\n        restoreElementState(() => {\n          target &&\n            !registerEvents.current.isShowAppInfo &&\n            showElementBetweenRelation(target);\n          clearTimeout(registerEvents.current.mouseoverTimer);\n        });\n      }, 300);\n    };\n\n    const handleMouseout = (e: MouseEvent) => {\n      if (\n        registerEvents.current.isShowAppInfo ||\n        registerEvents.current.isShowGraph3D ||\n        !registerEvents.current.enable\n      )\n        return false;\n      const target = findElementByEvent(e, cardBrickName);\n      if (useSystemPopover) {\n        const canRenderPopover =\n          popoverRef.current.instanceId != target?.__userData?.data?.instanceId;\n\n        if (!target || !canRenderPopover) {\n          popoverRef.current.setVisible(false);\n        }\n      }\n    };\n\n    const handleClick = (e: MouseEvent) => {\n      clearTimeout(registerEvents.current.clickTimer);\n      clearTimeout(registerEvents.current.mouseoverTimer);\n      if (\n        registerEvents.current.isShowAppInfo ||\n        registerEvents.current.isShowGraph3D ||\n        !registerEvents.current.enable\n      )\n        return false;\n\n      const target = findElementByEvent(e, cardBrickName);\n      registerEvents.current.clickTimer = window.setTimeout(function () {\n        clearTimeout(registerEvents.current.mouseoverTimer);\n        restoreElementState(() => {\n          if (target) {\n            clearTimeout(registerEvents.current.clickTimer);\n            clearTimeout(registerEvents.current.mouseoverTimer);\n            e.stopPropagation();\n            registerEvents.current.element = target;\n            if (disabledDefaultClickEvent) {\n              handleCardClick?.(target.__userData);\n            } else {\n              setCurClickCardItemAppData(target.__userData);\n              showAppInfoAnimate(false);\n            }\n          }\n        });\n      }, 200);\n    };\n    const handleDbClick = (e: MouseEvent) => {\n      clearTimeout(registerEvents.current.clickTimer);\n      clearTimeout(registerEvents.current.mouseoverTimer);\n      clearTimeout(registerEvents.current.dblClickTimer);\n      if (\n        registerEvents.current.isShowAppInfo ||\n        registerEvents.current.isShowGraph3D ||\n        !registerEvents.current.enable\n      )\n        return false;\n\n      const target = findElementByEvent(e, cardBrickName);\n      const { __userData, __objectCSS } = target;\n      registerEvents.current.isShowGraph3D = true;\n      registerEvents.current.dblClickTimer = window.setTimeout(function () {\n        restoreElementState(() => {\n          if (\n            useDblclick ||\n            __userData.trapezoidalProps?.clusters?.length < 1\n          ) {\n            handleCardDbClick(__userData);\n            registerEvents.current.isShowGraph3D = false;\n          } else {\n            if (target) {\n              clearTimeout(registerEvents.current.mouseoverTimer);\n              clearTimeout(registerEvents.current.clickTimer);\n              appwallRef.current.classList.add(\"mask-container\");\n              controlsRef.current.reset();\n              const basePosition = {\n                opacity: 0,\n                scale: 0,\n                borderLeftWidth: 0,\n                borderRightWidth: 0,\n                borderTopWidth: 0,\n                borderBottomWidth: 0,\n              };\n              const u = {\n                x: __objectCSS.position.x,\n                y:\n                  860 +\n                  cardSize.height * (configRef.current.maxY - __userData.y),\n              };\n              const n = new Tween(cameraRef.current.position);\n              const a = new Tween(basePosition);\n              const i = new Tween({\n                z: 0,\n              });\n              const r = new Tween(cameraRef.current.position);\n              const o = new Tween(controlsRef.current.target);\n              const s = new Tween({\n                blur: 12,\n                spread: 0,\n              });\n              transform(targetsRef.current.table, 600);\n              n.to(\n                {\n                  x: 0,\n                  y: -3600,\n                  z: 1600,\n                },\n                1e3\n              ).chain(s, a, i);\n              a.to(\n                {\n                  opacity: 1,\n                },\n                700\n              ).onStart(() => {\n                const objectContainer = createTrapezoidalObject({\n                  objectData: {\n                    width: cardSize.width,\n                    height: cardSize.height,\n                    point: [\n                      __objectCSS.position.x,\n                      __objectCSS.position.y,\n                      __objectCSS.position.z,\n                    ],\n                  },\n                  clusters: __userData.trapezoidalProps?.clusters,\n                  columns: __userData.trapezoidalProps?.columns,\n                  appName: __userData.trapezoidalProps?.appName,\n                  leftBtnName: __userData.trapezoidalProps?.leftBtnName,\n                  rightBtnName: __userData.trapezoidalProps?.rightBtnName,\n                  rightOnClick: () => rightBtnOnClick(__userData),\n                  leftOnClick: () => leftBtnOnClick(__userData),\n                });\n                graph3DViewRef.current = objectContainer;\n                sceneRef.current.add(objectContainer);\n              });\n              i.to(\n                {\n                  z: panelSpace,\n                },\n                1e3\n              )\n                .delay(230)\n                .chain(r, o);\n\n              r.to(\n                {\n                  x: u.x,\n                  y: -3600 + u.y,\n                },\n                1e3\n              );\n              o.to(\n                {\n                  x: u.x,\n                  y: u.y,\n                },\n                1e3\n              ).onComplete(function () {\n                closeBtnRef.current.style.visibility = \"visible\";\n              });\n              n.start();\n            }\n          }\n        });\n      }, 200);\n    };\n\n    container.addEventListener(\"dblclick\", handleDbClick);\n    container.addEventListener(\"click\", handleClick);\n    container.addEventListener(\"mouseover\", handleMouseover);\n    container.addEventListener(\"mouseout\", handleMouseout);\n    return () => {\n      container.removeEventListener(\"mouseover\", handleMouseover);\n      container.removeEventListener(\"mouseout\", handleMouseout);\n      container.removeEventListener(\"click\", handleClick);\n      container.removeEventListener(\"dblclick\", handleDbClick);\n    };\n  }, [disabledDefaultClickEvent, handleCardClick]);\n\n  return (\n    <div className=\"appwall-container\" ref={containerRef}>\n      <div className=\"appwall\" ref={appwallRef}></div>\n      <div\n        className=\"mask\"\n        ref={maskRef}\n        onClick={() => {\n          registerEvents.current.enable && showAppInfoAnimate(true);\n        }}\n        hidden={true}\n      >\n        <WrappedSystemCard\n          {...curClickCardItemAppData?.systemCardProps}\n          onClick={(e) => e.stopPropagation()}\n          handleClick={() => onSystemCardButtonClick(curClickCardItemAppData)}\n          ref={systemCardRef}\n          className={classNames({\n            infoWrapper: curClickCardItemAppData?.status === \"normal\",\n            warningWrapper: curClickCardItemAppData?.status === \"warning\",\n          })}\n        />\n      </div>\n      <div\n        className=\"closeBtn\"\n        ref={closeBtnRef}\n        onClick={() => {\n          handeReset();\n        }}\n      />\n    </div>\n  );\n}\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host{display:block;width:100%;height:100%}:host([hidden]){display:none}*,\n*::before,\n*::after{box-sizing:border-box}.mask-container{position:absolute;top:0;left:0;width:100%;height:100%;background:#0c1216;z-index:1000}.appwall-container{padding:8px}.appwall{position:relative}.appwall.loading .card-item{pointer-events:none!important}.mask{position:absolute;width:100%;height:100%;top:0;bottom:0;left:0;right:0;z-index:100;display:flex;align-items:center;justify-content:center}.mask[hidden]{display:none}.infoWrapper{position:absolute;background:var(--color-fill-bg-base-4);box-shadow:0 0 12px 2px rgba(80,255,255,0.45),inset 0 0 22px 0 #20242a;border:2px solid #50ffff;overflow:hidden}.warningWrapper{position:absolute;background:linear-gradient(180deg,#cc0066 0%,rgba(204,0,102,0.2) 100%),#0f1117ff;box-shadow:0 0 12px 2px rgba(204,0,102,0.4),inset 0 4px 10px 0 rgba(255,255,255,0.65);overflow:hidden}.relation-line{pointer-events:none!important}.closeBtn{visibility:hidden;position:fixed;top:50px;right:50px;width:46px;height:46px;text-align:center;border:1px solid;color:rgb(138 189 255/84%);font-size:20px;line-height:46px;cursor:pointer;background:rgba(138,189,255,0.13);border-image:linear-gradient(135deg,rgba(255,255,255,0.5),rgba(255,255,255,0),rgba(255,255,255,0.33)) 1 1;display:flex;justify-content:center;align-items:center;z-index:1000}.closeBtn:before,\n.closeBtn:after{content:\"\";width:2px;height:20px;background:linear-gradient(180deg,#3467ff 0%,#98cbff 100%);position:absolute}.closeBtn:before{transform:rotateZ(45deg)}.closeBtn:after{transform:rotateZ(-45deg)}.closeBtn:hover:after,\n.closeBtn:hover:before{background:var(--color-normal-text)}.visibilityAnimate{visibility:hidden;animation:visibility 0.5s both 1s}.trapezoidalLeftOrRightAnimation,\n.trapezoidalTopOrBottomAnimation{background:linear-gradient(180deg,rgba(51,102,255,0.4) 0%,#99ccff 100%);opacity:0.2;position:absolute}.trapezoidalTopOrBottomAnimation{bottom:0;width:100%;left:0;animation:animateTop 1s both}.trapezoidalLeftOrRightAnimation{top:0;right:0;height:100%;animation:animateLeft 1s both}@keyframes animateTop{0%{height:0}100%{height:100%}}@keyframes animateLeft{0%{width:0}100%{width:100%}}@keyframes visibility{0%{visibility:hidden}100%{visibility:visible}}.card-item-container{transition:opacity 0.5s}.status-normal-card{box-shadow:0 0 100px rgba(80,255,255,0.58);border:1px solid rgba(80,255,255,0.58);background:-webkit-gradient(liner,left top,left bottom,from(#002c8d),to(#00123e));background:linear-gradient(to bottom,rgba(80,255,255,1) 0%,rgba(80,255,255,0) 100%)}.status-warning-card{box-shadow:0 0 100px #cc0066;background:-webkit-gradient(liner,left top,left bottom,from(#cc0066),to(rgba(204,0,102,0.2)));background:linear-gradient(to bottom,#cc0066 0%,rgba(204,0,102,0.2) 100%)}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host{display:inline-block;width:100%;height:100%}:host([hidden]){display:none}*,\n*::before,\n*::after{box-sizing:border-box}.card-item-container{position:relative;width:100%;height:100%}.card-item{position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;border-radius:var(--no-border-radius);border-color:transparent;transition:border-color 0.5s}.status-normal:hover{box-shadow:0 0 100px rgba(80,255,255,0.58);border:1px solid rgba(80,255,255,0.58);background:-webkit-gradient(liner,left top,left bottom,from(#002c8d),to(#00123e));background:linear-gradient(to bottom,rgba(80,255,255,1) 0%,rgba(80,255,255,0) 100%)}.status-warning:hover{box-shadow:0 0 100px #CC0066;background:-webkit-gradient(liner,left top,left bottom,from(#CC0066),to(rgba(204,0,102,0.2)));background:linear-gradient(to bottom,#CC0066 0%,rgba(204,0,102,0.2) 100%)}.card-item-container.status-normal .card-item{background:var(--color-fill-bg-base-4);box-shadow:inset 0px 1px 2px 0px rgba(255,255,255,0.45)}.card-item-container.status-normal:hover .card-item{border:2px solid rgba(80,255,255,0.58)}.card-item-container.status-warning .card-item{background:linear-gradient(180deg,#CC0066 0%,rgba(204,0,102,0.2) 100%);box-shadow:inset 0px 2px 6px 0px rgba(255,255,255,0.65)}.card-item-container.status-warning:hover .card-item{border:none}.card-item-text-container{width:100%;padding:0 12px}.card-item-title,\n.card-item-description{font-size:20px;font-weight:var(--font-weight-500);color:var(--color-normal-text)}.card-item-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card-item-description{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host{display:inline-block;width:-moz-fit-content;width:fit-content;height:100%}:host([hidden]){display:none}*,\n*::before,\n*::after{box-sizing:border-box}.relation-line{position:relative;width:6px;height:100%;background:var(--color-text-divider-line-1);overflow:hidden}.relation-line::after{content:'';position:absolute;width:100%;height:20%;left:0px;top:0px;animation:lightMove 1000ms ease-in-out infinite,lightOpacity 1000ms ease-in-out infinite}.relation-line.light-color-blue::after{background:linear-gradient(rgba(80,255,255,0) 0%,rgba(80,255,255,1) 90%,#DFFFFF 100%)}.relation-line.light-color-purple::after{background:linear-gradient(rgba(102,0,255,0) 0%,rgba(102,0,255,1) 90%,#B07BFF 100%)}@keyframes lightMove{0%{top:0;transform:translateY(-100%)}100%{top:100%;transform:translateY(0)}}@keyframes lightOpacity{0%{opacity:0}20%{opacity:1}80%{opacity:1}100%{opacity:0}}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host{display:inline-block}:host([hidden]){display:none}*,\n*::before,\n*::after{box-sizing:border-box}.wrapper{position:relative;width:100%;height:100%;padding:30px 24px 35px;left:0;display:flex;flex-direction:column;border-radius:var(--no-border-radius)}.cardName{font-size:var(--title-font-size-strong);line-height:22px;text-align:center;font-weight:var(--font-weight-500);color:var(--color-normal-text);text-shadow:0 1px 4px rgba(51,102,255,0.5);margin-bottom:35px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.descriptions{flex:1;margin-bottom:20px;font-size:var(--auxiliary-font-size-small);overflow:auto;font-weight:var(--font-weight-400)}.descriptionsItem .itemKey{color:var(--color-secondary-text)}.descriptionsItem .itemValue{color:var(--color-strong-text)}.descriptionsItem{display:flex;gap:10px;margin-bottom:12px}.descriptionsItem>div{flex:1;text-align:left;word-break:break-all}.buttonContent{position:absolute;bottom:16px;right:24px;font-size:var(--auxiliary-font-size);color:#99CCFF;cursor:pointer;font-weight:var(--font-weight-500)}.buttonName{margin-left:5px}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host{--palette-rgba-white-1:rgba(255,255,255,10%);--palette-rgba-white-2:rgba(255,255,255,20%);--palette-rgba-white-3:rgba(255,255,255,30%);--palette-rgba-white-4:rgba(255,255,255,40%);--palette-rgba-white-5:rgba(255,255,255,50%);--palette-rgba-white-6:rgba(255,255,255,60%);--palette-rgba-white-7:rgba(255,255,255,70%);--palette-rgba-white-8:rgba(255,255,255,80%);--palette-rgba-white-9:rgba(255,255,255,90%);--palette-rgba-white-10:rgba(255,255,255,100%);--palette-rgba-gray-1:rgba(0,0,0,10%);--palette-rgba-gray-2:rgba(0,0,0,20%);--palette-rgba-gray-3:rgba(0,0,0,30%);--palette-rgba-gray-4:rgba(0,0,0,40%);--palette-rgba-gray-5:rgba(0,0,0,50%);--palette-rgba-gray-6:rgba(0,0,0,60%);--palette-rgba-gray-7:rgba(0,0,0,70%);--palette-rgba-gray-8:rgba(0,0,0,80%);--palette-rgba-gray-9:rgba(0,0,0,90%);--palette-rgba-gray-10:rgba(0,0,0,100%);--palette-rgba-blue-gray-2:rgba(101,106,134,20%);--palette-rgba-blue-gray-3:rgba(101,106,134,30%);--palette-rgba-blue-gray-8:rgba(101,106,134,80%);--palette-tech-blue-4-channel:67,127,255;--palette-tech-blue-4:rgb(var(--palette-tech-blue-4-channel));--palette-tech-blue-6-channel:51,102,255;--palette-tech-blue-6:rgb(var(--palette-tech-blue-6-channel));--palette-tech-blue-8-channel:40,69,159;--palette-tech-blue-8:rgb(var(--palette-tech-blue-8-channel));--palette-sea-green-4-channel:131,245,225;--palette-sea-green-4:rgb(var(--palette-sea-green-4-channel));--palette-green-6-channel:81,235,73;--palette-green-6:rgb(var(--palette-green-6-channel));--palette-green-2:rgba(var(--palette-green-6-channel),20%);--palette-lotus-pink-7-channel:204,0,102;--palette-lotus-pink-7:rgb(var(--palette-lotus-pink-7-channel));--palette-red-6-channel:242,39,39;--palette-red-6:rgb(var(--palette-red-6-channel));--palette-red-2:rgba(var(--palette-red-6-channel),20%);--color-fill-global-bg:#0f1014;--color-fill-bg-container-1:var(--palette-rgba-white-1);--color-fill-bg-container-2:var(--palette-rgba-blue-gray-2);--color-fill-bg-container-3:var(--palette-rgba-blue-gray-8);--color-fill-bg-base-1:var(--palette-rgba-blue-gray-2);--color-fill-bg-base-2:rgba(15,16,20,0%);--color-fill-bg-base-3:rgba(0,0,0,20%);--color-fill-bg-base-4:rgba(40,46,58,100%);--color-fill-bg-base-5:rgba(19,25,47,80%);--color-fill-bg-base-6:var(--palette-rgba-blue-gray-3);--color-brand:var(--palette-tech-blue-6);--color-brand-hover:var(--palette-tech-blue-4);--color-brand-active:var(--palette-tech-blue-8);--color-contrast-1:var(--palette-sea-green-4);--color-error:var(--palette-red-6);--color-error-bg:var(--palette-red-2);--color-success:var(--palette-green-6);--color-success-bg:var(--palette-green-2);--color-header-text-big:var(--palette-rgba-white-10);--color-header-text:var(--palette-rgba-white-10);--color-normal-text:var(--palette-rgba-white-10);--color-strong-text:var(--palette-rgba-white-9);--color-auxiliary-text:var(--palette-rgba-white-8);--color-secondary-text:var(--palette-rgba-white-6);--color-disabled-text:var(--palette-rgba-white-4);--color-border-divider-line:var(--palette-rgba-white-1);--color-text-divider-line-1:var(--palette-rgba-white-2);--color-text-divider-line-2:var(--palette-rgba-white-2);--small-border-radius:2px;--medius-border-radius:5px;--larger-border-radius:12px;--container-border-radius:9999px;--no-border-radius:0px;--mask-bg:var(--palette-rgba-gray-7);--title-font-size-larger:30px;--title-font-size-strong:22px;--title-font-size:18px;--normal-font-size:14px;--auxiliary-font-size:16px;--auxiliary-font-size-small:12px;--overview-data-font-size:34px;--statistics-data-font-size:28px;--normal-data-font-size-larger:20px;--normal-data-font-size:16px;--chart-legend-font-size:12px;--chart-tooltips-font-size-1:12px;--chart-tooltips-font-size-2:12px;--chart-axis-x-font-size:12px;--chart-axis-x-font-size-larger:14px;--chart-axis-y-font-size:12px;--chart-axis-y-font-size-larger:14px;--font-weight-600:600;--font-weight-500:500;--font-weight-400:400;--text-shadow:0px 1px 4px #2863ee;--border-width-base:1px;--border-width-double-base:2px;--border-width-tribble-base:3px;--punctate-width-base:1px;--paragraph-width-base:1px;--button-text-color:#40d0db}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___.toString();\n"],"names":["createRelationLine","sourceVector","targetVector","lightColor","subVector","Vector3","subVectors","lineLength","length","lineElement","document","createElement","style","height","classList","add","lineObject","CSS3DObject","centerVector","lerpVectors","position","copy","quaternion","Quaternion","setFromUnitVectors","normalize","clone","setRotationFromQuaternion","getCenterPointOrSubPoint","start","end","pointA","pointB","createTrapezoidalRightOrLeftElement","props","BW","TW","d","TH","BH","isLeft","Math","sqrt","pow","wrapper","cssText","cantCard","className","appendChild","objectCantModel","createTrapezoidalTopOrBottomElement","isTop","topQuaternion","createTrapezoidalObject","objectData","leftBtnName","clusters","columns","leftOnClick","rightBtnName","rightOnClick","appName","container","objectContainer","set","point","width","bottomCard","objectBottomModel","z","topCard","thumbnailEle","objectTopModel","objectCantLeftModel","objectCantRightModel","objectCantTopModel","objectCantBottomModel","btnLeft","wordNode","cursor","innerText","btnLeftObject","rotateX","PI","onpointerdown","btnRight","textNode","btnRightObject","setAppPosition","dataSource","maxX","maxY","appData","map","x","y","i","parseInt","offset","leng","u","h","g","m","createTableTarget","data","cardSize","object3D","Object3D","outerWidth","outerHeight","createCurveTarget","angle","radius","vector","computeCurvePosition","n","a","sin","lookAt","computeCameraDistance","camera","bounds","distanceConfig","margin","aspect","max","tan","fov","o","forEach","t","min","apply","numRange","distance","getAppRelations","object","relationsData","relations","userData","Array","isArray","key","source","target","push","findElementByEvent","e","tagName","_targetName","toUpperCase","path","composedPath","find","node","shadowRoot","customEle","elementFromPoint","clientX","clientY","panelSpace","offsetDistance","getViewBounds","aspectH","ceil","cos","WrappedSystemCard","wrapBrick","AppWallElement","onSystemCardButtonClick","useDblclick","useDistanceConfig","handleCardDbClick","rightBtnOnClick","leftBtnOnClick","cardBrickName","disabledDefaultClickEvent","handleCardClick","containerId","noRotate","boundMargin","useSystemPopover","curClickCardItemAppData","setCurClickCardItemAppData","useState","containerRef","useRef","appwallRef","closeBtnRef","maskRef","systemCardRef","popoverRef","rendererRef","sceneRef","cameraRef","controlsRef","graph3DViewRef","targetsRef","table","curve","objectsRef","lineCiCodesRef","hoverScaleRef","baseCameraDistance","configRef","registerEvents","element","mouseoverTimer","mouseoutTimer","clickTimer","dblClickTimer","isShowGraph3D","isShowAppInfo","isShowRelations","enable","render","useCallback","current","maxDistance","handleResize","restoreElementState","onComplete","_registerEvents$curre","__objectCSS","__curve","object3d","__userData","Tween","rotation","to","scale","onUpdate","onStart","_objectsRef$current2","remove","status","item","opacity","_registerEvents$curre2","transform","targets","duration","MathUtils","randFloat","easing","Easing","Exponential","InOut","showAppInfoAnimate","toggle","reset","c","p","r","s","_objectsRef$current4","hidden","_objectsRef$current3","transition","chain","abs","rect","getBoundingClientRect","top","left","useEffect","cancel","init","_document$getElementB","containerRect","getElementById","window","innerWidth","innerHeight","scene","Scene","PerspectiveCamera","renderer","CSS3DRenderer","setSize","replaceChildren","domElement","controls","TrackballControls","rotateSpeed","minDistance","animate","requestAnimationFrame","TWEEN","update","body","observer","ResizeObserver","debounce","updateProjectionMatrix","addEventListener","observe","disconnect","removeEventListener","dispose","clear","cancelAnimationFrame","_props$dataSource","updateViewBounds","position0","_data$cardItemProps","_data$cardItemProps2","_data$cardItemProps3","_data$cardItemProps4","_data$cardItemProps5","_data$cardItemProps6","_data$cardItemProps7","cardTitle","cardItemProps","description","background","color","titleStyle","desStyle","descriptionList","statusClass","objectCSS","random","querySelector","handleMouseover","clearTimeout","_popoverRef$current","_target$__userData2","canRenderPopover","instanceId","setVisible","setTimeout","rotationY","currentEleRect","_objectsRef$current","curRelations","lineTarget","relation","every","createRelationLines","_target$__userData","centerX","centerY","setPosition","showElementBetweenRelation","handleMouseout","_target$__userData3","handleClick","stopPropagation","handleDbClick","_userData$trapezoida","trapezoidalProps","basePosition","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","blur","spread","_userData$trapezoida2","_userData$trapezoida3","_userData$trapezoida4","_userData$trapezoida5","_userData$trapezoida6","delay","visibility","React","ref","onClick","_extends","systemCardProps","classNames","infoWrapper","warningWrapper","handeReset","___CSS_LOADER_EXPORT___","module","id","toString"],"sourceRoot":""}