/*! For license information please see modern-style-treemap.63422334.js.LICENSE.txt */
(globalThis.webpackChunk_next_bricks_data_view=globalThis.webpackChunk_next_bricks_data_view||[]).push([[2943],{75197:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ModernStyleTreemap:()=>V});var r,l=a(74635),i=a(70918),n=a(26902),o=a(5536),s=a(86121),c=a(70829),p=a(62740),g=a(18769),b=a.n(g),h=a(10300),u=a(24295),d=a(89592),f=a(16399),m=a(61997),v=a(46793),y=a(67766),x=a(6849),w=a(54960),k=a(37604),A=a(1696),S=a(79935),B=a(73240),M=a(6837),z=a(17290),C=a(72445),U=a(53373),E=a.n(U);let R,W,_,q,D,N,X,Y,T,$,H,L,j,O,G,P,F;const{defineElement:I,property:J,event:K}=(0,h.createDecorators)();var Q=function(e){return e.treemapBinary="treemapBinary",e.treemapDice="treemapDice",e.treemapResquarify="treemapResquarify",e.treemapSlice="treemapSlice",e.treemapSliceDice="treemapSliceDice",e.treemapSquarify="treemapSquarify",e}(Q||{});let V;var Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ae=new WeakMap,re=new WeakMap,le=new WeakMap,ie=new WeakMap,ne=new WeakSet,oe=new WeakMap;class se extends u.ReactNextElement{constructor(){super(...arguments),(0,l.A)(this,ne),(0,i.A)(this,Z,W(this)),(0,i.A)(this,ee,(_(this),q(this,Q.treemapSquarify))),(0,i.A)(this,te,(D(this),N(this))),(0,i.A)(this,ae,(X(this),Y(this))),(0,i.A)(this,re,(T(this),$(this))),(0,i.A)(this,le,(H(this),L(this))),(0,i.A)(this,ie,(j(this),O(this))),(0,i.A)(this,oe,(F(this),e=>{(0,o.A)(ne,this,G).emit(e)}))}get data(){return(0,c.A)(Z,this)}set data(e){(0,s.A)(Z,this,e)}get tail(){return(0,c.A)(ee,this)}set tail(e){(0,s.A)(ee,this,e)}get leafUseBrick(){return(0,c.A)(te,this)}set leafUseBrick(e){(0,s.A)(te,this,e)}get leafContainerStyle(){return(0,c.A)(ae,this)}set leafContainerStyle(e){(0,s.A)(ae,this,e)}get tooltipUseBrick(){return(0,c.A)(re,this)}set tooltipUseBrick(e){(0,s.A)(re,this,e)}get tooltipStyle(){return(0,c.A)(le,this)}set tooltipStyle(e){(0,s.A)(le,this,e)}render(){return b().createElement(pe,{data:this.data,tail:this.tail,leafUseBrick:this.leafUseBrick,leafContainerStyle:this.leafContainerStyle,tooltipUseBrick:this.tooltipUseBrick,tooltipStyle:this.tooltipStyle,handleClick:(0,c.A)(oe,this)})}}r=se,({e:[W,_,q,D,N,X,Y,T,$,H,L,j,O,G,P,F],c:[V,R]}=(0,p.A)(r,[I("data-view.modern-style-treemap",{styleTexts:[S.A,B.A]})],[[J({attribute:!1}),1,"data"],[J({attribute:!1}),1,"tail"],[J({attribute:!1}),1,"leafUseBrick"],[J({attribute:!1}),1,"leafContainerStyle"],[J({attribute:!1}),1,"tooltipUseBrick"],[J({attribute:!1}),1,"tooltipStyle"],[K({type:"treemap.click"}),1,"onClickEvent",e=>(0,c.A)(ie,e),(e,t)=>(0,s.A)(ie,e,t)]],0,(e=>oe.has((0,n.A)(e))),u.ReactNextElement)),R();const ce={[Q.treemapBinary]:f.A,[Q.treemapDice]:m.A,[Q.treemapResquarify]:v.A,[Q.treemapSlice]:y.A,[Q.treemapSliceDice]:x.A,[Q.treemapSquarify]:w.Ay};function pe(e){const{data:t,tail:a,leafUseBrick:r,leafContainerStyle:l,tooltipUseBrick:i,tooltipStyle:n,handleClick:o}=e,[s,{clientWidth:c,clientHeight:p}]=(0,M.w)(),[h,{clientHeight:u}]=(0,M.w)(),[f,m]=(0,g.useState)({clientX:0,clientY:0}),[v,y]=(0,g.useState)(),x=(0,g.useMemo)((()=>{if(!s.current)return;const e=s.current.getBoundingClientRect(),t=e.width/s.current.clientWidth,a=e.height/s.current.clientHeight;let r,l;const i=f.clientX-e.left;let n=f.clientY-e.top;const o=e.right-f.clientX,c=e.bottom-f.clientY,{width:p,height:g}=h.current.getBoundingClientRect();if(r=i+16,o<p&&(r=i-p-16,l="right"),i<p&&(l="left"),c<g/2||n<g/2){const e=c<g/2?"bottom":"top";n=c<g/2?n-g/2-16:n+g/2+16,"left"===l&&i-p/2<0?(l=`${e}-left`,r=i):"right"===l&&o-p/2<0?(l=`${e}-right`,r=i-p):(l=e,r=i-p/2)}return y(l),{left:r/t+"px",top:n/a-u/2+"px"}}),[s,f.clientX,f.clientY,h,u]),w=(0,g.useMemo)((()=>(0,k.Ay)(t).sum((e=>e.value)).sort(((e,t)=>t.value-e.value))),[t]),S=(0,g.useMemo)((()=>(0,A.A)().tile(ce[a]).size([c,p]).padding(1).round(!0)),[a,c,p]),[B,U]=(0,g.useMemo)((()=>{const e=S(w).leaves().map((e=>({...e})));return[e,(0,C.keyBy)(e,"data.name")]}),[S,w]),R=(0,g.useMemo)((()=>B.map((e=>{const t=e.y0,a=e.x0,i=e.x1-e.x0,n=e.y1-e.y0;return b().createElement("div",{key:e.data.name,className:"treemap-leaf","data-leaf-id":e.data.name,style:{...l,top:0,left:0,transform:`translate(${a}px, ${t}px)`,width:i,height:n},onClick:()=>null==o?void 0:o(e.data)},(null==r?void 0:r.useBrick)&&b().createElement(d.ReactUseMultipleBricks,{useBrick:r.useBrick,data:e}))}))),[o,l,r.useBrick,B]),W=(0,g.useMemo)((()=>({...U[f.name]})),[U,f.name]),_=(0,g.useMemo)((()=>(0,z.G)((e=>{const t=e.target.closest(".treemap-leaf"),a=null==t?void 0:t.getAttribute("data-leaf-id");m((r=>({clientX:e.clientX,clientY:e.clientY,name:t?a:r.name})))}))),[]);return b().createElement("div",{className:"wrapper"},b().createElement("div",{className:"treemap",ref:s,onMouseMove:_,onMouseEnter:()=>{h.current.style.visibility="visible"},onMouseLeave:()=>{h.current.style.visibility="hidden"}},R),b().createElement("div",{className:E()("tooltip",{bottom:"bottom"===v,bottomRight:"bottom-right"===v,bottomLeft:"bottom-left"===v,topLeft:"top-left"===v,topRight:"top-right"===v,top:"top"===v,right:"right"===v}),style:{...n,...x},ref:h},(null==i?void 0:i.useBrick)&&b().createElement(d.ReactUseMultipleBricks,{useBrick:i.useBrick,data:W})))}},79935:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(36758),l=a.n(r),i=a(40935),n=a.n(i)()(l());n.push([e.id,":host{--palette-rgba-white-1:rgba(255,255,255,10%);--palette-rgba-white-2:rgba(255,255,255,20%);--palette-rgba-white-3:rgba(255,255,255,30%);--palette-rgba-white-4:rgba(255,255,255,40%);--palette-rgba-white-5:rgba(255,255,255,50%);--palette-rgba-white-6:rgba(255,255,255,60%);--palette-rgba-white-7:rgba(255,255,255,70%);--palette-rgba-white-8:rgba(255,255,255,80%);--palette-rgba-white-9:rgba(255,255,255,90%);--palette-rgba-white-10:rgba(255,255,255,100%);--palette-rgba-gray-1:rgba(0,0,0,10%);--palette-rgba-gray-2:rgba(0,0,0,20%);--palette-rgba-gray-3:rgba(0,0,0,30%);--palette-rgba-gray-4:rgba(0,0,0,40%);--palette-rgba-gray-5:rgba(0,0,0,50%);--palette-rgba-gray-6:rgba(0,0,0,60%);--palette-rgba-gray-7:rgba(0,0,0,70%);--palette-rgba-gray-8:rgba(0,0,0,80%);--palette-rgba-gray-9:rgba(0,0,0,90%);--palette-rgba-gray-10:rgba(0,0,0,100%);--palette-rgba-blue-gray-2:rgba(101,106,134,20%);--palette-rgba-blue-gray-3:rgba(101,106,134,30%);--palette-rgba-blue-gray-8:rgba(101,106,134,80%);--palette-tech-blue-4-channel:67,127,255;--palette-tech-blue-4:rgb(var(--palette-tech-blue-4-channel));--palette-tech-blue-6-channel:51,102,255;--palette-tech-blue-6:rgb(var(--palette-tech-blue-6-channel));--palette-tech-blue-8-channel:40,69,159;--palette-tech-blue-8:rgb(var(--palette-tech-blue-8-channel));--palette-sea-green-4-channel:131,245,225;--palette-sea-green-4:rgb(var(--palette-sea-green-4-channel));--palette-green-6-channel:81,235,73;--palette-green-6:rgb(var(--palette-green-6-channel));--palette-green-2:rgba(var(--palette-green-6-channel),20%);--palette-lotus-pink-7-channel:204,0,102;--palette-lotus-pink-7:rgb(var(--palette-lotus-pink-7-channel));--palette-red-6-channel:242,39,39;--palette-red-6:rgb(var(--palette-red-6-channel));--palette-red-2:rgba(var(--palette-red-6-channel),20%);--color-fill-global-bg:#0f1014;--color-fill-bg-container-1:var(--palette-rgba-white-1);--color-fill-bg-container-2:var(--palette-rgba-blue-gray-2);--color-fill-bg-container-3:var(--palette-rgba-blue-gray-8);--color-fill-bg-base-1:var(--palette-rgba-blue-gray-2);--color-fill-bg-base-2:rgba(15,16,20,0%);--color-fill-bg-base-3:rgba(0,0,0,20%);--color-fill-bg-base-4:rgba(40,46,58,100%);--color-fill-bg-base-5:rgba(19,25,47,80%);--color-fill-bg-base-6:var(--palette-rgba-blue-gray-3);--color-brand:var(--palette-tech-blue-6);--color-brand-hover:var(--palette-tech-blue-4);--color-brand-active:var(--palette-tech-blue-8);--color-contrast-1:var(--palette-sea-green-4);--color-error:var(--palette-red-6);--color-error-bg:var(--palette-red-2);--color-success:var(--palette-green-6);--color-success-bg:var(--palette-green-2);--color-header-text-big:var(--palette-rgba-white-10);--color-header-text:var(--palette-rgba-white-10);--color-normal-text:var(--palette-rgba-white-10);--color-strong-text:var(--palette-rgba-white-9);--color-auxiliary-text:var(--palette-rgba-white-8);--color-secondary-text:var(--palette-rgba-white-6);--color-disabled-text:var(--palette-rgba-white-4);--color-border-divider-line:var(--palette-rgba-white-1);--color-text-divider-line-1:var(--palette-rgba-white-2);--color-text-divider-line-2:var(--palette-rgba-white-2);--small-border-radius:2px;--medius-border-radius:5px;--larger-border-radius:12px;--container-border-radius:9999px;--no-border-radius:0px;--mask-bg:var(--palette-rgba-gray-7);--title-font-size-larger:30px;--title-font-size-strong:22px;--title-font-size:18px;--normal-font-size:14px;--auxiliary-font-size:16px;--auxiliary-font-size-small:12px;--overview-data-font-size:34px;--statistics-data-font-size:28px;--normal-data-font-size-larger:20px;--normal-data-font-size:16px;--chart-legend-font-size:12px;--chart-tooltips-font-size-1:12px;--chart-tooltips-font-size-2:12px;--chart-axis-x-font-size:12px;--chart-axis-x-font-size-larger:14px;--chart-axis-y-font-size:12px;--chart-axis-y-font-size-larger:14px;--font-weight-600:600;--font-weight-500:500;--font-weight-400:400;--text-shadow:0px 1px 4px #2863ee;--border-width-base:1px;--border-width-double-base:2px;--border-width-tribble-base:3px;--punctate-width-base:1px;--paragraph-width-base:1px;--button-text-color:#40d0db}",""]);const o=n.toString()},53373:(e,t)=>{var a;!function(){"use strict";var r={}.hasOwnProperty;function l(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=n(e,i(a)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)r.call(e,a)&&e[a]&&(t=n(t,a));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(l.default=l,e.exports=l):void 0===(a=function(){return l}.apply(t,[]))||(e.exports=a)}()},5536:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(12559);function l(e,t,a){return a((0,r.A)(e,t))}},74635:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(72016);function l(e,t){(0,r.A)(e,t),t.add(e)}}}]);
//# sourceMappingURL=modern-style-treemap.63422334.js.map