"use strict";(self.webpackChunk_next_bricks_form=self.webpackChunk_next_bricks_form||[]).push([[5637],{5637:(i,e,s)=>{s.r(e),s.d(e,{pipes:()=>n,utils:()=>t});var t={};s.r(t),s.d(t,{convertUnitValueByPrecision:()=>Ki,formatUnitValue:()=>Si});var n={};function r(i,e){return i+e}function o(i){return"0"!==i&&Boolean(i)}s.r(n),s.d(n,{add:()=>r,bool:()=>a,boolean:()=>o,cmdbInstanceShowName:()=>d,countBy:()=>l,datetime:()=>f,deltaTime:()=>v,divide:()=>g,equal:()=>h,find:()=>M,findIndex:()=>P,findLast:()=>k,findLastIndex:()=>K,get:()=>S,graphTree:()=>w,groupBy:()=>T,groupByToIndex:()=>G,includes:()=>L,join:()=>C,json:()=>N,jsonStringify:()=>x,keyBy:()=>A,map:()=>I,mapToArray:()=>j,mergeArrayByKey:()=>D,multiply:()=>$,not:()=>_,nullish:()=>O,number:()=>E,parseTimeRange:()=>H,randomString:()=>U,reverse:()=>Y,round:()=>Ci,slice:()=>q,sort:()=>F,split:()=>J,string:()=>W,substr:()=>z,substring:()=>V,subtract:()=>Q,ternary:()=>X,uniq:()=>Z,unitFormat:()=>wi,yaml:()=>Gi,yamlStringify:()=>Li});const a=o;function d(i){if(Array.isArray(i)){const e=i[0]||"-",s=i.slice(1,i.length).join(",");return s?`${e}(${s})`:e}return i}var c=s(5178);function l(i,e){return(0,c.countBy)(i,e)}var u,y,p=s(5872),b=s.n(p);function f(i,e){return b()(i).format(e)}function B(i){return"object"==typeof i&&null!==i}function m(i,e){return"number"==typeof i?b()(i):b()(i,e)}function v(i,e=!0,s="YYYY-MM-DD HH:mm:ss"){if(!i)return"";if(B(i)&&i.startTime&&i.endTime){const t=m(i.startTime,s),n=m(i.endTime,s);return b().duration(n.diff(t)).humanize(e)}const t=m(B(i)?i.startTime||i.endTime:i,s);return b().duration(t.diff(b()())).humanize(e)}function g(i,e){return i/e}function h(i,e){return(0,c.isEqual)(i,e)}function M(i,e,s){return(0,c.find)(i,e,s)}function P(i,e,s){return(0,c.findIndex)(i,e,s)}function k(i,e,s){return(0,c.findLast)(i,e,s)}function K(i,e,s){return(0,c.findLastIndex)(i,e,s)}function S(i,e,s){return(0,c.get)(i,e,s)}function w(i,e){if(!i)return[];const s=e?.sort,t=(0,c.groupBy)(i.edges,"out"),n=e=>{const r=t[e.instanceId];if((0,c.forEach)(r,(s=>{const t=s.out_name,r=(0,c.find)(i.vertices,["instanceId",s.in]);if(r){const i=n(r);e[t]?e[t].push(i):e[t]=[i]}})),s){const i=(0,c.uniq)((0,c.map)(r,"out_name"));(0,c.forEach)(i,(i=>{(0,c.isEmpty)(e[i])||(e[i]=(0,c.orderBy)(e[i],(i=>(0,c.get)(i,s.key)??-1/0),-1===s.order?"desc":"asc"))}))}return e};return i.topic_vertices?.map((i=>n(i)))??[]}function T(i,e){return(0,c.groupBy)(i,e)}function G(i,e,s){let t=i;if(!(0,c.isNil)(e)&&!(0,c.isNil)(s)){const n=(0,c.groupBy)(i,e),r=(0,c.keys)(n).sort();t=t.map((i=>{const t={...i};return(0,c.set)(t,s,(0,c.indexOf)(r,(0,c.get)(i,e))),t}))}return t}function L(i,e){return i.includes(e)}function C(i,e=","){return Array.isArray(i)?i.join(e):""}function N(i){if((0,c.isNil)(i))return i;try{return JSON.parse(i)}catch(i){return void console.error(i)}}function x(i,e=2){try{return JSON.stringify(i,null,e)}catch(i){return void console.error(i)}}function A(i,e){return(0,c.keyBy)(i,e)}function I(i,e){return Array.isArray(i)?i.map((i=>(0,c.get)(i,e))):[]}function j(i,e,s){return"object"==typeof i&&i?Object.entries(i).map((([i,t])=>({[e]:i,[s]:t}))):[]}function D(i,e){return i.reduce(((i,s)=>Object.values((0,c.mergeWith)((0,c.keyBy)(i,e),(0,c.keyBy)(s,e),R))),[])}function R(i,e){if((0,c.isArray)(i))return i.concat(e)}function $(i,e){return i*e}function _(i){return!i}function O(i,e){return i??e}function E(i){return Number(i)}function H(i){if("now/d"===i)return+b()().startOf("day");if("now/y"===i)return+b()().startOf("year");const e=/^now-(\d+)(\w+)/.exec(i);if(null!==e){const[,i,s]=e;return+b()().subtract(i,s)}return i?+i:+b()()}function U(i,e){i=i>0?i:8,e="string"==typeof e?e:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="";for(let t=0;t<i;t++)s+=e.charAt(Math.floor(Math.random()*e.length));return s}function Y(i){return Array.isArray(i)?i.slice().reverse():[]}function q(i,e,s){return i.slice(e,s)}function F(i,e){return Array.isArray(i)?(0,c.sortBy)(i,e):[]}function J(i,e){return"string"==typeof i?i.split(e):[]}function W(i){return null==i?"":String(i)}function z(i,e,s){return"string"==typeof i?i.substr(e,s):""}function V(i,e,s){return"string"==typeof i?i.substring(e,s):""}function Q(i,e){return i-e}function X(i,e,s){return i?e:s}function Z(i){return(0,c.uniq)(i)}!function(i){i.Time="time",i.Byte="byte",i.Bibyte="bibyte",i.BitRate="bitRate",i.ByteRate="byteRate"}(u||(u={})),function(i){i.Percent1="percent(1)",i.Percent100="percent(100)"}(y||(y={}));const ii=[y.Percent1,y.Percent100];var ei;!function(i){i.Bytes="bytes",i.Kilobytes="kilobytes",i.Megabytes="megabytes",i.Gigabytes="gigabytes",i.Terabytes="terabytes",i.Petabytes="petabytes",i.Bibytes="bibytes",i.Kibibytes="kibibytes",i.Mebibytes="mebibytes",i.Gibibytes="gibibytes",i.Tebibytes="tebibytes",i.Pebibytes="pebibytes",i.b="b",i.B="B",i.KB="KB",i.MB="MB",i.GB="GB"}(ei||(ei={}));const si=[{id:ei.Bytes,alias:["B","bytes(B)"],divisor:1,display:"B"},{id:ei.Kilobytes,alias:["KB","kilobytes(KB)"],divisor:1e3,display:"KB"},{id:ei.Megabytes,alias:["MB","megabytes(MB)"],divisor:1e6,display:"MB"},{id:ei.Gigabytes,alias:["GB","gigabytes(GB)"],divisor:1e3**3,display:"GB"},{id:ei.Terabytes,alias:["TB","terabytes(TB)"],divisor:1e3**4,display:"TB"},{id:ei.Petabytes,alias:["PB","petabytes(PB)"],divisor:1e3**5,display:"PB"}],ti=[{id:ei.Bibytes,alias:["B","bibytes(B)"],divisor:1,display:"B"},{id:ei.Kibibytes,alias:["KiB","kibibytes(KiB)"],divisor:1024,display:"KiB"},{id:ei.Mebibytes,alias:["MiB","mebibytes(MiB)"],divisor:1048576,display:"MiB"},{id:ei.Gibibytes,alias:["GiB","gibibytes(GiB)"],divisor:1024**3,display:"GiB"},{id:ei.Tebibytes,alias:["TiB","tebibytes(TiB)"],divisor:1024**4,display:"TiB"},{id:ei.Pebibytes,alias:["PiB","pebibytes(PiB)"],divisor:1024**5,display:"PiB"}],ni=[{id:ei.b,divisor:1,display:"b"},{id:ei.B,divisor:8,display:"B"},{id:ei.KB,divisor:8192,display:"KB"},{id:ei.MB,divisor:8388608,display:"MB"},{id:ei.GB,divisor:8589934592,display:"GB"}];var ri;!function(i){i.BitsPerSecond="bits/sec",i.KilobitsPerSecond="kilobits/sec",i.MegabitsPerSecond="megabits/sec",i.GigabitsPerSecond="gigabits/sec",i.BytesPerSecond="bytes/sec",i.KilobytesPerSecond="kilobytes/sec",i.MegabytesPerSecond="megabytes/sec",i.GigabytesPerSecond="gigabytes/sec",i.bps="bps",i.Bps="Bps",i.KBps="KBps",i.MBps="MBps",i.GBps="GBps"}(ri||(ri={}));const oi=[{id:ri.BitsPerSecond,alias:["bps","bits/sec(bps)"],divisor:1,display:"bps"},{id:ri.KilobitsPerSecond,alias:["Kbps","kilobits/sec(Kbps)"],divisor:1024,display:"Kbps"},{id:ri.MegabitsPerSecond,alias:["Mbps","megabits/sec(Mbps)"],divisor:1048576,display:"Mbps"},{id:ri.GigabitsPerSecond,alias:["Gbps","gigabits/sec(Gbps)"],divisor:1073741824,display:"Gbps"}],ai=[{id:ri.BytesPerSecond,alias:["Bps","bytes/sec(Bps)"],divisor:8,display:"Bps"},{id:ri.KilobytesPerSecond,alias:["KBps","kilobytes/sec(KBps)"],divisor:8192,display:"KBps"},{id:ri.MegabytesPerSecond,alias:["MBps","megabytes/sec(MBps)"],divisor:8388608,display:"MBps"},{id:ri.GigabytesPerSecond,alias:["GBps","gigabytes/sec(GBps)"],divisor:8589934592,display:"GBps"}],di=[{id:ri.bps,divisor:1,display:"bps"},{id:ri.Bps,divisor:8,display:"Bps"},{id:ri.KBps,divisor:8192,display:"KBps"},{id:ri.MBps,divisor:8388608,display:"MBps"},{id:ri.GBps,divisor:8589934592,display:"GBps"}];var ci;!function(i){i.Nanosecond="nanoseconds",i.Microsecond="microseconds",i.Milliseconds="milliseconds",i.Seconds="seconds",i.Minutes="minutes",i.Hours="hours",i.Days="days",i.Weeks="weeks",i.Months="months",i.Years="years",i.ms="ms",i.s="s",i.min="min",i.hour="hour",i.day="day",i.week="week"}(ci||(ci={}));const li=[{id:ci.Nanosecond,alias:["ns","nanoseconds(ns)"],divisor:1,display:"ns"},{id:ci.Microsecond,alias:["μs","microseconds(μs)"],divisor:1e3,display:"μs"},{id:ci.Milliseconds,alias:["ms","milliseconds(ms)"],divisor:1e6,display:"ms"},{id:ci.Seconds,alias:["s","seconds(s)"],divisor:1e9,display:"s"},{id:ci.Minutes,alias:["min","minutes(min)"],divisor:6e10,display:"min"},{id:ci.Hours,alias:["hour","hours(hour)"],divisor:36e11,display:"hour"},{id:ci.Days,alias:["day","days(day)"],divisor:864e11,display:"day"},{id:ci.Weeks,alias:["week","weeks(week)"],divisor:6048e11,display:"week"},{id:ci.Months,alias:["month","months(month)"],divisor:2592e12,display:"month"},{id:ci.Years,alias:["year","years(year)"],divisor:31536e12,display:"year"}];var ui;ci.ms,ci.s,ci.min,ci.hour,ci.day,ci.week,u.Time,u.Byte,u.Bibyte,u.BitRate,u.ByteRate,function(i){i.None="none",i.K="K",i.M="M",i.B="B",i.T="T"}(ui||(ui={}));const yi=[{id:ui.None,divisor:1,display:""},{id:ui.K,divisor:1e3,display:"K"},{id:ui.M,divisor:1e6,display:"M"},{id:ui.B,divisor:1e9,display:"B"},{id:ui.T,divisor:1e12,display:"T"}],pi=(i,e)=>i.id.toLocaleLowerCase()===e?.toLocaleLowerCase()||i.alias&&i.alias.map((i=>i.toLocaleLowerCase())).includes(e),bi=(i,e)=>i.id.toLocaleLowerCase()===e?.toLocaleLowerCase()||i.alias&&i.alias.includes(e),fi=[li],Bi=[].concat.apply([],fi.map((i=>[...i.map((i=>i.id)),...[].concat.apply([],i.map((i=>i.alias?i.alias:[])))]))),mi=[si,ti,ni],vi=[].concat.apply([],mi.map((i=>[...i.map((i=>i.id)),...[].concat.apply([],i.map((i=>i.alias?i.alias:[])))]))),gi=[oi,ai,di],hi=[].concat.apply([],gi.map((i=>[...i.map((i=>i.id)),...[].concat.apply([],i.map((i=>i.alias?i.alias:[])))]))),Mi=(i,e,s)=>{let t=0;const n=Math.sign(i),r=Math.abs(i);if(e){const i=yi.findIndex((i=>i.id.toLocaleLowerCase()===e.toLocaleLowerCase()));-1!==i&&(t=i)}let o=yi[t];for(let i=t+1;i<yi.length&&r/(yi[i].divisor/yi[t].divisor)>=1;++i)o=yi[i];return o.id===ui.None?(n*r).toFixed(s??2):(r/(o.divisor/yi[t].divisor)*n).toFixed(s??2)+o.display};var Pi;!function(i){i.None="none",i.Short="short",i.Percent="percent",i.Time="time",i.Data="data",i.DataRate="data_rate"}(Pi||(Pi={}));const ki={[Pi.None]:[],[Pi.Short]:[],[Pi.Percent]:ii,[Pi.Time]:Bi,[Pi.Data]:vi,[Pi.DataRate]:hi},Ki=(i,e)=>void 0===e?i.toString():i.toFixed(e),Si=(i,e)=>{if(!e)return[Mi(i),null];{let{type:s}=e;s||(e.unit?(s=Pi.Short,Object.entries(ki).map((([i,t])=>{t.map((i=>i.toLocaleLowerCase())).includes(e.unit.toLocaleLowerCase())&&(s=i)}))):s=Pi.None);const t=void 0===e?.precision?2:e.precision;switch(s){case Pi.Percent:{const s=function(i,e){return e&&e.toLocaleLowerCase()===y.Percent100.toLocaleLowerCase()?i:100*i}(i,e.unit);return[`${Ki(s,t)}%`,null]}case Pi.Time:{const[s,t]=function(i,e,s){let t=0,n=2,r=-1;if(e)for(let i=0;i<fi.length;++i){let o=-1,a=-1;if(fi[i].forEach(((i,t)=>{pi(i,e)&&(o=t),pi(i,s)&&(a=t)})),-1!==o){t=i,n=o,r=a;break}}else s&&(r=fi[t].findIndex((i=>pi(i,s))));const o=fi[t],a=o[n];let d=a;if(-1===r)for(let e=n+1;e<o.length&&i/(o[e].divisor/a.divisor)>=1;++e)d=o[e];else d=o[r];return s&&-1===r&&console.warn(`Cannot convert unit "${e||a.display}" to "${s}"`),[i/(d.divisor/a.divisor),d.display]}(i,e.unit,e.targetUnit);return[`${Ki(s,void 0===e?.precision?1:e.precision)}`,t]}case Pi.Data:{const[s,n]=function(i,e,s){let t=mi.length-1,n=0,r=-1;const o=Math.sign(i),a=Math.abs(i);if(e)for(let i=0;i<mi.length;++i){let o=-1,a=-1;if(mi[i].forEach(((i,t)=>{bi(i,e)&&(o=t),bi(i,s)&&(a=t)})),-1!==o){t=i,n=o,r=a;break}}else s&&(r=mi[t].findIndex((i=>bi(i,s))));const d=mi[t],c=d[n];let l=c;if(-1===r)for(let i=n+1;i<d.length&&a/(d[i].divisor/c.divisor)>=1;++i)l=d[i];else l=d[r];return s&&-1===r&&console.warn(`Cannot convert unit "${e||c.display}" to "${s}"`),[a/(l.divisor/c.divisor)*o,l.display]}(i,e.unit,e.targetUnit);return[`${Ki(s,t)}`,n]}case Pi.DataRate:{const[s,n]=function(i,e,s){let t=gi.length-1,n=0,r=-1;const o=Math.sign(i),a=Math.abs(i);if(e)for(let i=0;i<gi.length;++i){let o=-1,a=-1;if(gi[i].forEach(((i,t)=>{pi(i,e)&&(o=t),pi(i,s)&&(a=t)})),-1!==o){t=i,n=o,r=a;break}}else s&&(r=gi[t].findIndex((i=>pi(i,s))));const d=gi[t],c=d[n];let l=c;if(-1===r)for(let i=n+1;i<d.length&&a/(d[i].divisor/c.divisor)>=1;++i)l=d[i];else l=d[r];return s&&-1===r&&console.warn(`Cannot convert unit "${e||c.display}" to "${s}"`),[a/(l.divisor/c.divisor)*o,l.display]}(i,e.unit,e.targetUnit);return[`${Ki(s,t)}`,n]}case Pi.None:return[Ki(i,t),""];default:return[Mi(i,e.unit,t),e.unit]}}};function wi(i,e,s=2,t){return Si(i,{unit:e,precision:s,targetUnit:t})}var Ti=s(5899);function Gi(i){let e;try{e=(0,Ti.safeLoad)(i,{schema:Ti.JSON_SCHEMA,json:!0})}catch(i){console.error(i)}return e}function Li(i,e=2){let s;try{s=(0,Ti.safeDump)(i,{indent:e,schema:Ti.JSON_SCHEMA,skipInvalid:!0,noRefs:!0,noCompatMode:!0})}catch(i){console.error(i)}return s}function Ci(i,e){return(0,c.round)(i,e)}}}]);
//# sourceMappingURL=5637.8cd320b2.js.map