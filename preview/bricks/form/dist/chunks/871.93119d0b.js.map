{"version":3,"file":"chunks/871.93119d0b.js","mappings":"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","sources":["webpack:///../../node_modules/file-saver/dist/FileSaver.min.js","webpack:///../../node_modules/@next-core/utils/dist/esm/general/createProviderClass.js","webpack:///../../node_modules/@microsoft/fetch-event-source/lib/esm/fetch.js","webpack:///../../node_modules/@microsoft/fetch-event-source/lib/esm/parse.js","webpack:///../../node_modules/@next-core/utils/dist/esm/general/createSSEStream.js","webpack:///../../node_modules/@next-core/utils/dist/esm/general/deepFreeze.js","webpack:///../../node_modules/@next-core/utils/dist/esm/general/hasOwnProperty.js","webpack:///../../node_modules/@next-core/utils/dist/esm/general/isObject.js","webpack:///../../node_modules/@next-core/utils/dist/esm/general/JsonStorage.js","webpack:///../../node_modules/@next-core/utils/dist/esm/general/unwrapProvider.js"],"sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { saveAs } from \"file-saver\";\nexport function createProviderClass(api) {\n  return class extends HTMLElement {\n    get $$typeof() {\n      return \"provider\";\n    }\n    resolve() {\n      return api(...arguments);\n    }\n    async saveAs(filename) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      const blob = await api(...args);\n      saveAs(blob, filename);\n    }\n  };\n}\n//# sourceMappingURL=createProviderClass.js.map","var __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport { getBytes, getLines, getMessages } from './parse';\r\nexport const EventStreamContentType = 'text/event-stream';\r\nconst DefaultRetryInterval = 1000;\r\nconst LastEventId = 'last-event-id';\r\nexport function fetchEventSource(input, _a) {\r\n    var { signal: inputSignal, headers: inputHeaders, onopen: inputOnOpen, onmessage, onclose, onerror, openWhenHidden, fetch: inputFetch } = _a, rest = __rest(_a, [\"signal\", \"headers\", \"onopen\", \"onmessage\", \"onclose\", \"onerror\", \"openWhenHidden\", \"fetch\"]);\r\n    return new Promise((resolve, reject) => {\r\n        const headers = Object.assign({}, inputHeaders);\r\n        if (!headers.accept) {\r\n            headers.accept = EventStreamContentType;\r\n        }\r\n        let curRequestController;\r\n        function onVisibilityChange() {\r\n            curRequestController.abort();\r\n            if (!document.hidden) {\r\n                create();\r\n            }\r\n        }\r\n        if (!openWhenHidden) {\r\n            document.addEventListener('visibilitychange', onVisibilityChange);\r\n        }\r\n        let retryInterval = DefaultRetryInterval;\r\n        let retryTimer = 0;\r\n        function dispose() {\r\n            document.removeEventListener('visibilitychange', onVisibilityChange);\r\n            window.clearTimeout(retryTimer);\r\n            curRequestController.abort();\r\n        }\r\n        inputSignal === null || inputSignal === void 0 ? void 0 : inputSignal.addEventListener('abort', () => {\r\n            dispose();\r\n            resolve();\r\n        });\r\n        const fetch = inputFetch !== null && inputFetch !== void 0 ? inputFetch : window.fetch;\r\n        const onopen = inputOnOpen !== null && inputOnOpen !== void 0 ? inputOnOpen : defaultOnOpen;\r\n        async function create() {\r\n            var _a;\r\n            curRequestController = new AbortController();\r\n            try {\r\n                const response = await fetch(input, Object.assign(Object.assign({}, rest), { headers, signal: curRequestController.signal }));\r\n                await onopen(response);\r\n                await getBytes(response.body, getLines(getMessages(id => {\r\n                    if (id) {\r\n                        headers[LastEventId] = id;\r\n                    }\r\n                    else {\r\n                        delete headers[LastEventId];\r\n                    }\r\n                }, retry => {\r\n                    retryInterval = retry;\r\n                }, onmessage)));\r\n                onclose === null || onclose === void 0 ? void 0 : onclose();\r\n                dispose();\r\n                resolve();\r\n            }\r\n            catch (err) {\r\n                if (!curRequestController.signal.aborted) {\r\n                    try {\r\n                        const interval = (_a = onerror === null || onerror === void 0 ? void 0 : onerror(err)) !== null && _a !== void 0 ? _a : retryInterval;\r\n                        window.clearTimeout(retryTimer);\r\n                        retryTimer = window.setTimeout(create, interval);\r\n                    }\r\n                    catch (innerErr) {\r\n                        dispose();\r\n                        reject(innerErr);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        create();\r\n    });\r\n}\r\nfunction defaultOnOpen(response) {\r\n    const contentType = response.headers.get('content-type');\r\n    if (!(contentType === null || contentType === void 0 ? void 0 : contentType.startsWith(EventStreamContentType))) {\r\n        throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${contentType}`);\r\n    }\r\n}\r\n//# sourceMappingURL=fetch.js.map","export async function getBytes(stream, onChunk) {\r\n    const reader = stream.getReader();\r\n    let result;\r\n    while (!(result = await reader.read()).done) {\r\n        onChunk(result.value);\r\n    }\r\n}\r\nexport function getLines(onLine) {\r\n    let buffer;\r\n    let position;\r\n    let fieldLength;\r\n    let discardTrailingNewline = false;\r\n    return function onChunk(arr) {\r\n        if (buffer === undefined) {\r\n            buffer = arr;\r\n            position = 0;\r\n            fieldLength = -1;\r\n        }\r\n        else {\r\n            buffer = concat(buffer, arr);\r\n        }\r\n        const bufLength = buffer.length;\r\n        let lineStart = 0;\r\n        while (position < bufLength) {\r\n            if (discardTrailingNewline) {\r\n                if (buffer[position] === 10) {\r\n                    lineStart = ++position;\r\n                }\r\n                discardTrailingNewline = false;\r\n            }\r\n            let lineEnd = -1;\r\n            for (; position < bufLength && lineEnd === -1; ++position) {\r\n                switch (buffer[position]) {\r\n                    case 58:\r\n                        if (fieldLength === -1) {\r\n                            fieldLength = position - lineStart;\r\n                        }\r\n                        break;\r\n                    case 13:\r\n                        discardTrailingNewline = true;\r\n                    case 10:\r\n                        lineEnd = position;\r\n                        break;\r\n                }\r\n            }\r\n            if (lineEnd === -1) {\r\n                break;\r\n            }\r\n            onLine(buffer.subarray(lineStart, lineEnd), fieldLength);\r\n            lineStart = position;\r\n            fieldLength = -1;\r\n        }\r\n        if (lineStart === bufLength) {\r\n            buffer = undefined;\r\n        }\r\n        else if (lineStart !== 0) {\r\n            buffer = buffer.subarray(lineStart);\r\n            position -= lineStart;\r\n        }\r\n    };\r\n}\r\nexport function getMessages(onId, onRetry, onMessage) {\r\n    let message = newMessage();\r\n    const decoder = new TextDecoder();\r\n    return function onLine(line, fieldLength) {\r\n        if (line.length === 0) {\r\n            onMessage === null || onMessage === void 0 ? void 0 : onMessage(message);\r\n            message = newMessage();\r\n        }\r\n        else if (fieldLength > 0) {\r\n            const field = decoder.decode(line.subarray(0, fieldLength));\r\n            const valueOffset = fieldLength + (line[fieldLength + 1] === 32 ? 2 : 1);\r\n            const value = decoder.decode(line.subarray(valueOffset));\r\n            switch (field) {\r\n                case 'data':\r\n                    message.data = message.data\r\n                        ? message.data + '\\n' + value\r\n                        : value;\r\n                    break;\r\n                case 'event':\r\n                    message.event = value;\r\n                    break;\r\n                case 'id':\r\n                    onId(message.id = value);\r\n                    break;\r\n                case 'retry':\r\n                    const retry = parseInt(value, 10);\r\n                    if (!isNaN(retry)) {\r\n                        onRetry(message.retry = retry);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction concat(a, b) {\r\n    const res = new Uint8Array(a.length + b.length);\r\n    res.set(a);\r\n    res.set(b, a.length);\r\n    return res;\r\n}\r\nfunction newMessage() {\r\n    return {\r\n        data: '',\r\n        event: '',\r\n        id: '',\r\n        retry: undefined,\r\n    };\r\n}\r\n//# sourceMappingURL=parse.js.map","import { fetchEventSource } from \"@microsoft/fetch-event-source\";\n/**\n * 将 SSE 事件流转换为异步迭代器。\n */\nexport async function createSSEStream(url, options) {\n  // Reference https://github.com/withspectrum/callback-to-async-iterator/blob/master/src/index.js\n  const pushQueue = [];\n  const pullQueue = [];\n  let disposed = false;\n  let closed = false;\n  const {\n    converter,\n    ...fetchOptions\n  } = options ?? {};\n  await new Promise((resolve, reject) => {\n    fetchEventSource(url, {\n      ...fetchOptions,\n      openWhenHidden: true,\n      async onopen(response) {\n        if (response.ok) {\n          resolve(null);\n        } else {\n          // eslint-disable-next-line no-console\n          console.error(\"open error\", response.statusText);\n          throw new Error(response.statusText);\n        }\n      },\n      onmessage(msg) {\n        // istanbul ignore next\n        if (process.env.NODE_ENV === \"development\") {\n          // eslint-disable-next-line no-console\n          console.debug(\"[EventSource]\", msg);\n        }\n        let data;\n        let reason;\n        let ok = true;\n        try {\n          data = (converter ?? defaultConverter)(msg.data, msg.event);\n        } catch (e) {\n          ok = false;\n          reason = e;\n        }\n        if (pullQueue.length > 0) {\n          const [resolve, reject] = pullQueue.shift();\n          ok ? resolve(data) : reject(reason);\n        } else {\n          pushQueue.push(ok ? {\n            ok: true,\n            data: data\n          } : {\n            ok: false,\n            reason\n          });\n        }\n      },\n      onclose() {\n        closed = true;\n        earlyDone();\n      },\n      onerror(err) {\n        throw err;\n      }\n    }).catch(reason => {\n      reject(reason);\n      bailout(reason);\n    });\n  });\n  function bailout(reason) {\n    pullQueue.forEach(_ref => {\n      let [_resolve, reject] = _ref;\n      return reject(reason);\n    });\n    dispose();\n  }\n  function earlyDone() {\n    pullQueue.forEach(_ref2 => {\n      let [resolve] = _ref2;\n      return resolve({\n        value: undefined,\n        done: true\n      });\n    });\n  }\n  function dispose() {\n    disposed = true;\n    pullQueue.length = 0;\n    pushQueue.length = 0;\n  }\n  return {\n    next() {\n      return disposed ? this.return() : new Promise((resolve, reject) => {\n        if (pushQueue.length > 0) {\n          const result = pushQueue.shift();\n          if (result.ok) {\n            resolve(result.data);\n          } else {\n            reject(result.reason);\n          }\n        } else if (closed) {\n          dispose();\n          resolve({\n            value: undefined,\n            done: true\n          });\n        } else {\n          pullQueue.push([resolve, reject]);\n        }\n      });\n    },\n    return() {\n      earlyDone();\n      dispose();\n      return Promise.resolve({\n        value: undefined,\n        done: true\n      });\n    },\n    throw(error) {\n      earlyDone();\n      dispose();\n      return Promise.reject(error);\n    },\n    [Symbol.asyncIterator]() {\n      return this;\n    }\n  };\n}\nfunction defaultConverter(data, event) {\n  if (event === \"error\") {\n    var _value;\n    // eslint-disable-next-line no-console\n    console.error(\"Received error event:\", data);\n    let value;\n    try {\n      value = JSON.parse(data);\n    } catch {\n      // Ignore\n    }\n    throw new Error(typeof ((_value = value) === null || _value === void 0 ? void 0 : _value.error) === \"string\" ? value.error : data);\n  }\n\n  // By default, `data: [DONE]` indicates the end of the stream\n  if (data === \"[DONE]\") {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n  if (data.startsWith(\"[ERROR]\")) {\n    // eslint-disable-next-line no-console\n    console.error(\"Received error message:\", data);\n    throw new Error(data);\n  }\n  try {\n    const value = JSON.parse(data);\n    return {\n      value,\n      done: false\n    };\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error(\"Failed to parse message:\", data);\n    throw e;\n  }\n}\n//# sourceMappingURL=createSSEStream.js.map","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n\n/** @internal */\nexport function deepFreeze(object) {\n  // Retrieve the property names defined on object\n  const propNames = Object.getOwnPropertyNames(object);\n\n  // Freeze properties before freezing self\n\n  for (const name of propNames) {\n    const value = object[name];\n    if (value && typeof value === \"object\") {\n      deepFreeze(value);\n    }\n  }\n  return Object.freeze(object);\n}\n//# sourceMappingURL=deepFreeze.js.map","export function hasOwnProperty(object, property) {\n  return Object.prototype.hasOwnProperty.call(object, property);\n}\n//# sourceMappingURL=hasOwnProperty.js.map","// Ref https://github.com/lodash/lodash/blob/4.17.11/lodash.js#L11744\nexport function isObject(value) {\n  const type = typeof value;\n  return value != null && (type == \"object\" || type == \"function\");\n}\n//# sourceMappingURL=isObject.js.map","// This is copied from\n// [@next-libs/storage](https://github.com/easyops-cn/next-libs/tree/master/libs/storage),\n// and the types is refined.\n// The usage of JsonStorage from @next-libs/storage should be deprecated,\n// and migrated to from @next-core/brick-utils.\nexport class JsonStorage {\n  constructor(storage) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"brick-next-\";\n    this.storage = storage;\n    this.prefix = prefix;\n  }\n  setItem(name, value) {\n    this.storage.setItem(this.prefix + name, JSON.stringify(value));\n  }\n  getItem(name) {\n    return JSON.parse(this.storage.getItem(this.prefix + name) ?? \"null\");\n  }\n  removeItem(name) {\n    return this.storage.removeItem(this.prefix + name);\n  }\n  clear() {\n    return this.storage.clear();\n  }\n}\n//# sourceMappingURL=JsonStorage.js.map","const pool = new Map();\nfunction getProviderBrick(provider) {\n  let brick = pool.get(provider);\n  if (brick) {\n    return brick;\n  }\n  brick = document.createElement(provider);\n  pool.set(provider, brick);\n  return brick;\n}\nexport function unwrapProvider(provider) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    const brick = getProviderBrick(provider);\n    return brick.resolve(...args);\n  };\n}\n//# sourceMappingURL=unwrapProvider.js.map"],"names":["c","a","b","d","XMLHttpRequest","open","responseType","onload","g","response","onerror","console","error","send","status","e","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","global","navigator","test","userAgent","saveAs","HTMLAnchorElement","prototype","h","i","URL","webkitURL","j","createElement","name","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","type","Blob","title","body","innerText","HTMLElement","safari","FileReader","k","onloadend","result","replace","readAsDataURL","l","m","module","exports","createProviderClass","api","$$typeof","resolve","arguments","filename","_len","length","args","Array","_key","blob","__rest","s","t","p","Object","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","EventStreamContentType","DefaultRetryInterval","LastEventId","fetchEventSource","input","_a","signal","inputSignal","headers","inputHeaders","onopen","inputOnOpen","onmessage","onclose","openWhenHidden","fetch","inputFetch","rest","Promise","reject","assign","curRequestController","onVisibilityChange","abort","hidden","create","accept","addEventListener","retryInterval","retryTimer","dispose","removeEventListener","clearTimeout","defaultOnOpen","async","AbortController","stream","onChunk","reader","getReader","read","done","value","getBytes","onLine","buffer","position","fieldLength","discardTrailingNewline","arr","undefined","res","Uint8Array","set","concat","bufLength","lineStart","lineEnd","subarray","getLines","onId","onRetry","onMessage","message","data","event","id","retry","decoder","TextDecoder","line","field","decode","valueOffset","parseInt","isNaN","getMessages","err","aborted","interval","innerErr","contentType","get","startsWith","Error","createSSEStream","url","options","pushQueue","pullQueue","disposed","closed","converter","fetchOptions","earlyDone","forEach","_ref2","ok","statusText","msg","reason","defaultConverter","shift","push","catch","_ref","_resolve","bailout","next","this","return","throw","Symbol","asyncIterator","_value","JSON","parse","deepFreeze","object","propNames","getOwnPropertyNames","freeze","property","isObject","JsonStorage","constructor","storage","prefix","setItem","stringify","getItem","removeItem","clear","pool","Map","unwrapProvider","provider","brick","getProviderBrick"],"sourceRoot":""}