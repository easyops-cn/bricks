"use strict";(self.webpackChunk_next_bricks_form_renderer=self.webpackChunk_next_bricks_form_renderer||[]).push([[691,458],{3458:(e,r,t)=>{function o(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(n,a){if("string"==typeof r?n.name===r:r.includes(n.name)){for(var i=[],s=1;s<=t;s++){var c=a[a.length-s];if("MemberExpression"===(null==c?void 0:c.node.type)&&"object"===c.key){var u=c.node;u.computed||"Identifier"!==u.property.type?u.computed&&"Literal"===u.property.type&&"string"==typeof u.property.value?i.push(o?"".concat(n.name,".").concat(u.property.value):u.property.value):e.hasNonStaticUsage=!0:i.push(o?"".concat(n.name,".").concat(u.property.name):u.property.name)}else e.hasNonStaticUsage=!0}i.length===t&&e.usedProperties.add(i.join("."))}}}function n(e,r){return function(t,o,n){if(o.name===e){var a=n[n.length-1],i=n[n.length-2];if("CallExpression"===(null==i?void 0:i.node.type)&&"callee"===(null==i?void 0:i.key)&&"MemberExpression"===(null==a?void 0:a.node.type)&&"object"===a.key&&(a.node.computed?"Literal"===a.node.property.type&&a.node.property.value===r:"Identifier"===a.node.property.type&&a.node.property.name===r)){var s=i.node.arguments;if(s.length>0){var c=s[0];"Literal"===c.type&&"string"==typeof c.value?t.usedArgs.add(c.value):t.hasNonStaticUsage=!0}}}}}t.r(r),t.d(r,{beforeVisitGlobalMember:()=>o,collectAppGetMenuUsage:()=>a,collectInstalledAppsHasUsage:()=>i,collectMemberUsage:()=>p,collectMemberUsageInFunction:()=>g,createProviderClass:()=>c.createProviderClass,scanPermissionActionsInAny:()=>b,scanPermissionActionsInStoryboard:()=>m,strictCollectMemberUsage:()=>l,track:()=>d,trackAll:()=>f,traverseStoryboardExpressions:()=>u,traverseStoryboardFunction:()=>v,traverseStoryboardFunctions:()=>y,unwrapProvider:()=>c.unwrapProvider});var a=n("APP","getMenu"),i=n("INSTALLED_APPS","has"),s=t(5777),c=t(628);function u(e,r,t){var o=new WeakSet,{matchExpressionString:n,visitNotMatchedExpressionString:a,visitNonExpressionString:i,visitObject:u}="string"==typeof t?{matchExpressionString:e=>e.includes(t)}:t;!function e(t){if("string"==typeof t)if((0,s.isEvaluable)(t))if(n(t))try{(0,s.preevaluate)(t,{withParent:!0,hooks:{beforeVisitGlobal(e,o){r(e,o,t)}}})}catch(e){console.error("Parse storyboard expression failed:",e)}else null==a||a(t);else null==i||i(t);else if((0,c.isObject)(t)){if(o.has(t))return;for(var l of(o.add(t),null==u||u(t),Array.isArray(t)?t:Object.values(t)))e(l)}}(e)}function l(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{hasNonStaticUsage:o,nonStaticUsage:n,usedProperties:a}=p(e,r,t);if(o)throw new Error("Non-static usage of ".concat(r,' is prohibited, check your expression: "').concat(n,'"'));return a}function p(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n={usedProperties:new Set,hasNonStaticUsage:!1},a=o(n,r,t);return u(e,((e,r,t)=>{a(e,r),n.hasNonStaticUsage&&(n.nonStaticUsage=t)}),r),n}function d(e,r,t){if(e.includes(r)){var n,a={usedProperties:new Set,hasNonStaticUsage:!1},{expression:i}=(0,s.preevaluate)(e,{withParent:!0,hooks:{beforeVisitGlobal:o(a,t)}});if("SequenceExpression"===i.type&&(n=i.expressions[0])&&"Literal"===n.type&&n.value===r){if(a.usedProperties.size>0)return a.usedProperties;console.warn('You are using "'.concat(r,'" but no `').concat(t,"` usage found in your expression: ").concat(JSON.stringify(e)))}}return!1}function f(e){if(e){var r={usedProperties:new Set,hasNonStaticUsage:!1};if((0,s.preevaluate)(e,{withParent:!0,hooks:{beforeVisitGlobal:o(r,["CTX","STATE","FORM_STATE"],1,!0)}}),r.usedProperties.size>0){var t=[...r.usedProperties],n={context:!1,state:!1,formState:!1},a={CTX:"context",STATE:"state",FORM_STATE:"formState"};return t.forEach((e=>{var[r,t]=e.split(".");n[a[r]]||(n[a[r]]=[]),n[a[r]].push(t)})),n}console.warn('You are using track all but no "CTX" or "STATE" or "FORM_STATE" usage found in your expression: '.concat(JSON.stringify(e)))}return!1}function y(e,r){if(Array.isArray(e))for(var t of e)v(t,r)}function v(e,r,t){try{(0,s.precookFunction)(e.source,{typescript:e.typescript,withParent:!0,hooks:{beforeVisitGlobal:r}})}catch(r){t||console.error('Parse storyboard function "'.concat(e.name,'" failed:'),r)}}function g(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a={usedProperties:new Set,hasNonStaticUsage:!1};if(v(e,o(a,r,n),t),a.hasNonStaticUsage&&!t)throw new Error("Non-static usage of ".concat(r,' is prohibited, check your function: "').concat(e.name,'"'));return a.usedProperties.delete(e.name),a.usedProperties}var h="PERMISSIONS",S="check";function m(e){var r,t=new Set,o=P(t),{customTemplates:n,functions:a}=null!==(r=e.meta)&&void 0!==r?r:{};return u([e.routes,n],o,h),y(a,o),Array.from(t)}function b(e){var r=new Set;return u(e,P(r),h),Array.from(r)}function P(e){return function(r,t){if(r.name===h){var o=t[t.length-1],n=t[t.length-2];if("CallExpression"===(null==n?void 0:n.node.type)&&"callee"===(null==n?void 0:n.key)&&"MemberExpression"===(null==o?void 0:o.node.type)&&"object"===o.key&&(o.node.computed?"Literal"===o.node.property.type&&o.node.property.value===S:"Identifier"===o.node.property.type&&o.node.property.name===S))for(var a of n.node.arguments)"Literal"===a.type&&"string"==typeof a.value&&e.add(a.value)}}}}}]);
//# sourceMappingURL=691.ec3d38bd.js.map