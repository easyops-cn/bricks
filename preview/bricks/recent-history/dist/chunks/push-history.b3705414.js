"use strict";(self.webpackChunk_next_bricks_recent_history=self.webpackChunk_next_bricks_recent_history||[]).push([[189],{535:(e,t,s)=>{s.r(t),s.d(t,{clearHistory:()=>n,getAllHistory:()=>a,pushHistory:()=>h});var r=s(628),i=s(5412);function a(e,t){return new i.y(e,t).getAll()}function h(e,t,s){new i.y(e,t).set(s)}function n(e){new i.y(e).clear()}customElements.define("recent-history.get-all-history",(0,r.createProviderClass)(a)),customElements.define("recent-history.push-history",(0,r.createProviderClass)(h)),customElements.define("recent-history.clear-history",(0,r.createProviderClass)(n))},5412:(e,t,s)=>{s.d(t,{y:()=>g});var r=s(5866),i=s(3395),a=s(6171),h=s(687),n=s(381),l=s(2890),c=s(4366),o=new l.o(localStorage),u=new WeakMap,v=new WeakMap,Z=new WeakMap,m=new WeakMap,d=new WeakSet;class g{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;(0,r.Z)(this,d),(0,i.Z)(this,u,{writable:!0,value:void 0}),(0,i.Z)(this,v,{writable:!0,value:void 0}),(0,i.Z)(this,Z,{writable:!0,value:void 0}),(0,i.Z)(this,m,{writable:!0,value:void 0}),(0,n.Z)(this,u,e),(0,n.Z)(this,v,"".concat("recent-history","-").concat(e)),(0,n.Z)(this,Z,t),o.getItem((0,h.Z)(this,v))||o.setItem((0,h.Z)(this,v),[]);var s=o.getItem((0,h.Z)(this,v));(0,n.Z)(this,m,new c.LRUCacheWithDelete((0,h.Z)(this,Z))),s.reverse().forEach((e=>{(0,h.Z)(this,m).set(e.key,e)}))}set(e){(0,h.Z)(this,m).set(e.key,e),(0,a.Z)(this,d,y).call(this)}get(e){var t=(0,h.Z)(this,m).get(e);return(0,a.Z)(this,d,y).call(this),t}getAll(){return[...(0,h.Z)(this,m).values()]}peek(e){return(0,h.Z)(this,m).peek(e)}has(e){return(0,h.Z)(this,m).has(e)}delete(e){var t=(0,h.Z)(this,m).delete(e);return(0,a.Z)(this,d,y).call(this),t}remove(e){var t=(0,h.Z)(this,m).remove(e);return(0,a.Z)(this,d,y).call(this),t}clear(){(0,h.Z)(this,m).clear(),(0,a.Z)(this,d,y).call(this)}}function y(){var e=[...(0,h.Z)(this,m).values()];o.setItem((0,h.Z)(this,v),e),window.dispatchEvent(new CustomEvent("recent-history-change",{detail:{namespace:(0,h.Z)(this,u),list:e}}))}},2890:(e,t,s)=>{s.d(t,{o:()=>r});class r{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"brick-next-";this.storage=e,this.prefix=t}setItem(e,t){this.storage.setItem(this.prefix+e,JSON.stringify(t))}getItem(e){return JSON.parse(this.storage.getItem(this.prefix+e))}removeItem(e){return this.storage.removeItem(this.prefix+e)}clear(){return this.storage.clear()}}}}]);
//# sourceMappingURL=push-history.b3705414.js.map