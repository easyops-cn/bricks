"use strict";(globalThis.webpackChunk_next_bricks_recent_history=globalThis.webpackChunk_next_bricks_recent_history||[]).push([[952],{7386:(e,t,s)=>{s.r(t),s.d(t,{clearHistory:()=>a,getAllHistory:()=>h,pushHistory:()=>n});var i=s(2681),r=s(8675);function h(e,t){return new r.s(e,t).getAll()}function n(e,t,s){new r.s(e,t).set(s)}function a(e){new r.s(e).clear()}customElements.define("recent-history.get-all-history",(0,i.createProviderClass)(h)),customElements.define("recent-history.push-history",(0,i.createProviderClass)(n)),customElements.define("recent-history.clear-history",(0,i.createProviderClass)(a))},8675:(e,t,s)=>{s.d(t,{s:()=>d});var i=s(4635),r=s(918),h=s(2559),n=s(829),a=s(6121),o=s(4612),c=s(4322);const l=new o.G(localStorage);var A=new WeakMap,u=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakSet;class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;(0,i.A)(this,v),(0,r.A)(this,A,void 0),(0,r.A)(this,u,void 0),(0,r.A)(this,g,void 0),(0,r.A)(this,m,void 0),(0,a.A)(A,this,e),(0,a.A)(u,this,`recent-history-${e}`),(0,a.A)(g,this,t),l.getItem((0,n.A)(u,this))||l.setItem((0,n.A)(u,this),[]);const s=l.getItem((0,n.A)(u,this));(0,a.A)(m,this,new c.LRUCacheWithDelete((0,n.A)(g,this))),s.reverse().forEach((e=>{(0,n.A)(m,this).set(e.key,e)}))}set(e){(0,n.A)(m,this).set(e.key,e),(0,h.A)(v,this,p).call(this)}get(e){const t=(0,n.A)(m,this).get(e);return(0,h.A)(v,this,p).call(this),t}getAll(){return[...(0,n.A)(m,this).values()]}peek(e){return(0,n.A)(m,this).peek(e)}has(e){return(0,n.A)(m,this).has(e)}delete(e){const t=(0,n.A)(m,this).delete(e);return(0,h.A)(v,this,p).call(this),t}remove(e){const t=(0,n.A)(m,this).remove(e);return(0,h.A)(v,this,p).call(this),t}clear(){(0,n.A)(m,this).clear(),(0,h.A)(v,this,p).call(this)}}function p(){const e=[...(0,n.A)(m,this).values()];l.setItem((0,n.A)(u,this),e),window.dispatchEvent(new CustomEvent("recent-history-change",{detail:{namespace:(0,n.A)(A,this),list:e}}))}},4612:(e,t,s)=>{s.d(t,{G:()=>i});class i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"brick-next-";this.storage=e,this.prefix=t}setItem(e,t){this.storage.setItem(this.prefix+e,JSON.stringify(t))}getItem(e){return JSON.parse(this.storage.getItem(this.prefix+e))}removeItem(e){return this.storage.removeItem(this.prefix+e)}clear(){return this.storage.clear()}}}}]);
//# sourceMappingURL=push-history.a3eb8178.js.map