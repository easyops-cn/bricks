"use strict";(globalThis.webpackChunk_next_bricks_containers=globalThis.webpackChunk_next_bricks_containers||[]).push([[4306],{4306:(i,e,n)=>{n.r(e),n.d(e,{pipes:()=>t,utils:()=>r});var r={};n.r(r),n.d(r,{convertUnitValueByPrecision:()=>Gi,formatUnitValue:()=>Li});var t={};function s(i,e){return i+e}function a(i){return"0"!==i&&Boolean(i)}n.r(t),n.d(t,{add:()=>s,atobUnicode:()=>Ii,bool:()=>o,boolean:()=>a,btoaUnicode:()=>Oi,cmdbInstanceShowName:()=>d,countBy:()=>c,datetime:()=>p,deltaTime:()=>v,divide:()=>B,equal:()=>m,find:()=>g,findIndex:()=>h,findLast:()=>M,findLastIndex:()=>w,get:()=>k,graphTree:()=>S,groupBy:()=>P,groupByToIndex:()=>C,includes:()=>A,join:()=>N,json:()=>x,jsonStringify:()=>j,keyBy:()=>I,map:()=>O,mapToArray:()=>R,mergeArrayByKey:()=>D,multiply:()=>_,not:()=>U,nullish:()=>H,number:()=>Y,parseTimeRange:()=>q,randomString:()=>F,reverse:()=>J,round:()=>ji,slice:()=>W,sort:()=>z,split:()=>V,string:()=>Q,substr:()=>X,substring:()=>Z,subtract:()=>$,ternary:()=>ii,uniq:()=>ei,unitFormat:()=>Ci,yaml:()=>Ni,yamlStringify:()=>xi});var o=a;function d(i){if(Array.isArray(i)){var e=i[0]||"-",n=i.slice(1,i.length).join(",");return n?e+"("+n+")":e}return i}var u=n(5521);function c(i,e){return(0,u.countBy)(i,e)}var l=n(8297),y=n.n(l);function p(i,e){return y()(i).format(e)}function f(i){return"object"==typeof i&&null!==i}function b(i,e){return"number"==typeof i?y()(i):y()(i,e)}function v(i,e,n){if(void 0===e&&(e=!0),void 0===n&&(n="YYYY-MM-DD HH:mm:ss"),!i)return"";if(f(i)&&i.startTime&&i.endTime){var r=b(i.startTime,n),t=b(i.endTime,n);return y().duration(t.diff(r)).humanize(e)}var s=b(f(i)?i.startTime||i.endTime:i,n);return y().duration(s.diff(y()())).humanize(e)}function B(i,e){return i/e}function m(i,e){return(0,u.isEqual)(i,e)}function g(i,e,n){return(0,u.find)(i,e,n)}function h(i,e,n){return(0,u.findIndex)(i,e,n)}function M(i,e,n){return(0,u.findLast)(i,e,n)}function w(i,e,n){return(0,u.findLastIndex)(i,e,n)}function k(i,e,n){return(0,u.get)(i,e,n)}function S(i,e){var n,r;if(!i)return[];var t=null==e?void 0:e.sort,s=(0,u.groupBy)(i.edges,"out"),a=function(e){var n=s[e.instanceId];if((0,u.forEach)(n,(function(n){var r=n.out_name,t=(0,u.find)(i.vertices,["instanceId",n.in]);if(t){var s=a(t);e[r]?e[r].push(s):e[r]=[s]}})),t){var r=(0,u.uniq)((0,u.map)(n,"out_name"));(0,u.forEach)(r,(function(i){(0,u.isEmpty)(e[i])||(e[i]=(0,u.orderBy)(e[i],(function(i){var e;return null!==(e=(0,u.get)(i,t.key))&&void 0!==e?e:-1/0}),-1===t.order?"desc":"asc"))}))}return e};return null!==(r=null===(n=i.topic_vertices)||void 0===n?void 0:n.map((function(i){return a(i)})))&&void 0!==r?r:[]}function P(i,e){return(0,u.groupBy)(i,e)}var K,T,G=function(){return G=Object.assign||function(i){for(var e,n=1,r=arguments.length;n<r;n++)for(var t in e=arguments[n])Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i},G.apply(this,arguments)};function L(){for(var i=0,e=0,n=arguments.length;e<n;e++)i+=arguments[e].length;var r=Array(i),t=0;for(e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,t++)r[t]=s[a];return r}function C(i,e,n){var r=i;if(!(0,u.isNil)(e)&&!(0,u.isNil)(n)){var t=(0,u.groupBy)(i,e),s=(0,u.keys)(t).sort();r=r.map((function(i){var r=G({},i);return(0,u.set)(r,n,(0,u.indexOf)(s,(0,u.get)(i,e))),r}))}return r}function A(i,e){return i.includes(e)}function N(i,e){return void 0===e&&(e=","),Array.isArray(i)?i.join(e):""}function x(i){if((0,u.isNil)(i))return i;try{return JSON.parse(i)}catch(i){return void console.error(i)}}function j(i,e){void 0===e&&(e=2);try{return JSON.stringify(i,null,e)}catch(i){return void console.error(i)}}function I(i,e){return(0,u.keyBy)(i,e)}function O(i,e){return Array.isArray(i)?i.map((function(i){return(0,u.get)(i,e)})):[]}function R(i,e,n){return"object"==typeof i&&i?Object.entries(i).map((function(i){var r,t=i[0],s=i[1];return(r={})[e]=t,r[n]=s,r})):[]}function D(i,e){return i.reduce((function(i,n){return Object.values((0,u.mergeWith)((0,u.keyBy)(i,e),(0,u.keyBy)(n,e),E))}),[])}function E(i,e){if((0,u.isArray)(i))return i.concat(e)}function _(i,e){return i*e}function U(i){return!i}function H(i,e){return null!=i?i:e}function Y(i){return Number(i)}function q(i){if("now/d"===i)return+y()().startOf("day");if("now/y"===i)return+y()().startOf("year");var e=/^now-(\d+)(\w+)/.exec(i);if(null!==e){var n=e[1],r=e[2];return+y()().subtract(n,r)}return i?+i:+y()()}function F(i,e){i=i>0?i:8,e="string"==typeof e?e:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var n="",r=0;r<i;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function J(i){return Array.isArray(i)?i.slice().reverse():[]}function W(i,e,n){return i.slice(e,n)}function z(i,e){return Array.isArray(i)?(0,u.sortBy)(i,e):[]}function V(i,e){return"string"==typeof i?i.split(e):[]}function Q(i){return null==i?"":String(i)}function X(i,e,n){return"string"==typeof i?i.substr(e,n):""}function Z(i,e,n){return"string"==typeof i?i.substring(e,n):""}function $(i,e){return i-e}function ii(i,e,n){return i?e:n}function ei(i){return(0,u.uniq)(i)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(i){i.Time="time",i.Byte="byte",i.Bibyte="bibyte",i.BitRate="bitRate",i.ByteRate="byteRate"}(K||(K={})),function(i){i.Percent1="percent(1)",i.Percent100="percent(100)"}(T||(T={}));var ni,ri=[T.Percent1,T.Percent100];!function(i){i.Bytes="bytes",i.Kilobytes="kilobytes",i.Megabytes="megabytes",i.Gigabytes="gigabytes",i.Terabytes="terabytes",i.Petabytes="petabytes",i.Bibytes="bibytes",i.Kibibytes="kibibytes",i.Mebibytes="mebibytes",i.Gibibytes="gibibytes",i.Tebibytes="tebibytes",i.Pebibytes="pebibytes",i.b="b",i.B="B",i.KB="KB",i.MB="MB",i.GB="GB"}(ni||(ni={}));var ti,si=[{id:ni.Bytes,alias:["B","bytes(B)"],divisor:1,display:"B"},{id:ni.Kilobytes,alias:["KB","kilobytes(KB)"],divisor:1e3,display:"KB"},{id:ni.Megabytes,alias:["MB","megabytes(MB)"],divisor:Math.pow(1e3,2),display:"MB"},{id:ni.Gigabytes,alias:["GB","gigabytes(GB)"],divisor:Math.pow(1e3,3),display:"GB"},{id:ni.Terabytes,alias:["TB","terabytes(TB)"],divisor:Math.pow(1e3,4),display:"TB"},{id:ni.Petabytes,alias:["PB","petabytes(PB)"],divisor:Math.pow(1e3,5),display:"PB"}],ai=[{id:ni.Bibytes,alias:["B","bibytes(B)"],divisor:1,display:"B"},{id:ni.Kibibytes,alias:["KiB","kibibytes(KiB)"],divisor:1024,display:"KiB"},{id:ni.Mebibytes,alias:["MiB","mebibytes(MiB)"],divisor:Math.pow(1024,2),display:"MiB"},{id:ni.Gibibytes,alias:["GiB","gibibytes(GiB)"],divisor:Math.pow(1024,3),display:"GiB"},{id:ni.Tebibytes,alias:["TiB","tebibytes(TiB)"],divisor:Math.pow(1024,4),display:"TiB"},{id:ni.Pebibytes,alias:["PiB","pebibytes(PiB)"],divisor:Math.pow(1024,5),display:"PiB"}],oi=[{id:ni.b,divisor:1,display:"b"},{id:ni.B,divisor:8,display:"B"},{id:ni.KB,divisor:8192,display:"KB"},{id:ni.MB,divisor:8388608,display:"MB"},{id:ni.GB,divisor:8589934592,display:"GB"}];!function(i){i.BitsPerSecond="bits/sec",i.KilobitsPerSecond="kilobits/sec",i.MegabitsPerSecond="megabits/sec",i.GigabitsPerSecond="gigabits/sec",i.BytesPerSecond="bytes/sec",i.KilobytesPerSecond="kilobytes/sec",i.MegabytesPerSecond="megabytes/sec",i.GigabytesPerSecond="gigabytes/sec",i.bps="bps",i.Bps="Bps",i.KBps="KBps",i.MBps="MBps",i.GBps="GBps"}(ti||(ti={}));var di,ui=[{id:ti.BitsPerSecond,alias:["bps","bits/sec(bps)"],divisor:1,display:"bps"},{id:ti.KilobitsPerSecond,alias:["Kbps","kilobits/sec(Kbps)"],divisor:1024,display:"Kbps"},{id:ti.MegabitsPerSecond,alias:["Mbps","megabits/sec(Mbps)"],divisor:1048576,display:"Mbps"},{id:ti.GigabitsPerSecond,alias:["Gbps","gigabits/sec(Gbps)"],divisor:1073741824,display:"Gbps"}],ci=[{id:ti.BytesPerSecond,alias:["Bps","bytes/sec(Bps)"],divisor:8,display:"Bps"},{id:ti.KilobytesPerSecond,alias:["KBps","kilobytes/sec(KBps)"],divisor:8192,display:"KBps"},{id:ti.MegabytesPerSecond,alias:["MBps","megabytes/sec(MBps)"],divisor:8388608,display:"MBps"},{id:ti.GigabytesPerSecond,alias:["GBps","gigabytes/sec(GBps)"],divisor:8589934592,display:"GBps"}],li=[{id:ti.bps,divisor:1,display:"bps"},{id:ti.Bps,divisor:8,display:"Bps"},{id:ti.KBps,divisor:8192,display:"KBps"},{id:ti.MBps,divisor:8388608,display:"MBps"},{id:ti.GBps,divisor:8589934592,display:"GBps"}];!function(i){i.Nanosecond="nanoseconds",i.Microsecond="microseconds",i.Milliseconds="milliseconds",i.Seconds="seconds",i.Minutes="minutes",i.Hours="hours",i.Days="days",i.Weeks="weeks",i.Months="months",i.Years="years",i.ms="ms",i.s="s",i.min="min",i.hour="hour",i.day="day",i.week="week"}(di||(di={}));var yi,pi,fi=[{id:di.Nanosecond,alias:["ns","nanoseconds(ns)"],divisor:1,display:"ns"},{id:di.Microsecond,alias:["μs","microseconds(μs)"],divisor:1e3,display:"μs"},{id:di.Milliseconds,alias:["ms","milliseconds(ms)"],divisor:1e6,display:"ms"},{id:di.Seconds,alias:["s","seconds(s)"],divisor:1e9,display:"s"},{id:di.Minutes,alias:["min","minutes(min)"],divisor:6e10,display:"min"},{id:di.Hours,alias:["hour","hours(hour)"],divisor:36e11,display:"hour"},{id:di.Days,alias:["day","days(day)"],divisor:864e11,display:"day"},{id:di.Weeks,alias:["week","weeks(week)"],divisor:6048e11,display:"week"},{id:di.Months,alias:["month","months(month)"],divisor:2592e12,display:"month"},{id:di.Years,alias:["year","years(year)"],divisor:31536e12,display:"year"}];di.ms,di.s,di.min,di.hour,di.day,di.week,(yi={})[K.Time]=fi,yi[K.Byte]=si,yi[K.Bibyte]=ai,yi[K.BitRate]=ui,yi[K.ByteRate]=ci,function(i){i.None="none",i.K="K",i.M="M",i.B="B",i.T="T"}(pi||(pi={}));var bi,vi,Bi=[{id:pi.None,divisor:1,display:""},{id:pi.K,divisor:1e3,display:"K"},{id:pi.M,divisor:1e6,display:"M"},{id:pi.B,divisor:1e9,display:"B"},{id:pi.T,divisor:1e12,display:"T"}],mi=function(i,e){return i.id.toLocaleLowerCase()===(null==e?void 0:e.toLocaleLowerCase())||i.alias&&i.alias.map((function(i){return i.toLocaleLowerCase()})).includes(e)},gi=function(i,e){return i.id.toLocaleLowerCase()===(null==e?void 0:e.toLocaleLowerCase())||i.alias&&i.alias.includes(e)},hi=[fi],Mi=[].concat.apply([],hi.map((function(i){return L(i.map((function(i){return i.id})),[].concat.apply([],i.map((function(i){return i.alias?i.alias:[]}))))}))),wi=[si,ai,oi],ki=[].concat.apply([],wi.map((function(i){return L(i.map((function(i){return i.id})),[].concat.apply([],i.map((function(i){return i.alias?i.alias:[]}))))}))),Si=[ui,ci,li],Pi=[].concat.apply([],Si.map((function(i){return L(i.map((function(i){return i.id})),[].concat.apply([],i.map((function(i){return i.alias?i.alias:[]}))))}))),Ki=function(i,e,n){var r=0,t=Math.sign(i),s=Math.abs(i);if(e){var a=Bi.findIndex((function(i){return i.id.toLocaleLowerCase()===e.toLocaleLowerCase()}));-1!==a&&(r=a)}for(var o=Bi[r],d=r+1;d<Bi.length&&s/(Bi[d].divisor/Bi[r].divisor)>=1;++d)o=Bi[d];return o.id===pi.None?(t*s).toFixed(null!=n?n:2):(s/(o.divisor/Bi[r].divisor)*t).toFixed(null!=n?n:2)+o.display};!function(i){i.None="none",i.Short="short",i.Percent="percent",i.Time="time",i.Data="data",i.DataRate="data_rate"}(vi||(vi={}));var Ti=((bi={})[vi.None]=[],bi[vi.Short]=[],bi[vi.Percent]=ri,bi[vi.Time]=Mi,bi[vi.Data]=ki,bi[vi.DataRate]=Pi,bi),Gi=function(i,e){return void 0===e?i.toString():i.toFixed(e)},Li=function(i,e){if(!e)return[Ki(i),null];var n=e.type;n||(e.unit?(n=vi.Short,Object.entries(Ti).map((function(i){var r=i[0];i[1].map((function(i){return i.toLocaleLowerCase()})).includes(e.unit.toLocaleLowerCase())&&(n=r)}))):n=vi.None);var r=void 0===(null==e?void 0:e.precision)?2:e.precision;switch(n){case vi.Percent:var t=function(i,e){return e&&e.toLocaleLowerCase()===T.Percent100.toLocaleLowerCase()?i:100*i}(i,e.unit);return[Gi(t,r)+"%",null];case vi.Time:var s=function(i,e,n){var r=0,t=2,s=-1;if(e)for(var a=function(i){var a=-1,o=-1;if(hi[i].forEach((function(i,r){mi(i,e)&&(a=r),mi(i,n)&&(o=r)})),-1!==a)return r=i,t=a,s=o,"break"},o=0;o<hi.length&&"break"!==a(o);++o);else n&&(s=hi[r].findIndex((function(i){return mi(i,n)})));var d=hi[r],u=d[t],c=u;if(-1===s)for(o=t+1;o<d.length&&i/(d[o].divisor/u.divisor)>=1;++o)c=d[o];else c=d[s];return n&&-1===s&&console.warn('Cannot convert unit "'+(e||u.display)+'" to "'+n+'"'),[i/(c.divisor/u.divisor),c.display]}(i,e.unit,e.targetUnit),a=s[0],o=s[1];return[""+Gi(a,void 0===(null==e?void 0:e.precision)?1:e.precision),o];case vi.Data:var d=function(i,e,n){var r=wi.length-1,t=0,s=-1,a=Math.sign(i),o=Math.abs(i);if(e)for(var d=function(i){var a=-1,o=-1;if(wi[i].forEach((function(i,r){gi(i,e)&&(a=r),gi(i,n)&&(o=r)})),-1!==a)return r=i,t=a,s=o,"break"},u=0;u<wi.length&&"break"!==d(u);++u);else n&&(s=wi[r].findIndex((function(i){return gi(i,n)})));var c=wi[r],l=c[t],y=l;if(-1===s)for(u=t+1;u<c.length&&o/(c[u].divisor/l.divisor)>=1;++u)y=c[u];else y=c[s];return n&&-1===s&&console.warn('Cannot convert unit "'+(e||l.display)+'" to "'+n+'"'),[o/(y.divisor/l.divisor)*a,y.display]}(i,e.unit,e.targetUnit),u=d[0],c=d[1];return[""+Gi(u,r),c];case vi.DataRate:var l=function(i,e,n){var r=Si.length-1,t=0,s=-1,a=Math.sign(i),o=Math.abs(i);if(e)for(var d=function(i){var a=-1,o=-1;if(Si[i].forEach((function(i,r){mi(i,e)&&(a=r),mi(i,n)&&(o=r)})),-1!==a)return r=i,t=a,s=o,"break"},u=0;u<Si.length&&"break"!==d(u);++u);else n&&(s=Si[r].findIndex((function(i){return mi(i,n)})));var c=Si[r],l=c[t],y=l;if(-1===s)for(u=t+1;u<c.length&&o/(c[u].divisor/l.divisor)>=1;++u)y=c[u];else y=c[s];return n&&-1===s&&console.warn('Cannot convert unit "'+(e||l.display)+'" to "'+n+'"'),[o/(y.divisor/l.divisor)*a,y.display]}(i,e.unit,e.targetUnit),y=l[0],p=l[1];return[""+Gi(y,r),p];case vi.None:return[Gi(i,r),""];default:return[Ki(i,e.unit,r),e.unit]}};function Ci(i,e,n,r){return void 0===n&&(n=2),Li(i,{unit:e,precision:n,targetUnit:r})}var Ai=n(1204);function Ni(i){var e;try{e=(0,Ai.safeLoad)(i,{schema:Ai.JSON_SCHEMA,json:!0})}catch(i){console.error(i)}return e}function xi(i,e,n){var r;void 0===e&&(e=2);try{r=(0,Ai.safeDump)(i,{indent:e,schema:Ai.JSON_SCHEMA,skipInvalid:!0,noRefs:!0,noCompatMode:!0,sortKeys:null==n?void 0:n.sortKeys})}catch(i){console.error(i)}return r}function ji(i,e){return(0,u.round)(i,e)}function Ii(i){return decodeURIComponent(atob(i).split("").map((function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function Oi(i){return btoa(encodeURIComponent(i).replace(/%([0-9A-F]{2})/g,(function(i,e){return String.fromCharCode(Number("0x"+e))})))}}}]);
//# sourceMappingURL=4306.bf5590da.js.map