"use strict";(globalThis.webpackChunk_next_bricks_containers=globalThis.webpackChunk_next_bricks_containers||[]).push([[854],{1293:(e,t,i)=>{i.r(t),i.d(t,{EoPopup:()=>J,EoPopupComponent:()=>ie,OpenDirection:()=>O});var n,o=i(918),p=i(6121),s=i(829),r=i(2740),a=i(8769),l=i.n(a),h=i(300),u=i(4295),c=(i(4291),i(5316)),d=i(3078),g=i(3213),f=i(2445);let m,b,w,A,x,y,v,E,k,W,S,z,R,T,M,B,C,H,I,N,D,P;const{defineElement:L,property:_,method:q}=(0,h.createDecorators)(),j=(0,u.wrapBrick)("eo-icon");let J,O=function(e){return e.LeftTop="leftTop",e.LeftBottom="leftBottom",e.RightTop="rightTop",e.RightBottom="rightBottom",e.Center="center",e}({});var F=new WeakMap,G=new WeakMap,K=new WeakMap,Q=new WeakMap,U=new WeakMap,V=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap;class te extends u.ReactNextElement{constructor(){super(...arguments),(0,o.A)(this,F,(m(this),w(this))),(0,o.A)(this,G,(A(this),x(this))),(0,o.A)(this,K,(y(this),v(this))),(0,o.A)(this,Q,(E(this),k(this))),(0,o.A)(this,U,(W(this),S(this))),(0,o.A)(this,V,(z(this),R(this))),(0,o.A)(this,X,(T(this),M(this))),(0,o.A)(this,Y,(B(this),C(this))),(0,o.A)(this,Z,(H(this),I(this))),(0,o.A)(this,$,(N(this),D(this))),(0,o.A)(this,ee,(P(this),()=>{this.visible=!1}))}get popupId(){return(0,s.A)(F,this)}set popupId(e){(0,p.A)(F,this,e)}get popupWidth(){return(0,s.A)(G,this)}set popupWidth(e){(0,p.A)(G,this,e)}get popupHeight(){return(0,s.A)(K,this)}set popupHeight(e){(0,p.A)(K,this,e)}get popupTitle(){return(0,s.A)(Q,this)}set popupTitle(e){(0,p.A)(Q,this,e)}get openDirection(){return(0,s.A)(U,this)}set openDirection(e){(0,p.A)(U,this,e)}get visible(){return(0,s.A)(V,this)}set visible(e){(0,p.A)(V,this,e)}get headerStyle(){return(0,s.A)(X,this)}set headerStyle(e){(0,p.A)(X,this,e)}get wrapperStyle(){return(0,s.A)(Y,this)}set wrapperStyle(e){(0,p.A)(Y,this,e)}get noPadding(){return(0,s.A)(Z,this)}set noPadding(e){(0,p.A)(Z,this,e)}get resizable(){return(0,s.A)($,this)}set resizable(e){(0,p.A)($,this,e)}open(){this.visible=!0}close(){(0,s.A)(ee,this).call(this)}render(){return l().createElement(ie,{popupId:this.popupId,popupWidth:this.popupWidth,popupHeight:this.popupHeight,popupTitle:this.popupTitle,visible:this.visible,closePopup:(0,s.A)(ee,this),openDirection:this.openDirection,headerStyle:this.headerStyle,wrapperStyle:this.wrapperStyle,noPadding:this.noPadding,resizable:this.resizable})}}function ie(e){let{popupId:t,popupTitle:i,popupWidth:n,popupHeight:o,visible:p,headerStyle:s,wrapperStyle:r,openDirection:h,resizable:u,closePopup:c}=e;const m=(0,a.useRef)(),b=(0,a.useRef)(),w=(0,a.useRef)(),[A,x]=(0,a.useState)([n??500,o]),[y,v]=(0,a.useState)(),E=(0,a.useRef)(A),k=(0,a.useRef)(),W=(0,a.useMemo)((()=>t?new d.JsonStorage(localStorage,"general-popup-"):null),[t]),S=(0,a.useCallback)((()=>{const e=m.current;if(!e)return;const{innerWidth:t,innerHeight:i}=window,{width:n,height:o,x:p,y:s}=e.getBoundingClientRect(),r=n>t?t:n,a=o>i?i:o,l=p+n-15>t||p<0,h=s+o-30>i||s<0;if((l||h)&&v((e=>{const p=[l?Math.max(0,t-n)-15:e[0],h?Math.max(0,i-o)-30:e[1]];return k.current=p,p})),r!==n||a!==o){const e=[r,a];E.current=e,x(e)}}),[]),z=(0,a.useCallback)((()=>{let e;if(p&&m.current){const{innerWidth:i,innerHeight:n}=window,{offsetWidth:o,offsetHeight:p}=m.current,{offsetHeight:s}=b.current,r=30,a=60;e={[O.LeftTop]:[r,s],[O.LeftBottom]:[r,n-p-a],[O.RightTop]:[i-o-r,s],[O.RightBottom]:[i-o-r,n-p-a],[O.Center]:[(i-o)/2,(n-p)/2-s]}[h||O.Center];const l=t&&W.getItem(t);return t&&null!=l&&l.position?l.position:e}return e}),[p,h,t,W]);return(0,a.useLayoutEffect)((()=>{if(t){const e=W.getItem(t);if(null!=e&&e.size)return void x(e.size)}}),[]),(0,a.useLayoutEffect)((()=>{m.current&&v(z())}),[p,z]),(0,a.useEffect)((()=>{const e=k.current,t=E.current;(0,f.isEqual)(e,y)&&(0,f.isEqual)(t,A)||S()}),[y,A]),(0,a.useEffect)((()=>(window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)})),[]),p&&l().createElement("div",{className:"general-popup-popup"},l().createElement(g.p,{className:"general-popup",dragHandleClassName:"general-popup-header",enableResizing:u,size:{width:A[0],height:A[1]},position:y&&{x:y[0],y:y[1]},bounds:"window",onDragStop:(e,i)=>{const n=[i.x,i.y];if(v(n),t){const e=W.getItem(t)??{};W.setItem(t,{...e,position:n})}},onResizeStop:(e,i,n,o,p)=>{const{width:s,height:r}=n.getBoundingClientRect(),a=[s,r],l=[p.x,p.y];x(a),v(l),t&&W.setItem(t,{size:a,position:l})}},l().createElement("div",{ref:m,className:"general-popup-container",style:r},l().createElement("div",{className:"general-popup-header",ref:b,style:s},l().createElement("span",{className:"title"},i),l().createElement("div",{className:"general-popup-header-toolbar"},l().createElement("slot",{name:"toolbar"}),l().createElement("span",{className:"general-popup-close-btn"},l().createElement(j,{icon:"close",lib:"antd",theme:"outlined",onClick:c})))),l().createElement("div",{ref:w,className:"content"},l().createElement("slot",null)))))}n=te,({e:[w,A,x,y,v,E,k,W,S,z,R,T,M,B,C,H,I,N,D,P,m],c:[J,b]}=(0,r.A)(n,[L("eo-popup",{styleTexts:[c.A]})],[[_(),1,"popupId"],[_(),1,"popupWidth"],[_(),1,"popupHeight"],[_(),1,"popupTitle"],[_(),1,"openDirection"],[_({type:Boolean}),1,"visible"],[_({attribute:!1}),1,"headerStyle"],[_({attribute:!1}),1,"wrapperStyle"],[_({type:Boolean,render:!1}),1,"noPadding"],[_({type:Boolean}),1,"resizable"],[q(),2,"open"],[q(),2,"close"]],0,void 0,u.ReactNextElement)),b()},5316:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(6758),o=i.n(n),p=i(935),s=i.n(p)()(o());s.push([e.id,":host{display:inline-block}:host([hidden]){display:none}.general-popup-popup{position:fixed;left:0;top:0;z-index:1001}.general-popup{box-shadow:0px 21px 50px 0px rgb(0 0 0/46%);border-radius:6px;overflow:hidden}.general-popup .general-popup-container{height:100%;background:var(--antd-dropdown-menu-bg);display:flex;flex-direction:column}.general-popup-header{display:flex;align-items:center;justify-content:space-between;background:var(--antd-modal-footer-bg);padding:12px;border-radius:6px 6px 0 0;font-size:16px;line-height:16px;cursor:move;font-weight:var(--font-weight-500)}.general-popup-header .general-popup-header-toolbar{display:flex;gap:12px;cursor:auto}.general-popup-close-btn{display:flex;align-items:center;cursor:pointer;color:var(--antd-text-color-secondary)}.general-popup-close-btn:hover{color:var(--antd-icon-color-hover)}:host([no-padding]) .content{padding:0}.content{flex:1;overflow:auto;padding:20px;margin-top:-1px;height:-moz-fit-content;height:fit-content}",""]);const r=s.toString()}}]);
//# sourceMappingURL=eo-popup.2a5b25a9.js.map