{"version":3,"file":"chunks/5399.84ff2a2c.js","mappings":"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","sources":["webpack:///../../node_modules/@next-core/loader/dist/esm/loadScriptOrStyle.js","webpack:///../../node_modules/@next-core/loader/dist/esm/loadScript.js","webpack:///../../node_modules/@next-core/loader/dist/esm/loadStyle.js","webpack:///../../node_modules/@next-core/loader/dist/esm/loadSharedModule.js","webpack:///../../node_modules/@next-core/loader/dist/esm/stableLoadBricks.js"],"sourcesContent":["const cache = new Map();\nexport default function loadScriptOrStyle(type, src, prefix, attrs) {\n  if (Array.isArray(src)) {\n    return Promise.all(src.map(item => loadScriptOrStyle(type, item, prefix)));\n  }\n  const fixedSrc = prefix && !/^https?:/.test(src) ? `${prefix}${src}` : src;\n  const cachedPromise = cache.get(fixedSrc);\n  if (cachedPromise) {\n    return cachedPromise;\n  }\n  const promise = new Promise((resolve, reject) => {\n    const end = () => {\n      window.dispatchEvent(new Event(\"request.end\"));\n    };\n    const element = document.createElement(type === \"style\" ? \"link\" : \"script\");\n    if (type === \"script\") {\n      Object.assign(element, {\n        type: \"text/javascript\",\n        async: true,\n        ...attrs,\n        src: fixedSrc\n      });\n    } else {\n      Object.assign(element, {\n        rel: \"stylesheet\",\n        ...attrs,\n        href: fixedSrc\n      });\n    }\n    element.onload = () => {\n      resolve(fixedSrc);\n      end();\n    };\n    element.onerror = e => {\n      reject(e);\n      end();\n    };\n    const firstScript = document.currentScript || document.getElementsByTagName(\"script\")[0];\n    firstScript.parentNode.insertBefore(element, firstScript);\n    window.dispatchEvent(new Event(\"request.start\"));\n  });\n  cache.set(fixedSrc, promise);\n  return promise;\n}\n//# sourceMappingURL=loadScriptOrStyle.js.map","import loadScriptOrStyle from \"./loadScriptOrStyle.js\";\nexport default function loadScript(src, prefix, attrs) {\n  return loadScriptOrStyle(\"script\", src, prefix, attrs);\n}\n//# sourceMappingURL=loadScript.js.map","import loadScriptOrStyle from \"./loadScriptOrStyle.js\";\nexport default function loadStyle(src, prefix, attrs) {\n  return loadScriptOrStyle(\"style\", src, prefix, attrs);\n}\n//# sourceMappingURL=loadStyle.js.map","// https://github.com/module-federation/module-federation-examples/blob/eda9493f3991a423479fd834cfb1d7b241d9d1f0/advanced-api/dynamic-remotes/app1/src/App.js\nexport default async function loadSharedModule(scope, module) {\n  // Initializes the share scope. This fills it with known provided modules from this build and all remotes\n  await __webpack_init_sharing__(\"default\");\n  const container = window[scope]; // or get the container somewhere else\n  // Initialize the container, it may provide shared modules\n  await container.init(__webpack_share_scopes__.default);\n  const factory = await container.get(module);\n  return factory();\n}\n//# sourceMappingURL=loadSharedModule.js.map","import loadScript from \"./loadScript.js\";\nimport loadSharedModule from \"./loadSharedModule.js\";\nlet resolveBasicPkg;\nlet rejectBasicPkg;\nlet basicPkgWillBeResolved = false;\nconst waitBasicPkg = new Promise((resolve, reject) => {\n  resolveBasicPkg = resolve;\n  rejectBasicPkg = reject;\n});\nexport function flushStableLoadBricks() {\n  if (!basicPkgWillBeResolved) {\n    resolveBasicPkg();\n  }\n}\n\n/**\n * When loading bundles with webpack module federation concurrently, if\n * these bundles share some modules, webpack will load a singleton module\n * if versions are matched. Webpack will use the first bundle who started\n * to init the shared scope. Generally which bundle to use for a specific\n * module, does not matter. However, it may cause flaky result since the\n * shared module may from different bundles which maybe not exactly the\n * same, especially developers declare dependencies incorrectly sometimes.\n * So in order to make it less flaky, we try to make a BASIC package takes\n * precedence over others. We will always load the shared modules from the\n * basic package bundle if it contains the shared modules.\n */\nexport function enqueueStableLoadBricks(bricks, brickPackages) {\n  const promise = enqueueStableLoad(\"bricks\", bricks, brickPackages);\n  return dispatchRequestStatus(promise);\n}\nexport function enqueueStableLoadProcessors(processors, brickPackages) {\n  const promise = enqueueStableLoad(\"processors\", processors, brickPackages);\n  return dispatchRequestStatus(promise);\n}\nexport async function loadBricksImperatively(bricks, brickPackages) {\n  const promise = enqueueStableLoad(\"bricks\", bricks, brickPackages);\n  flushStableLoadBricks();\n  return dispatchRequestStatus(promise);\n}\nexport function loadProcessorsImperatively(processors, brickPackages) {\n  const promise = enqueueStableLoad(\"processors\", processors, brickPackages);\n  flushStableLoadBricks();\n  return dispatchRequestStatus(promise);\n}\nexport function loadEditorsImperatively(editors, brickPackages) {\n  const promise = enqueueStableLoad(\"editors\", editors, brickPackages);\n  flushStableLoadBricks();\n  return dispatchRequestStatus(promise);\n}\nexport class BrickLoadError extends Error {\n  constructor(message) {\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    super(message);\n    this.name = \"BrickLoadError\";\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    // istanbul ignore else\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, BrickLoadError);\n    }\n  }\n}\nlet v2AdapterPromise;\nconst V2_ADAPTER_LOAD_BRICKS = \"v2-adapter.load-bricks\";\n// Get brick/processor items including their dependencies\nfunction getItemsByPkg(type, list, brickPackagesMap) {\n  const itemsByPkg = new Map();\n  const listToLoad = new Set();\n  const add = item => {\n    var _pkg$dependencies;\n    if (listToLoad.has(item)) {\n      return;\n    }\n    listToLoad.add(item);\n    let pkg;\n    let namespace;\n    let lastName;\n    if (type === \"editors\") {\n      lastName = item;\n      for (const p of brickPackagesMap.values()) {\n        var _ref;\n        if ((_ref = p.propertyEditors ?? p.editors) !== null && _ref !== void 0 && _ref.some(e => e === lastName)) {\n          pkg = p;\n        }\n      }\n    } else if (type === \"processors\" || item.includes(\".\")) {\n      [namespace, lastName] = item.split(\".\");\n      const pkgId = `bricks/${type === \"processors\" ? getProcessorPackageName(namespace) : namespace}`;\n      pkg = brickPackagesMap.get(pkgId);\n    } else {\n      lastName = item;\n      let deprecatedBrickInThisPkg;\n      for (const p of brickPackagesMap.values()) {\n        var _p$elements;\n        if ((_p$elements = p.elements) !== null && _p$elements !== void 0 && _p$elements.some(e => e === lastName)) {\n          var _p$deprecatedElements;\n          if ((_p$deprecatedElements = p.deprecatedElements) !== null && _p$deprecatedElements !== void 0 && _p$deprecatedElements.includes(item)) {\n            deprecatedBrickInThisPkg = p;\n          } else {\n            pkg = p;\n            break;\n          }\n        }\n      }\n      if (!pkg && deprecatedBrickInThisPkg) {\n        pkg = deprecatedBrickInThisPkg;\n      }\n    }\n    if (!pkg) {\n      // eslint-disable-next-line no-console\n      console.error(`Package for ${item} not found.`);\n      return;\n    }\n    let groupItems = itemsByPkg.get(pkg);\n    if (!groupItems) {\n      groupItems = [];\n      itemsByPkg.set(pkg, groupItems);\n    }\n    groupItems.push({\n      fullName: item,\n      lastName\n    });\n\n    // Load their dependencies too\n    const deps = (_pkg$dependencies = pkg.dependencies) === null || _pkg$dependencies === void 0 ? void 0 : _pkg$dependencies[item];\n    if (deps) {\n      for (const dep of deps) {\n        add(dep);\n      }\n    }\n  };\n  for (const item of list) {\n    add(item);\n  }\n  return itemsByPkg;\n}\nasync function loadBrickModule(type, pkgId, item) {\n  const moduleName = `${type === \"processors\" || type === \"editors\" ? `./${type}/` : \"./\"}${type === \"editors\" ? item.fullName : item.lastName}`;\n  try {\n    await loadSharedModule(pkgId, moduleName);\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n    throw new BrickLoadError(`Load ${type} of \"${item.fullName}\" failed: ${error === null || error === void 0 ? void 0 : error.message}`);\n  }\n}\nfunction loadRestBricks(type, pkgs, itemsMap) {\n  return pkgs.map(async pkg => {\n    await loadScript(pkg.filePath, window.PUBLIC_ROOT ?? \"\");\n    await waitBasicPkg;\n    return Promise.all(\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    itemsMap.get(pkg).map(item => loadBrickModule(type, pkg.id, item)));\n  });\n}\nasync function enqueueStableLoad(type, list, brickPackages) {\n  const brickPackagesMap = new Map();\n  for (const pkg of brickPackages) {\n    const pkgId = pkg.id || getPkgIdByFilePath(pkg.filePath);\n    brickPackagesMap.set(pkgId, pkg);\n  }\n  const itemsByPkg = getItemsByPkg(type, list, brickPackagesMap);\n  let foundBasicPkg;\n  const v2Packages = [];\n  const v3PackagesOtherThanBasic = [];\n  let maybeV2Adapter;\n  for (const pkg of itemsByPkg.keys()) {\n    if (pkg.id) {\n      if (pkg.id === \"bricks/basic\") {\n        foundBasicPkg = pkg;\n      } else {\n        v3PackagesOtherThanBasic.push(pkg);\n      }\n    } else {\n      // Brick packages of v2 has no `id`\n      v2Packages.push(pkg);\n      maybeV2Adapter = brickPackagesMap.get(\"bricks/v2-adapter\");\n      if (!maybeV2Adapter) {\n        throw new Error(\"Using v2 bricks, but v2-adapter not found\");\n      }\n    }\n  }\n  const v2Adapter = maybeV2Adapter;\n  let basicPkgPromise;\n  const basicPkg = foundBasicPkg;\n  if (basicPkg) {\n    const tempPromise = loadScript(basicPkg.filePath, window.PUBLIC_ROOT ?? \"\");\n    // Packages other than BASIC will wait for an extra micro-task tick.\n    if (!basicPkgWillBeResolved) {\n      basicPkgWillBeResolved = true;\n      tempPromise.then(() => Promise.resolve()).then(resolveBasicPkg, rejectBasicPkg);\n    }\n    basicPkgPromise = tempPromise.then(() => Promise.all(\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    itemsByPkg.get(basicPkg).map(item => loadBrickModule(type, basicPkg.id, item))));\n  }\n  const pkgPromises = [basicPkgPromise].concat(loadRestBricks(type, v3PackagesOtherThanBasic, itemsByPkg));\n  if (v2Adapter && v2Packages.length > 0) {\n    if (!v2AdapterPromise) {\n      // Load `v2-adapter.load-bricks` and its dependencies\n      const v2AdapterItemsByPkg = getItemsByPkg(\"bricks\", [V2_ADAPTER_LOAD_BRICKS], brickPackagesMap);\n      const v2AdapterPackages = [...v2AdapterItemsByPkg.keys()];\n      const loadV2Adapter = async () => {\n        await Promise.all(loadRestBricks(\"bricks\", v2AdapterPackages, v2AdapterItemsByPkg));\n        return document.createElement(V2_ADAPTER_LOAD_BRICKS);\n      };\n      v2AdapterPromise = loadV2Adapter();\n    }\n    pkgPromises.push(v2AdapterPromise.then(adapter => Promise.all(v2Packages.map(pkg => {\n      const pkgId = getPkgIdByFilePath(pkg.filePath);\n      const pkgNamespace = pkgId.split(\"/\")[1];\n      return adapter.resolve(v2Adapter.filePath, type === \"editors\" ? pkg.propertyEditorsJsFilePath ?? pkg.filePath : pkg.filePath, type === \"bricks\" ?\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      itemsByPkg.get(pkg).map(item => `${pkgNamespace}.${item.lastName}`) : [], pkg.dll,\n      // Todo: remove `brickPackages` as an argument\n      brickPackages);\n    }))));\n  }\n  await Promise.all(pkgPromises);\n}\nasync function dispatchRequestStatus(promise) {\n  window.dispatchEvent(new Event(\"request.start\"));\n  try {\n    await promise;\n  } finally {\n    window.dispatchEvent(new Event(\"request.end\"));\n  }\n}\nfunction getProcessorPackageName(camelPackageName) {\n  return camelPackageName.replace(/[A-Z]/g, match => `-${match[0].toLocaleLowerCase()}`).replace(/_[0-9]/g, match => `-${match[1]}`);\n}\nfunction getPkgIdByFilePath(filePath) {\n  return filePath.split(\"/\").slice(0, 2).join(\"/\");\n}\n//# sourceMappingURL=stableLoadBricks.js.map"],"names":["cache","Map","loadScriptOrStyle","type","src","prefix","attrs","Array","isArray","Promise","all","map","item","fixedSrc","test","cachedPromise","get","promise","resolve","reject","end","window","dispatchEvent","Event","element","document","createElement","Object","assign","async","rel","href","onload","onerror","e","firstScript","currentScript","getElementsByTagName","parentNode","insertBefore","set","loadScript","loadStyle","loadSharedModule","scope","module","container","init","default","resolveBasicPkg","rejectBasicPkg","basicPkgWillBeResolved","waitBasicPkg","flushStableLoadBricks","enqueueStableLoadBricks","bricks","brickPackages","dispatchRequestStatus","enqueueStableLoad","enqueueStableLoadProcessors","processors","loadBricksImperatively","loadProcessorsImperatively","loadEditorsImperatively","editors","BrickLoadError","Error","constructor","message","super","this","name","captureStackTrace","v2AdapterPromise","V2_ADAPTER_LOAD_BRICKS","getItemsByPkg","list","brickPackagesMap","itemsByPkg","listToLoad","Set","add","_pkg$dependencies","has","pkg","namespace","lastName","p","values","_ref","propertyEditors","some","includes","split","pkgId","camelPackageName","replace","match","toLocaleLowerCase","deprecatedBrickInThisPkg","_p$elements","elements","_p$deprecatedElements","deprecatedElements","console","error","groupItems","push","fullName","deps","dependencies","dep","loadBrickModule","moduleName","loadRestBricks","pkgs","itemsMap","filePath","PUBLIC_ROOT","id","getPkgIdByFilePath","foundBasicPkg","v2Packages","v3PackagesOtherThanBasic","maybeV2Adapter","keys","v2Adapter","basicPkgPromise","basicPkg","tempPromise","then","pkgPromises","concat","length","v2AdapterItemsByPkg","v2AdapterPackages","loadV2Adapter","adapter","pkgNamespace","propertyEditorsJsFilePath","dll","slice","join"],"sourceRoot":""}