{"version":3,"file":"chunks/editors/eo-flex-layout.d381a66a.js","mappings":"qJAAO,MAAMA,EAAqB,CAChCC,KAAM,SACNC,KAAM,OACNC,UAAW,CACTF,KAAM,aACNG,MAAO,CACLC,OAAQ,aAGZC,SAAU,CACR,CACEL,KAAM,sBACNC,KAAM,OACNK,UAAW,CACTN,KAAM,gBACNG,MAAO,CACLI,KAAM,QAIZ,CACEP,KAAM,gBACNQ,MAAO,OACPP,KAAM,SACNQ,WAAY,WACZP,UAAW,CACTF,KAAM,SACNG,MAAO,CACLO,QAAS,CACP,CACEC,MAAO,MACPC,MAAO,OAET,CACED,MAAO,SACPC,MAAO,UAET,CACED,MAAO,cACPC,MAAO,eAET,CACED,MAAO,iBACPC,MAAO,sBAMjB,CACEZ,KAAM,iBACNQ,MAAO,SACPP,KAAM,SACNQ,WAAY,WACZP,UAAW,CACTF,KAAM,SACNG,MAAO,CACLO,QAAS,CACP,CACEC,MAAO,SACPC,MAAO,UAET,CACED,MAAO,aACPC,MAAO,cAET,CACED,MAAO,WACPC,MAAO,YAET,CACED,MAAO,gBACPC,MAAO,iBAET,CACED,MAAO,eACPC,MAAO,gBAET,CACED,MAAO,eACPC,MAAO,gBAET,CACED,MAAO,UACPC,MAAO,eAMjB,CACEZ,KAAM,aACNQ,MAAO,YACPP,KAAM,SACNQ,WAAY,WACZP,UAAW,CACTF,KAAM,SACNG,MAAO,CACLO,QAAS,CACP,CACEC,MAAO,SACPC,MAAO,UAET,CACED,MAAO,aACPC,MAAO,cAET,CACED,MAAO,WACPC,MAAO,gBAMjB,CACEZ,KAAM,eACNQ,MAAO,YACPP,KAAM,SACNQ,WAAY,WACZP,UAAW,CACTF,KAAM,SACNG,MAAO,CACLO,QAAS,CACP,CACEC,MAAO,SACPC,MAAO,UAET,CACED,MAAO,aACPC,MAAO,cAET,CACED,MAAO,WACPC,MAAO,YAET,CACED,MAAO,gBACPC,MAAO,iBAET,CACED,MAAO,eACPC,MAAO,gBAET,CACED,MAAO,eACPC,MAAO,gBAET,CACED,MAAO,UACPC,MAAO,eAMjB,CACEZ,KAAM,WACNQ,MAAO,OACPP,KAAM,WAER,CACED,KAAM,MACNQ,MAAO,QACPP,KAAM,W,0DC/JZ,MAAMY,EAA4BC,IACpB,KACPC,EAAAA,EAAAA,MAAKD,EAAU,CAAC,gBACfA,SAAAA,EAAUE,UAAmC,YAAvBF,aAAQ,EAARA,EAAUE,UAChC,CACEA,SAAU,QAEZ,CACEA,SAAU,YAgEpBC,EAAAA,cAAcC,OAAO,kBA1CrB,SAAsCC,GACpC,OAAO,SAA+BhB,GACpC,MAAM,qBACJiB,EAAoB,uBACpBC,EAAsB,aACtBC,EAAY,MACZC,EAAK,QACLC,EAAO,KACPC,GACEtB,EA0BJ,OAxBAgB,EAAMO,WAAU,KACd,MAAM,iBAAEC,EAAgB,SAAEC,GAAaJ,EAEvCC,EAAKI,iBAAiB,CACpBb,UAAU,IAIZS,EAAKK,WAAW,oBAAoB,KAClCH,GAAiB,CAACL,EAAuBS,EAAQC,IACxCV,EACHT,EAAyBmB,GAtCLlB,KAChC,MAAMmB,IACHC,EAAAA,EAAAA,KAAIpB,EAAU,aAA6C,YAA9BoB,EAAAA,EAAAA,KAAIpB,EAAU,YAW9C,MAVY,KACPC,EAAAA,EAAAA,MAAKD,EAAU,CAAC,gBACfmB,EACA,CACEjB,UAAU,GAEZ,CACEA,UAAU,GAGR,EA0BEmB,CAAyBH,IAC7B,IAIJP,EAAKK,WAAW,YAAY,KAC1BF,GAAUhB,GACDC,EAAyBD,IAChC,GACF,GACD,CAACa,IAEGN,EAAMiB,cAAchB,EAAsB,CAC/CiB,OAAQhB,EAAuBtB,EAAAA,EAAoBuB,GACnDC,SAEJ,CACF,G","sources":["webpack:///./src/editors/eo-flex-layout/eoFlexLayout.schema.tsx","webpack:///./src/editors/eo-flex-layout/index.tsx"],"sourcesContent":["export const eoFlexLayoutSchema = {\n  name: \"layout\",\n  type: \"void\",\n  component: {\n    name: \"FormLayout\",\n    props: {\n      layout: \"vertical\",\n    },\n  },\n  children: [\n    {\n      name: \"categoryTitle_basic\",\n      type: \"void\",\n      decorator: {\n        name: \"CategoryTitle\",\n        props: {\n          text: \"基础\",\n        },\n      },\n    },\n    {\n      name: \"flexDirection\",\n      title: \"主轴方向\",\n      type: \"string\",\n      descorator: \"FormItem\",\n      component: {\n        name: \"Select\",\n        props: {\n          options: [\n            {\n              label: \"row\",\n              value: \"row\",\n            },\n            {\n              label: \"column\",\n              value: \"column\",\n            },\n            {\n              label: \"row-reverse\",\n              value: \"row-reverse\",\n            },\n            {\n              label: \"column-reverse\",\n              value: \"column-reverse\",\n            },\n          ],\n        },\n      },\n    },\n    {\n      name: \"justifyContent\",\n      title: \"主轴排列方式\",\n      type: \"string\",\n      descorator: \"FormItem\",\n      component: {\n        name: \"Select\",\n        props: {\n          options: [\n            {\n              label: \"center\",\n              value: \"center\",\n            },\n            {\n              label: \"flex-start\",\n              value: \"flex-start\",\n            },\n            {\n              label: \"flex-end\",\n              value: \"flex-end\",\n            },\n            {\n              label: \"space-between\",\n              value: \"space-between\",\n            },\n            {\n              label: \"space-around\",\n              value: \"space-around\",\n            },\n            {\n              label: \"space-evenly\",\n              value: \"space-evenly\",\n            },\n            {\n              label: \"stretch\",\n              value: \"stretch\",\n            },\n          ],\n        },\n      },\n    },\n    {\n      name: \"alignItems\",\n      title: \"单行交叉轴排列方式\",\n      type: \"string\",\n      descorator: \"FormItem\",\n      component: {\n        name: \"Select\",\n        props: {\n          options: [\n            {\n              label: \"center\",\n              value: \"center\",\n            },\n            {\n              label: \"flex-start\",\n              value: \"flex-start\",\n            },\n            {\n              label: \"flex-end\",\n              value: \"flex-end\",\n            },\n          ],\n        },\n      },\n    },\n    {\n      name: \"alignContent\",\n      title: \"多行交叉轴排列方式\",\n      type: \"string\",\n      descorator: \"FormItem\",\n      component: {\n        name: \"Select\",\n        props: {\n          options: [\n            {\n              label: \"center\",\n              value: \"center\",\n            },\n            {\n              label: \"flex-start\",\n              value: \"flex-start\",\n            },\n            {\n              label: \"flex-end\",\n              value: \"flex-end\",\n            },\n            {\n              label: \"space-between\",\n              value: \"space-between\",\n            },\n            {\n              label: \"space-around\",\n              value: \"space-around\",\n            },\n            {\n              label: \"space-evenly\",\n              value: \"space-evenly\",\n            },\n            {\n              label: \"stretch\",\n              value: \"stretch\",\n            },\n          ],\n        },\n      },\n    },\n    {\n      name: \"flexWrap\",\n      title: \"支持换行\",\n      type: \"boolean\",\n    },\n    {\n      name: \"gap\",\n      title: \"子元素间隙\",\n      type: \"string\",\n    },\n  ],\n};\n","import type _React from \"react\";\nimport { customEditors } from \"@next-core/runtime\";\nimport { eoFlexLayoutSchema } from \"./eoFlexLayout.schema\";\nimport { get, omit } from \"lodash\";\n\nconst transformNormal2Advanced = (rawValue: any) => {\n  const res = {\n    ...omit(rawValue, [\"flexWrap\"]),\n    ...(rawValue?.flexWrap && rawValue?.flexWrap !== \"nowrap\"\n      ? {\n          flexWrap: \"wrap\",\n        }\n      : {\n          flexWrap: \"nowrap\",\n        }),\n  };\n  return res;\n};\n\nconst transformAdvanced2Normal = (rawValue: any) => {\n  const isNoWrap =\n    !get(rawValue, \"flexWrap\") || get(rawValue, \"flexWrap\") === \"nowrap\";\n  const res = {\n    ...omit(rawValue, [\"flexWrap\"]),\n    ...(isNoWrap\n      ? {\n          flexWrap: false,\n        }\n      : {\n          flexWrap: true,\n        }),\n  };\n  return res;\n};\n\nfunction EoFlexLayoutComponentFactory(React: typeof _React) {\n  return function EoFlexLayoutComponent(props: any): React.ReactElement {\n    const {\n      SchemaFieldComponent,\n      formilySchemaFormatter,\n      advancedMode,\n      scope,\n      effects,\n      form,\n    } = props;\n\n    React.useEffect(() => {\n      const { onAdvancedChange, onSubmit } = effects;\n\n      form.setInitialValues({\n        flexWrap: false,\n      });\n\n      // 监听模式切换\n      form.addEffects(\"onAdvancedChange\", () => {\n        onAdvancedChange((advancedMode: boolean, _: any, values: any) => {\n          return advancedMode\n            ? transformNormal2Advanced(values)\n            : transformAdvanced2Normal(values);\n        });\n      });\n\n      // 监听表单提交\n      form.addEffects(\"onSubmit\", () => {\n        onSubmit((value: any) => {\n          return transformNormal2Advanced(value);\n        });\n      });\n    }, [form]);\n\n    return React.createElement(SchemaFieldComponent, {\n      schema: formilySchemaFormatter(eoFlexLayoutSchema, advancedMode),\n      scope,\n    });\n  };\n}\n\ncustomEditors.define(\"eo-flex-layout\", EoFlexLayoutComponentFactory);\n"],"names":["eoFlexLayoutSchema","name","type","component","props","layout","children","decorator","text","title","descorator","options","label","value","transformNormal2Advanced","rawValue","omit","flexWrap","customEditors","define","React","SchemaFieldComponent","formilySchemaFormatter","advancedMode","scope","effects","form","useEffect","onAdvancedChange","onSubmit","setInitialValues","addEffects","_","values","isNoWrap","get","transformAdvanced2Normal","createElement","schema"],"sourceRoot":""}