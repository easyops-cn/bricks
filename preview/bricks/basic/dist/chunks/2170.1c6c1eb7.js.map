{"version":3,"file":"chunks/2170.1c6c1eb7.js","mappings":"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","sources":["webpack:///./src/data-providers/show-dialog/i18n.ts","webpack:///./src/data-providers/show-dialog/sl-dialog.ts","webpack:///./src/data-providers/show-dialog/dialog.module.css?8405","webpack:///./src/data-providers/show-dialog/show-dialog.tsx","webpack:///./src/data-providers/show-notification/sl-alert.ts","webpack:///./src/data-providers/show-notification/constants.ts","webpack:///./src/data-providers/show-notification/notification.module.css?1e66","webpack:///./src/data-providers/show-notification/show-notification.tsx","webpack:///./src/data-providers/show-dialog/dialog.module.css","webpack:///./src/data-providers/show-notification/notification.module.css"],"sourcesContent":["// istanbul ignore file\nexport enum K {\n  OK = \"OK\",\n  CANCEL = \"CANCEL\",\n  DELETE = \"DELETE\",\n}\n\nconst en: Locale = {\n  OK: \"Ok\",\n  CANCEL: \"Cancel\",\n  DELETE: \"Delete\",\n};\n\nconst zh: Locale = {\n  OK: \"确认\",\n  CANCEL: \"取消\",\n  DELETE: \"删除\",\n};\n\nexport const NS = \"bricks/shoelace/dialog\";\n\nexport const locales = { en, zh };\n\ntype Locale = { [key in K]: string };\n","import { wrapBrick } from \"@next-core/react-element\";\n\nexport const WrappedSlDialog = wrapBrick<\n  SlDialogElement,\n  SlDialogProps,\n  SlDialogEvents,\n  SlDialogMapEvents\n>(\"sl-dialog\", {\n  onSlHide: \"sl-hide\",\n  onSlRequestClose: \"sl-request-close\",\n});\n\nexport interface SlDialogProps {\n  label?: string;\n  open?: boolean;\n  noHeader?: boolean;\n}\n\nexport interface SlDialogEvents {\n  \"sl-hide\": Event;\n  \"sl-request-close\": Event;\n}\n\nexport interface SlDialogMapEvents {\n  onSlHide: \"sl-hide\";\n  onSlRequestClose: \"sl-request-close\";\n}\n\nexport interface SlDialogElement extends HTMLElement {\n  show(): void;\n  hide(): void;\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./dialog.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./dialog.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useCallback, useMemo, useRef, useState } from \"react\";\nimport { createProviderClass } from \"@next-core/utils/general\";\nimport { i18n, initializeI18n } from \"@next-core/i18n\";\nimport { createRoot } from \"react-dom/client\";\nimport { wrapBrick } from \"@next-core/react-element\";\nimport type { AntdIcon, AntdIconProps } from \"@next-bricks/icons/antd-icon\";\nimport { get } from \"lodash\";\nimport \"@next-core/theme\";\nimport { instantiateModalStack } from \"@next-core/runtime\";\nimport { K, NS, locales } from \"./i18n.js\";\nimport { SlDialogElement, WrappedSlDialog } from \"./sl-dialog.js\";\nimport type { Button, ButtonProps } from \"../../button/index.js\";\nimport styles from \"./dialog.module.css\";\n\ninitializeI18n(NS, locales);\n\nconst WrappedButton = wrapBrick<Button, ButtonProps>(\"eo-button\");\nconst WrappedAntdIcon = wrapBrick<AntdIcon, AntdIconProps>(\"eo-antd-icon\");\n\ninterface InputProps {\n  value?: string;\n}\ninterface InputEvents {\n  change: CustomEvent<string>;\n}\ninterface InputEventsMap {\n  onValueChange: \"change\";\n}\nconst WrappedInput = wrapBrick<\n  HTMLElement,\n  InputProps,\n  InputEvents,\n  InputEventsMap\n>(\"eo-input\", {\n  onValueChange: \"change\",\n});\n\nexport interface DialogOptions {\n  /** 对话框类型 */\n  type?: \"success\" | \"error\" | \"warn\" | \"info\" | \"confirm\" | \"delete\";\n  title?: string;\n  content: string;\n  expect?: string;\n  contentStyle?: React.CSSProperties;\n}\n\nconst parseTemplate = (template: string, context: Record<string, any>) => {\n  const unMatched: string[] = [];\n  const matched: string[] = [];\n\n  let restTemplate = template;\n  let lastMatchInfo;\n\n  while ((lastMatchInfo = restTemplate.match(/{{(.*?)}}/)) !== null) {\n    const match = lastMatchInfo[0];\n    const matchIndex = lastMatchInfo.index!;\n    const key = lastMatchInfo[1].trim();\n    const value = get(context, key);\n\n    unMatched.push(restTemplate.slice(0, matchIndex));\n    matched.push(value);\n    restTemplate = restTemplate.slice(\n      matchIndex + match.length,\n      restTemplate.length\n    );\n  }\n\n  unMatched.push(restTemplate);\n\n  return (\n    <>\n      {unMatched.map((str, index) => {\n        return (\n          <React.Fragment key={index}>\n            {str}\n            {matched[index] ? (\n              <strong className={styles.strong}>{matched[index]}</strong>\n            ) : null}\n          </React.Fragment>\n        );\n      })}\n    </>\n  );\n};\n\n/**\n * 显示对话框。\n *\n * @param options 选项\n */\nexport function showDialog(options: DialogOptions): Promise<void> {\n  const container = document.createElement(\"div\");\n  document.body.append(container);\n  const root = createRoot(container);\n\n  let onOk: (() => void) | undefined;\n  let onCancel: (() => void) | undefined;\n\n  const promise = new Promise<void>((resolve, reject) => {\n    onOk = resolve;\n    onCancel = reject;\n  });\n\n  const stack = instantiateModalStack?.();\n  const zIndex = stack?.push();\n\n  const onHide = () => {\n    root.unmount();\n    container.remove();\n    stack?.pull();\n  };\n\n  root.render(\n    <DialogComponent\n      {...options}\n      zIndex={zIndex}\n      onOk={onOk}\n      onCancel={onCancel}\n      onHide={onHide}\n    />\n  );\n\n  return promise;\n}\n\nexport function DialogComponent({\n  type,\n  title,\n  content,\n  expect,\n  contentStyle,\n  zIndex,\n  onOk,\n  onCancel,\n  onHide,\n}: DialogOptions & {\n  zIndex?: number;\n  onOk?(): void;\n  onCancel?(): void;\n  onHide?(): void;\n}) {\n  const ref = useRef<SlDialogElement | null>(null);\n  const [confirmDisabled, setConfirmDisabled] = useState(!!expect);\n  const icon = useMemo(() => {\n    switch (type) {\n      case \"success\":\n        return {\n          icon: \"check-circle\",\n          color: styles.success,\n        };\n      case \"error\":\n        return {\n          icon: \"close-circle\",\n          color: styles.danger,\n        };\n      case \"warn\":\n      case \"delete\":\n      case \"confirm\":\n        return {\n          icon: \"exclamation-circle\",\n          color: styles.warning,\n        };\n      case \"info\":\n        return {\n          icon: \"info-circle\",\n          color: styles.primary,\n        };\n    }\n  }, [type]);\n\n  const onSlRequestClose = useCallback((e: Event) => {\n    e.preventDefault();\n  }, []);\n\n  const onOkClick = useCallback(() => {\n    if (confirmDisabled) return;\n    ref.current?.hide();\n    onOk?.();\n  }, [onOk, confirmDisabled]);\n\n  const onCancelClick = useCallback(() => {\n    ref.current?.hide();\n    onCancel?.();\n  }, [onCancel]);\n\n  return (\n    <WrappedSlDialog\n      label={title ?? \"Dialog\"}\n      open\n      noHeader\n      className={styles.dialog}\n      onSlHide={onHide}\n      onSlRequestClose={onSlRequestClose}\n      ref={ref}\n      style={{ \"--sl-z-index-dialog\": zIndex } as React.CSSProperties}\n    >\n      <div className={styles.body}>\n        {icon && (\n          <div className={`${styles.icon} ${icon.color}`}>\n            <WrappedAntdIcon icon={icon.icon} />\n          </div>\n        )}\n        <div className={styles.content}>\n          {title && <div className={styles.contentTitle}>{title}</div>}\n          <div style={contentStyle}>{parseTemplate(content, { expect })}</div>\n          {expect && (\n            <WrappedInput\n              auto-focus={true}\n              className={styles.expectInput}\n              onValueChange={(e) => setConfirmDisabled(e.detail !== expect)}\n            />\n          )}\n        </div>\n      </div>\n      {(type === \"confirm\" || type === \"delete\") && (\n        <WrappedButton slot=\"footer\" type=\"text\" onClick={onCancelClick}>\n          {i18n.t(`${NS}:${K.CANCEL}`)}\n        </WrappedButton>\n      )}\n      <WrappedButton\n        slot=\"footer\"\n        type=\"primary\"\n        danger={type === \"delete\"}\n        disabled={confirmDisabled}\n        onClick={onOkClick}\n      >\n        {i18n.t(`${NS}:${type === \"delete\" ? K.DELETE : K.OK}`)}\n      </WrappedButton>\n    </WrappedSlDialog>\n  );\n}\n\ncustomElements.define(\"basic.show-dialog\", createProviderClass(showDialog));\n","import { wrapBrick } from \"@next-core/react-element\";\n\nexport const WrappedSlAlert = wrapBrick<\n  SlAlertElement,\n  SlAlertProps,\n  SlAlertEvents,\n  SlAlertMapEvents\n>(\"sl-alert\", {\n  onSlHide: \"sl-hide\",\n});\n\nexport interface SlAlertProps {\n  open?: boolean;\n}\n\nexport interface SlAlertEvents {\n  \"sl-hide\": Event;\n}\n\nexport interface SlAlertMapEvents {\n  onSlHide: \"sl-hide\";\n}\n\nexport interface SlAlertElement extends HTMLElement {\n  toast(): void;\n  show(): void;\n  hide(): void;\n}\n","export const animations = {\n  center: {\n    active: [\n      {\n        opacity: 0,\n        scale: 0.9,\n        transform: \"translateY(-100%)\",\n      },\n      {\n        opacity: 1,\n        scale: 1,\n        transform: \"translateY(0%)\",\n      },\n    ],\n    hide: [\n      {\n        opacity: 1,\n        scale: 1,\n        transform: \"translateY(0%)\",\n      },\n      {\n        opacity: 0,\n        scale: 0.9,\n        transform: \"translateY(-100%)\",\n      },\n    ],\n  },\n  topRight: {\n    active: [\n      {\n        opacity: 0,\n        scale: 0.9,\n        transform: \"translateX(100%)\",\n      },\n      {\n        opacity: 1,\n        scale: 1,\n        transform: \"translateX(0%)\",\n      },\n    ],\n    hide: [\n      {\n        opacity: 1,\n        scale: 1,\n        transform: \"translateX(0%)\",\n      },\n      {\n        opacity: 0,\n        scale: 0.9,\n        transform: \"translateX(100%)\",\n      },\n    ],\n  },\n};\n\nexport const hideKeyframeAnimationOptions = {\n  duration: 200,\n  easing: \"ease\",\n};\n\nexport const activeKeyframeAnimationOptions = {\n  duration: 100,\n  easing: \"ease\",\n};\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./notification.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./notification.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useCallback, useMemo, useRef } from \"react\";\nimport { createProviderClass } from \"@next-core/utils/general\";\nimport { wrapBrick } from \"@next-core/react-element\";\nimport type {\n  GeneralIcon,\n  GeneralIconProps,\n} from \"@next-bricks/icons/general-icon\";\nimport classnames from \"classnames\";\nimport { sanitize } from \"dompurify\";\nimport { i18n, initializeI18n } from \"@next-core/i18n\";\nimport { createRoot } from \"react-dom/client\";\nimport { WrappedSlAlert, SlAlertElement } from \"./sl-alert.js\";\nimport type { Link, LinkProps, Target } from \"../../link/index.js\";\nimport { K, NS, locales } from \"../show-dialog/i18n\";\nimport {\n  activeKeyframeAnimationOptions,\n  animations,\n  hideKeyframeAnimationOptions,\n} from \"./constants\";\nimport styles from \"./notification.module.css\";\n\ninitializeI18n(NS, locales);\n\nconst WrappedIcon = wrapBrick<GeneralIcon, GeneralIconProps>(\"eo-icon\");\nconst WrappedLink = wrapBrick<Link, LinkProps>(\"eo-link\");\n\nexport interface NotificationOptions {\n  /** 通知类型 */\n  type?: \"success\" | \"error\" | \"warn\" | \"info\";\n  /** 默认三秒后自动关闭 */\n  duration?: number;\n  /** 弹出位置，默认居中 */\n  placement?: \"center\" | \"topRight\";\n  /** 通知标题 */\n  title?: string | null;\n  /** 通知内容 */\n  message?: string | null;\n  /** HTML 格式的通知内容，该内容会被 dom-purify sanitize */\n  htmlMessage?: string;\n  /** 允许手动关闭消息提示 */\n  closable?: boolean;\n  /** 自定义图标 */\n  icon?: GeneralIconProps & { style?: React.CSSProperties };\n  /**样式类型，默认圆角样式 */\n  styleType?: \"circleAngle\" | \"rectAngle\";\n  /** 确认文本 */\n  confirmText?: string;\n  /** 确认链接选项 */\n  confirmLink?: LinkOptions;\n  /** 取消文本 */\n  cancelText?: string;\n  /** 展示确认按钮 */\n  showConfirm?: boolean;\n  /** 展示取消按钮 */\n  showCancel?: boolean;\n}\n\nexport interface LinkOptions {\n  url?: string;\n  href?: string;\n  target?: Target;\n}\n\n/**\n * 显示通知消息。\n *\n * @param options 选项\n */\nexport async function showNotification(\n  options: NotificationOptions\n): Promise<void> {\n  const { placement = \"center\" } = options;\n  let wrapper = document.querySelector(\n    `body > .notification-wrapper-${placement}`\n  );\n  if (!wrapper) {\n    const newElement = document.createElement(\"div\");\n    newElement.className = classnames(\n      `notification-wrapper-${placement}`,\n      styles.notificationWrapper,\n      styles[placement]\n    );\n\n    document.body.append(newElement);\n\n    wrapper = newElement;\n  }\n\n  const container = document.createElement(\"div\");\n  container.className = classnames(styles.notificationItem);\n  wrapper!.appendChild(container);\n  const root = createRoot(container);\n\n  let onOk: (() => void) | undefined;\n  let onCancel: (() => void) | undefined;\n\n  const promise = new Promise<void>((resolve, reject) => {\n    onOk = resolve;\n    onCancel = reject;\n  });\n\n  const onHide = async () => {\n    const callback = () => {\n      root.unmount();\n      container.remove();\n    };\n\n    if (animations[placement]?.hide) {\n      const animation = container.animate(\n        animations[placement].hide,\n        hideKeyframeAnimationOptions\n      );\n\n      animation.onfinish = callback;\n    } else {\n      callback();\n    }\n  };\n\n  root.render(\n    <NotificationComponent\n      {...options}\n      onOk={onOk}\n      onCancel={onCancel}\n      onHide={onHide}\n    />\n  );\n\n  if (animations[placement]?.active)\n    await container.animate(\n      animations[placement].active,\n      activeKeyframeAnimationOptions\n    );\n\n  return promise;\n}\n\nfunction NotificationComponent({\n  type,\n  message,\n  htmlMessage,\n  title,\n  placement = \"center\",\n  closable,\n  icon,\n  duration = 3000,\n  styleType = \"circleAngle\",\n  confirmText,\n  confirmLink,\n  cancelText,\n  showConfirm = false,\n  showCancel = false,\n  onOk,\n  onCancel,\n  onHide,\n}: NotificationOptions & {\n  onOk?(): void;\n  onCancel?(): void;\n  onHide?(): void;\n}): React.ReactNode {\n  const ref = useRef<SlAlertElement | null>(null);\n\n  const alertProps = useMemo(() => {\n    let variant;\n    switch (type) {\n      case \"success\":\n        variant = \"success\";\n        break;\n      case \"error\":\n        variant = \"danger\";\n        break;\n      case \"warn\":\n        variant = \"warning\";\n        break;\n      default:\n        variant = \"primary\";\n    }\n\n    return {\n      variant,\n      closable,\n      duration: showConfirm || showCancel ? null : duration,\n    };\n  }, [closable, duration, showCancel, showConfirm, type]);\n\n  const iconProps = useMemo(() => {\n    let defaultIcon;\n    switch (type) {\n      case \"success\":\n        defaultIcon = \"check-circle\";\n        break;\n      case \"error\":\n        defaultIcon = \"close-circle\";\n        break;\n      case \"warn\":\n        defaultIcon = \"exclamation-circle\";\n        break;\n      default:\n        defaultIcon = \"info-circle\";\n    }\n    return {\n      lib: \"antd\",\n      icon: defaultIcon,\n      ...(icon ?? {}),\n    };\n  }, [icon, type]);\n\n  const handleSlHide = useCallback(() => {\n    onHide?.();\n    showConfirm && showCancel ? onCancel?.() : onOk?.();\n  }, [onCancel, onHide, onOk, showCancel, showConfirm]);\n\n  const onOkClick = useCallback(() => {\n    onHide?.();\n    onOk?.();\n  }, [onHide, onOk]);\n\n  const onCancelClick = useCallback(() => {\n    onHide?.();\n    onCancel?.();\n  }, [onCancel, onHide]);\n\n  return (\n    <WrappedSlAlert\n      open\n      ref={ref}\n      className={classnames(\n        styles.notification,\n        styles[placement],\n        styles[styleType]\n      )}\n      {...alertProps}\n      onSlHide={handleSlHide}\n    >\n      <WrappedIcon slot=\"icon\" {...iconProps}></WrappedIcon>\n      {title && <div className={styles.title}>{title}</div>}\n      {htmlMessage ? (\n        <div\n          className={styles.message}\n          dangerouslySetInnerHTML={{ __html: sanitize(htmlMessage) }}\n        />\n      ) : message ? (\n        <div className={styles.message}>{message}</div>\n      ) : null}\n      {(showConfirm || showCancel) && (\n        <div className={styles.operateWrapper}>\n          {showConfirm && (\n            <WrappedLink {...confirmLink} onClick={onOkClick}>\n              {confirmText ?? i18n.t(`${NS}:${K.OK}`)}\n            </WrappedLink>\n          )}\n          {showCancel && (\n            <WrappedLink type=\"text\" onClick={onCancelClick}>\n              {cancelText ?? i18n.t(`${NS}:${K.CANCEL}`)}\n            </WrappedLink>\n          )}\n        </div>\n      )}\n    </WrappedSlAlert>\n  );\n}\n\ncustomElements.define(\n  \"basic.show-notification\",\n  createProviderClass(showNotification)\n);\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.dialog--hAzMwQlA::part(header-actions){display:none}.dialog--hAzMwQlA::part(base){align-items:flex-start}.dialog--hAzMwQlA::part(panel){position:relative;top:100px;border-radius:6px;max-height:calc(100% - 80px - var(--sl-spacing-2x-large))}.body--R5m6BIXa{display:flex;gap:var(--sl-spacing-large)}.content--jKKFuGUD{flex:1;min-width:0;overflow-wrap:break-word}.contentTitle--m2pcYgP7{margin-bottom:var(--sl-spacing-medium);font-size:var(--sl-font-size-medium);font-weight:700}.expectInput--LlCBM8sb{margin-top:15px;width:100%}.icon--ORHCMsou{font-size:22px}.primary--rGd_FjAl{color:var(--sl-color-primary-600)}.success--RUnq1Umo{color:var(--sl-color-success-600)}.warning--kB4gsPXr{color:var(--sl-color-warning-600)}.danger--Io1rUve7{color:var(--sl-color-danger-600)}sl-dialog::part(footer){background:var(--color-fill-bg-base-3);padding:14px 20px;border-radius:0 0 6px 6px}sl-dialog > eo-button[slot=\"footer\"]:not(:first-of-type){margin-inline-start:0.5rem}.strong--PXJttyF6{padding:0 3px;color:var(--palette-red-6);background-color:var(--palette-red-1);border-radius:2px}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"dialog\": `dialog--hAzMwQlA`,\n\t\"body\": `body--R5m6BIXa`,\n\t\"content\": `content--jKKFuGUD`,\n\t\"contentTitle\": `contentTitle--m2pcYgP7`,\n\t\"expectInput\": `expectInput--LlCBM8sb`,\n\t\"icon\": `icon--ORHCMsou`,\n\t\"primary\": `primary--rGd_FjAl`,\n\t\"success\": `success--RUnq1Umo`,\n\t\"warning\": `warning--kB4gsPXr`,\n\t\"danger\": `danger--Io1rUve7`,\n\t\"strong\": `strong--PXJttyF6`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.notificationWrapper--K6udU2PP{position:fixed;display:flex;gap:16px;flex-direction:column;z-index:var(--sl-z-index-toast)}.notificationWrapper--K6udU2PP.center--dLri8OX_{left:50%;transform:translateX(-50%);top:24px}.notificationWrapper--K6udU2PP.topRight--oORzdvwP{right:24px;top:100px}.notification--Y9wdD5vk::part(base){border:var(--antd-message-border);width:-moz-fit-content;width:fit-content;margin-left:auto;margin-right:auto;box-shadow:var(--feedback-container-shadow)!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:var(--color-fill-bg-container-3);border-radius:var(--medius-border-radius)}.notification--Y9wdD5vk::part(icon){padding-inline-start:24px;font-size:22px}.notification--Y9wdD5vk::part(message){padding:16px}.notification--Y9wdD5vk::part(close-button)::part(base){padding:4px}.notification--Y9wdD5vk[variant=\"success\"]::part(icon){color:var(--palette-green-6)}.notification--Y9wdD5vk[variant=\"primary\"]::part(icon){color:var(--palette-blue-6)}.notification--Y9wdD5vk[variant=\"danger\"]::part(icon){color:var(--palette-red-6)}.notification--Y9wdD5vk[variant=\"warning\"]::part(icon){color:var(--palette-amber-6)}.center--dLri8OX_::part(icon){align-items:start;padding-top:16px}.topRight--oORzdvwP::part(base){width:28rem;margin-right:16px}.topRight--oORzdvwP::part(icon){padding:18px 0 0 24px;align-items:flex-start}.notification--Y9wdD5vk::part(close-button){padding:12px 24px 0 0;align-items:flex-start;font-size:14px}.notification--Y9wdD5vk::part(close-button__base){padding:var(--sl-spacing-x-small) 0;color:var(--color-secondary-text)}.notification--Y9wdD5vk::part(close-button__base):hover{color:var(--color-normal-text)}.rectAngle--HlYVzB_C::part(base){border-radius:0px}.title--wYsE__Ub{font-size:var(--title-font-size);color:var(--color-header-text);font-weight:var(--font-weight-500);width:220px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-bottom:8px}.message--RqU1C1g2{font-size:var(--normal-font-size);color:var(--color-secondary-text);font-weight:var(--font-weight-400)}.operateWrapper--ww8pAi2z{display:flex;gap:20px;margin-top:16px;margin-bottom:8px}`, \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"notificationWrapper\": `notificationWrapper--K6udU2PP`,\n\t\"center\": `center--dLri8OX_`,\n\t\"topRight\": `topRight--oORzdvwP`,\n\t\"notification\": `notification--Y9wdD5vk`,\n\t\"rectAngle\": `rectAngle--HlYVzB_C`,\n\t\"title\": `title--wYsE__Ub`,\n\t\"message\": `message--RqU1C1g2`,\n\t\"operateWrapper\": `operateWrapper--ww8pAi2z`\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["K","NS","locales","en","OK","CANCEL","DELETE","zh","WrappedSlDialog","wrapBrick","onSlHide","onSlRequestClose","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","undefined","initializeI18n","WrappedButton","WrappedAntdIcon","WrappedInput","onValueChange","DialogComponent","_ref","type","title","content","expect","contentStyle","zIndex","onOk","onCancel","onHide","ref","useRef","confirmDisabled","setConfirmDisabled","useState","icon","useMemo","color","styles","success","danger","warning","primary","useCallback","e","preventDefault","onOkClick","_ref$current","current","hide","onCancelClick","_ref$current2","React","label","open","noHeader","className","dialog","style","body","contentTitle","parseTemplate","template","context","unMatched","matched","lastMatchInfo","restTemplate","match","matchIndex","index","key","trim","value","get","push","slice","length","map","str","strong","expectInput","detail","slot","onClick","i18n","t","disabled","customElements","define","createProviderClass","container","document","createElement","append","root","createRoot","promise","Promise","resolve","reject","stack","instantiateModalStack","render","_extends","unmount","remove","pull","WrappedSlAlert","animations","center","active","opacity","scale","transform","topRight","hideKeyframeAnimationOptions","duration","easing","activeKeyframeAnimationOptions","WrappedIcon","WrappedLink","NotificationComponent","message","htmlMessage","placement","closable","styleType","confirmText","confirmLink","cancelText","showConfirm","showCancel","alertProps","variant","iconProps","defaultIcon","lib","handleSlHide","classnames","notification","dangerouslySetInnerHTML","__html","sanitize","operateWrapper","async","_animations$placement2","wrapper","querySelector","newElement","notificationWrapper","notificationItem","appendChild","_animations$placement","callback","animate","onfinish","___CSS_LOADER_EXPORT___","module","id"],"sourceRoot":""}