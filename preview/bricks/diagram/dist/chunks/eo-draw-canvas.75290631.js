"use strict";(globalThis.webpackChunk_next_bricks_diagram=globalThis.webpackChunk_next_bricks_diagram||[]).push([[8939],{9068:(e,t,a)=>{a.r(t),a.d(t,{EoDrawCanvas:()=>jt,EoDrawCanvasComponent:()=>Ut,uuidV4:()=>Ka});var i,n=a(4635),l=a(918),s=a(6902),o=a(2559),r=a(5536),d=a(6121),h=a(829),c=a(2740),u=a(8769),g=a.n(u),p=a(300),A=a(4295),v=a(3078),y=(a(6477),a(1030)),w=a(3373),f=a.n(w),m=a(7566),C=a(5748),k=a(3739),b=a(531),E=a(8185),x=a(5114),M=a(4932),W=a(3639),T=a(3783),N=a(2098),S=a(227),z=a(3033),R=a(8091),B=a(1819),L=a(7099),D=a(1484),P=a(8197),H=a(7531),$=a(8875),O=a(2722),_=a(9978),K=a(2219),U=a(3012),j=a(6237),V=a(1103),F=a(9386),I=a(1991),X=a(2202),Y=a(1825);let q,G,J,Z,Q,ee,te,ae,ie,ne,le,se,oe,re,de,he,ce,ue,ge,pe,Ae,ve,ye,we,fe,me,Ce,ke,be,Ee,xe,Me,We,Te,Ne,Se,ze,Re,Be,Le,De,Pe,He,$e,Oe,_e,Ke,Ue,je,Ve,Fe,Ie,Xe,Ye,qe,Ge,Je,Ze,Qe,et,tt,at,it,nt,lt,st,ot,rt,dt,ht,ct,ut,gt,pt,At,vt,yt,wt,ft,mt,Ct,kt,bt,Et,xt,Mt,Wt,Tt,Nt,St,zt,Rt,Bt,Lt,Dt,Pt;const Ht=(0,v.unwrapProvider)("basic.lock-body-scroll"),{defineElement:$t,property:Ot,method:_t,event:Kt}=(0,p.createDecorators)(),Ut=g().forwardRef(_a);let jt;var Vt=new WeakMap,Ft=new WeakMap,It=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,qt=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,Zt=new WeakMap,Qt=new WeakMap,ea=new WeakMap,ta=new WeakMap,aa=new WeakMap,ia=new WeakMap,na=new WeakMap,la=new WeakMap,sa=new WeakMap,oa=new WeakMap,ra=new WeakMap,da=new WeakMap,ha=new WeakSet,ca=new WeakMap,ua=new WeakMap,ga=new WeakMap,pa=new WeakMap,Aa=new WeakMap,va=new WeakMap,ya=new WeakMap,wa=new WeakMap,fa=new WeakMap,ma=new WeakMap,Ca=new WeakMap,ka=new WeakMap,ba=new WeakMap,Ea=new WeakMap,xa=new WeakMap,Ma=new WeakMap,Wa=new WeakMap,Ta=new WeakMap,Na=new WeakMap,Sa=new WeakMap,za=new WeakMap,Ra=new WeakMap,Ba=new WeakMap,La=new WeakMap,Da=new WeakMap,Pa=new WeakMap,Ha=new WeakMap;class $a extends A.ReactNextElement{constructor(){super(...arguments),(0,n.A)(this,ha),(0,l.A)(this,Vt,(q(this),J(this))),(0,l.A)(this,Ft,(Z(this),Q(this))),(0,l.A)(this,It,(ee(this),te(this))),(0,l.A)(this,Xt,(ae(this),ie(this,[z.HP,z.HP]))),(0,l.A)(this,Yt,(ne(this),le(this))),(0,l.A)(this,qt,(se(this),oe(this))),(0,l.A)(this,Gt,(re(this),de(this))),(0,l.A)(this,Jt,(he(this),ce(this))),(0,l.A)(this,Zt,(ue(this),ge(this))),(0,l.A)(this,Qt,(pe(this),Ae(this))),(0,l.A)(this,ea,(ve(this),ye(this,!0))),(0,l.A)(this,ta,(we(this),fe(this,!0))),(0,l.A)(this,aa,(me(this),Ce(this,!0))),(0,l.A)(this,ia,(ke(this),be(this,!1))),(0,l.A)(this,na,(Ee(this),xe(this))),(0,l.A)(this,la,(Me(this),We(this))),(0,l.A)(this,sa,(Te(this),Ne(this))),(0,l.A)(this,oa,(Se(this),ze(this))),(0,l.A)(this,ra,(Re(this),Be(this))),(0,l.A)(this,da,(Le(this),De(this))),(0,l.A)(this,ca,($e(this),e=>{(0,r.A)(ha,this,Pe).emit(e)})),(0,l.A)(this,ua,(e=>{(0,E.c)(e,this.activeTarget)||(this.activeTarget=e)})),(0,l.A)(this,ga,Oe(this)),(0,l.A)(this,pa,(Ue(this),je(this))),(0,l.A)(this,Aa,(Ie(this),e=>{(0,r.A)(ha,this,Ve).emit(e),"node"===e.type&&(0,r.A)(ha,this,_e).emit(e)})),(0,l.A)(this,va,Xe(this)),(0,l.A)(this,ya,(Ge(this),e=>{(0,r.A)(ha,this,Ye).emit(e)})),(0,l.A)(this,wa,Je(this)),(0,l.A)(this,fa,(et(this),e=>{(0,r.A)(ha,this,Ze).emit(e)})),(0,l.A)(this,ma,tt(this)),(0,l.A)(this,Ca,(nt(this),lt(this))),(0,l.A)(this,ka,(rt(this),e=>{(0,r.A)(ha,this,st).emit(e),"node"===e.type&&(0,r.A)(ha,this,at).emit(e)})),(0,l.A)(this,ba,dt(this)),(0,l.A)(this,Ea,(ut(this),e=>{(0,r.A)(ha,this,ht).emit(e)})),(0,l.A)(this,xa,gt(this)),(0,l.A)(this,Ma,(vt(this),e=>{(0,r.A)(ha,this,pt).emit(e)})),(0,l.A)(this,Wa,yt(this)),(0,l.A)(this,Ta,(mt(this),e=>{(0,r.A)(ha,this,wt).emit(e)})),(0,l.A)(this,Na,Ct(this)),(0,l.A)(this,Sa,(Et(this),e=>{(0,r.A)(ha,this,kt).emit(e)})),(0,l.A)(this,za,xt(this)),(0,l.A)(this,Ra,(Tt(this),e=>{(0,r.A)(ha,this,Mt).emit(e)})),(0,l.A)(this,Ba,Nt(this)),(0,l.A)(this,La,(Rt(this),e=>{(0,r.A)(ha,this,St).emit(e)})),(0,l.A)(this,Da,Bt(this)),(0,l.A)(this,Pa,(Pt(this),e=>{(0,r.A)(ha,this,Lt).emit(e)})),(0,l.A)(this,Ha,(0,u.createRef)())}get cells(){return(0,h.A)(Vt,this)}set cells(e){(0,d.A)(Vt,this,e)}get layout(){return(0,h.A)(Ft,this)}set layout(e){(0,d.A)(Ft,this,e)}get layoutOptions(){return(0,h.A)(It,this)}set layoutOptions(e){(0,d.A)(It,this,e)}get defaultNodeSize(){return(0,h.A)(Xt,this)}set defaultNodeSize(e){(0,d.A)(Xt,this,e)}get defaultNodeBricks(){return(0,h.A)(Yt,this)}set defaultNodeBricks(e){(0,d.A)(Yt,this,e)}get degradedThreshold(){return(0,h.A)(qt,this)}set degradedThreshold(e){(0,d.A)(qt,this,e)}get degradedNodeLabel(){return(0,h.A)(Gt,this)}set degradedNodeLabel(e){(0,d.A)(Gt,this,e)}get defaultEdgeLines(){return(0,h.A)(Jt,this)}set defaultEdgeLines(e){(0,d.A)(Jt,this,e)}get activeTarget(){return(0,h.A)(Zt,this)}set activeTarget(e){(0,d.A)(Zt,this,e)}get fadeUnrelatedCells(){return(0,h.A)(Qt,this)}set fadeUnrelatedCells(e){(0,d.A)(Qt,this,e)}get zoomable(){return(0,h.A)(ea,this)}set zoomable(e){(0,d.A)(ea,this,e)}get scrollable(){return(0,h.A)(ta,this)}set scrollable(e){(0,d.A)(ta,this,e)}get pannable(){return(0,h.A)(aa,this)}set pannable(e){(0,d.A)(aa,this,e)}get allowEdgeToArea(){return(0,h.A)(ia,this)}set allowEdgeToArea(e){(0,d.A)(ia,this,e)}get dragBehavior(){return(0,h.A)(na,this)}set dragBehavior(e){(0,d.A)(na,this,e)}get ctrlDragBehavior(){return(0,h.A)(la,this)}set ctrlDragBehavior(e){(0,d.A)(la,this,e)}get scaleRange(){return(0,h.A)(sa,this)}set scaleRange(e){(0,d.A)(sa,this,e)}get lineSettings(){return(0,h.A)(oa,this)}set lineSettings(e){(0,d.A)(oa,this,e)}get lineConnector(){return(0,h.A)(ra,this)}set lineConnector(e){(0,d.A)(ra,this,e)}async dropNode(e){var t,a;let{id:i,position:n,size:l,data:s,useBrick:o}=e;if(null===(t=(a=document).elementsFromPoint)||void 0===t||null===(t=t.call(a,n[0],n[1]))||void 0===t?void 0:t.includes(this)){var r;const e=this.getBoundingClientRect(),t=(0,h.A)(Ha,this).current.getTransform(),a={type:"node",id:i,view:{..."force"===this.layout||"dagre"===this.layout?null:{x:(n[0]-e.left-t.x)/t.k,y:(n[1]-e.top-t.y)/t.k},width:(null==l?void 0:l[0])??this.defaultNodeSize[0],height:(null==l?void 0:l[1])??this.defaultNodeSize[0]},data:s,useBrick:o};return null===(r=(0,h.A)(Ha,this).current)||void 0===r||r.dropNode(a),a}return null}async dropDecorator(e){var t,a;let{position:i,decorator:n,text:l,direction:s}=e;if(null===(t=(a=document).elementsFromPoint)||void 0===t||null===(t=t.call(a,i[0],i[1]))||void 0===t?void 0:t.includes(this)){var o;const e=this.getBoundingClientRect(),t=(0,h.A)(Ha,this).current.getTransform(),a={type:"decorator",decorator:n,id:Ka(),view:{x:(i[0]-e.left-t.x)/t.k,y:(i[1]-e.top-t.y)/t.k,width:z.N8,height:z.w1,text:l,direction:s}};return null===(o=(0,h.A)(Ha,this).current)||void 0===o||o.dropDecorator(a),a}return null}async addNodes(e){if(0===e.length)return[];const t=e.map((e=>{let{size:t,useBrick:a,id:i,data:n}=e;return{type:"node",id:i,data:n,view:{width:(null==t?void 0:t[0])??this.defaultNodeSize[0],height:(null==t?void 0:t[1])??this.defaultNodeSize[0]},useBrick:a}}));return(0,h.A)(Ha,this).current.addNodes(t,{defaultNodeSize:this.defaultNodeSize,canvasWidth:this.clientWidth,canvasHeight:this.clientHeight})}async addEdge(e){var t;let{source:a,target:i,data:n}=e;const l={type:"edge",source:a,target:i,data:n,view:this.lineSettings};return null===(t=(0,h.A)(Ha,this).current)||void 0===t||t.addEdge(l),l}manuallyConnectNodes(e){return(0,h.A)(Ha,this).current.manuallyConnectNodes(e)}async updateCells(e,t){await(0,o.A)(ha,this,Oa).call(this);const{updated:a}=(0,h.A)(Ha,this).current.updateCells(e,{...t,defaultNodeSize:this.defaultNodeSize,canvasWidth:this.clientWidth,canvasHeight:this.clientHeight});return{updated:a}}disconnectedCallback(){super.disconnectedCallback(),Ht(this,!1)}render(){return g().createElement(Ut,{host:this,ref:(0,h.A)(Ha,this),layout:this.layout,layoutOptions:this.layoutOptions,cells:this.cells,defaultNodeSize:this.defaultNodeSize,defaultNodeBricks:this.defaultNodeBricks,defaultEdgeLines:this.defaultEdgeLines,degradedThreshold:this.degradedThreshold,degradedNodeLabel:this.degradedNodeLabel,activeTarget:this.activeTarget,fadeUnrelatedCells:this.fadeUnrelatedCells,zoomable:this.zoomable,scrollable:this.scrollable,pannable:this.pannable,dragBehavior:this.dragBehavior,ctrlDragBehavior:this.ctrlDragBehavior,scaleRange:this.scaleRange,lineSettings:this.lineSettings,lineConnector:this.lineConnector,allowEdgeToArea:this.allowEdgeToArea,onActiveTargetChange:(0,h.A)(ca,this),onSwitchActiveTarget:(0,h.A)(ua,this),onCellMove:(0,h.A)(Aa,this),onCellsMove:(0,h.A)(ya,this),onCellResize:(0,h.A)(fa,this),onCellDelete:(0,h.A)(ka,this),onCellsDelete:(0,h.A)(Ea,this),onEdgeAdd:(0,h.A)(Ta,this),onCellContextMenu:(0,h.A)(Ma,this),onDecoratorTextChange:(0,h.A)(Ra,this),onContainerContainerChange:(0,h.A)(La,this),onScaleChange:(0,h.A)(Pa,this),onEdgeViewChange:(0,h.A)(Sa,this)})}}function Oa(){return new Promise((e=>{const t=()=>{(0,h.A)(Ha,this).current?e():setTimeout(t,10)};t()}))}function _a(e,t){let{host:a,layout:i,layoutOptions:n,cells:l,defaultNodeSize:s,defaultNodeBricks:o,defaultEdgeLines:r,degradedThreshold:d,degradedNodeLabel:h,activeTarget:c,fadeUnrelatedCells:p,zoomable:A,scrollable:v,pannable:w,dragBehavior:E,ctrlDragBehavior:U,scaleRange:j,lineSettings:q,lineConnector:G,allowEdgeToArea:J,onActiveTargetChange:Z,onSwitchActiveTarget:Q,onCellMove:ee,onCellResize:te,onCellDelete:ae,onCellsMove:ie,onCellsDelete:ne,onCellContextMenu:le,onEdgeAdd:se,onDecoratorTextChange:oe,onScaleChange:re,onContainerContainerChange:de,onEdgeViewChange:he}=e;const[{cells:ce,layoutKey:ue},ge]=(0,u.useReducer)(C.d,l,(e=>({cells:(0,T.C)(e,{defaultNodeSize:s}),layoutKey:0}))),pe=(0,u.useMemo)((()=>ce.filter(b.N).length>=(d??z.pC)),[ce,d]),Ae=(0,u.useRef)(null),ve=(0,u.useRef)(null),[ye,we]=(0,u.useState)([]),[fe,me]=(0,u.useState)([]),{grabbing:Ce,transform:ke,zoomer:be,scaleRange:Ee}=(0,R.f)({rootRef:Ae,zoomable:A,scrollable:v,pannable:w,draggable:"grab"===E,ctrlDraggable:"grab"===U,scaleRange:j,onSwitchActiveTarget:Q});(0,u.useEffect)((()=>{re(ke.k)}),[re,ke.k]);const[xe,Me]=(0,u.useState)(null),[We,Te]=(0,u.useState)(null),{centered:Ne,setCentered:Se,getNextLayoutKey:ze}=(0,D.g)({layout:i,layoutOptions:n,rootRef:Ae,cells:ce,zoomable:A,zoomer:be,scaleRange:Ee,layoutKey:ue,allowEdgeToArea:J,dispatch:ge});(0,u.useImperativeHandle)(t,(()=>({dropNode(e){"dagre"!==i&&"force"!==i&&Se(!0),ge({type:"drop-node",payload:e})},dropDecorator(e){"dagre"!==i&&"force"!==i&&Se(!0),ge({type:"drop-decorator",payload:e})},addNodes(e,t){let{defaultNodeSize:a,canvasWidth:n,canvasHeight:l}=t;const s=ce.findLastIndex((e=>!("decorator"===e.type&&"text"===e.decorator)))+1,o=[...ce.slice(0,s),...e,...ce.slice(s)],{cells:r,updated:d,shouldReCenter:h}=(0,N.L)({cells:o,layout:i,previousCells:ce,defaultNodeSize:a,canvasWidth:n,canvasHeight:l,scaleRange:Ee,transform:ke,allowEdgeToArea:J});return h&&Se(!1),ge({type:"update-cells",payload:r}),d.filter((t=>e.includes(t)))},addEdge(e){ge({type:"add-edge",payload:e})},updateCells(e,t){const{shouldReCenter:a,...n}=(0,N.L)({...t,layout:i,previousCells:ce,cells:e,scaleRange:Ee,transform:ke,allowEdgeToArea:J});return a&&Se(!1),ge({type:"update-cells",payload:n.cells}),n},getTransform:()=>ke,manuallyConnectNodes(e){const t=ce.find((t=>(0,b.bo)(t,J)&&t.id===e));if(t){const e=Ae.current.getBoundingClientRect();return Te({source:t,from:[t.view.x+t.view.width/2,t.view.y+t.view.height/2],offset:[e.left,e.top]}),new Promise(((e,t)=>{ve.current={resolve:e,reject:t}}))}return Promise.reject(null)}})),[ce,i,Ee,Se,ke,J]);const Re=(0,u.useCallback)(((e,t)=>{var a;for(let a=ce.length-1;a>=0;a--){const n=ce[a];if((0,b.bo)(n,J)&&n.id!==e.source.id&&n.view.x<t[0]&&n.view.x+n.view.width>t[0]&&n.view.y<t[1]&&n.view.y+n.view.height>t[1]){var i;null===(i=ve.current)||void 0===i||i.resolve({source:e.source,target:n});break}}null===(a=ve.current)||void 0===a||a.reject(null),Te(null)}),[J,ce]),[Be,Le]=(0,u.useState)(null);(0,u.useEffect)((()=>{Ht(a,!!(We||Be||xe))}),[We,a,Be,xe]);const De=(0,B.J)({rootRef:Ae,activeTarget:c,onActiveTargetChange:Z}),[Pe,He]=(0,u.useState)([]);(0,u.useEffect)((()=>{const e=p?(0,S.Y)(ce,We,De,J):[];He((t=>0===t.length&&0===e.length?t:e))}),[De,ce,We,p,J]),(0,u.useEffect)((()=>{const e=Ae.current;if(!e||ye.length>0)return;const t=e=>{const t=(0,x.a)(e,{cells:ce,activeTarget:De});"delete-cells"===(null==t?void 0:t.action)&&(ne(t.cells),1===t.cells.length&&ae(t.cells[0]))};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}),[De,ce,ye.length,ae,ne]);const $e=`${(0,u.useMemo)((()=>`${(0,y.uniqueId)("diagram-")}-`),[])}line-arrow-`,[Oe,_e]=(0,u.useState)([]),Ke=(0,u.useCallback)((e=>{ge({type:"move-cells",payload:e});const t=[];(0,I._)(e,ce).forEach((e=>{var a,i;null!==(a=e.containerCell)&&void 0!==a&&a.id&&t.push(null===(i=e.containerCell)||void 0===i?void 0:i.id)})),me(t),_e(e.flatMap((e=>e.guideLines??[])))}),[ce]),Ue=(0,u.useCallback)((e=>{ge({type:"move-cells",payload:e}),ie(e),1===e.length&&ee(e[0]),(0,I._)(e,ce,de),me([]),_e([])}),[ee,ie,ce,de]),je=(0,u.useCallback)((e=>{ge({type:"resize-cell",payload:e})}),[]),Ve=(0,u.useCallback)((e=>{ge({type:"resize-cell",payload:e}),te(e)}),[te]),Fe=(0,u.useCallback)((e=>{let{id:t,editing:a}=e;we(a?e=>e.includes(t)?e:[...e,t]:e=>e.filter((e=>e!==t)))}),[]),Ie=(0,u.useCallback)(((e,t)=>{const a=ze();ge({type:"update-node-size",payload:{id:e,size:t},layoutKey:a})}),[ze]),Xe=(0,u.useCallback)((e=>{be.scaleTo((0,m.A)(Ae.current),e/100)}),[be]),Ye=(0,u.useCallback)((()=>{Se(!1)}),[Se]),{lineConfMap:qe,lineConnectorConf:Ge,markers:Je}=(0,H.d)({cells:ce,defaultEdgeLines:r,lineConnector:G,markerPrefix:$e}),Ze=(0,P.H)({cells:ce,layout:i,centered:Ne}),[Qe,et]=(0,u.useState)(null),tt=(0,u.useRef)(null),[at,it]=(0,u.useState)(null),[nt,lt]=(0,u.useState)(null),st=(0,u.useCallback)((e=>{if(Ge&&(0,b.bo)(e,J)&&(!nt||"control"!==nt.type)){null!==tt.current&&(clearTimeout(tt.current),tt.current=null);const t=(0,$.G)();et({cell:e,relativePoints:t,points:Ua(t,e.view)})}}),[J,Ge,nt]),ot=(0,u.useCallback)((e=>{Ge&&(0,b.N)(e)&&(tt.current=setTimeout((()=>{et(null)})))}),[Ge]),rt=(0,u.useCallback)(((e,t,a,i)=>{const n={source:e.id,target:t.id,view:{...q,exitPosition:a,entryPosition:i,vertices:null}};if(ce.find((a=>"edge"===a.type&&a.source===e.id&&a.target===t.id)))ge({type:"change-edge-view",payload:n}),null==he||he(n);else{const a={type:"edge",...n};ge({type:"add-edge",payload:a}),se({source:e,target:t,view:a.view})}}),[ce,q,se,he]),dt=(0,u.useCallback)(((e,t,a)=>{const i={source:e.id,target:t.id,view:a};ge({type:"change-edge-view",payload:i}),null==he||he(i)}),[he]),ht=(0,u.useMemo)((()=>({rootRef:Ae,smartConnectLineState:Be,unsetHoverStateTimeoutRef:tt,hoverState:Qe,activeEditableLine:at,lineEditorState:nt,setLineEditorState:lt,setActiveEditableLine:it,setHoverState:et,setSmartConnectLineState:Le,onConnect:rt,onChangeEdgeView:dt})),[at,dt,rt,Qe,nt,Be]);return(0,u.useEffect)((()=>{const e=Ae.current;if(!e||"lasso"!==E)return;const t=e.getBoundingClientRect(),a=e=>{(0,K.F)(e,{transform:ke,offset:[t.left,t.top],onLassoing(e){Me(e)},onLassoed(e){Me(null);const t=[];for(const a of ce)if((0,b.t2)(a)||(0,b.o6)(a)||(0,b.Hs)(a)){const i=a.view.x,n=a.view.y;i>=e.x&&i+a.view.width<=e.x+e.width&&n>=e.y&&n+a.view.height<=e.y+e.height&&t.push(a)}null==Q||Q(t.length>1?{type:"multi",targets:t.map(F.P)}:1===t.length?(0,F.P)(t[0]):null)}})};return e.addEventListener("mousedown",a),()=>{e.removeEventListener("mousedown",a)}}),[ke,ce,E,Q]),g().createElement(_.H.Provider,{value:ht},g().createElement("svg",{width:"100%",height:"100%",ref:Ae,className:f()("root",{grabbing:Ce,pannable:w,ready:Ze}),tabIndex:-1},g().createElement("defs",null,Je.map(((e,t)=>g().createElement(k.c,{key:t,id:`${$e}${t}`,type:e.markerType,strokeColor:e.strokeColor})))),g().createElement("g",{transform:`translate(${ke.x} ${ke.y}) scale(${ke.k})`},g().createElement("g",{className:f()("cells",{allowEdgeToArea:J})},ce.map((e=>g().createElement(M.m,{key:`${e.type}:${(0,b.WW)(e)?`${e.source}~${e.target}`:e.id}`,dragNodeToContainerActive:!(0,b.WW)(e)&&fe.includes(e.id),layout:i,layoutOptions:n,cell:e,cells:ce,degraded:pe,degradedNodeLabel:h,defaultNodeBricks:o,transform:ke,lineConfMap:qe,activeTarget:De,unrelatedCells:Pe,allowEdgeToArea:J,onCellsMoving:Ke,onCellsMoved:Ue,onCellResizing:je,onCellResized:Ve,onSwitchActiveTarget:Q,onCellContextMenu:le,onDecoratorTextChange:oe,onDecoratorTextEditing:Fe,onNodeBrickResize:Ie,onCellMouseEnter:st,onCellMouseLeave:ot})))),g().createElement("g",null,g().createElement(W.w,{connectLineState:We,transform:ke,markerEnd:`${$e}0`,onConnect:Re})),xe&&g().createElement("rect",{x:xe.x,y:xe.y,width:xe.width,height:xe.height,fill:"var(--palette-gray-5)",fillOpacity:.3,stroke:"var(--palette-gray-5)",strokeDasharray:2}),Ge&&g().createElement("g",null,g().createElement(V.X,{transform:ke,lineSettings:q,options:Ge}),g().createElement(Y.W,{transform:ke,options:Ge})),g().createElement("g",null,Oe.map(((e,t)=>g().createElement("path",{key:t,d:`M${e[0].join(" ")} L${e[1].join(" ")}`,stroke:"var(--palette-orange-5)",fill:"none",strokeWidth:1/ke.k})))),g().createElement("g",null,Ge&&g().createElement(X.F,{scale:ke.k})),Ge&&g().createElement(O.T,{activeTarget:De,scale:ke.k,disabled:!!We}))),g().createElement(L.Y,{shadowRoot:a.shadowRoot,scale:ke.k,scaleRange:Ee,onZoomChange:Xe,onReCenter:Ye}))}function Ka(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function Ua(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const i=z.XK,n=i/2,l=t.x+a/2-n,s=t.y+a/2-n,o=t.width-a+i,r=t.height-a+i;return e.map((e=>({x:l+e.x*o,y:s+e.y*r})))}i=$a,({e:[J,Z,Q,ee,te,ae,ie,ne,le,se,oe,re,de,he,ce,ue,ge,pe,Ae,ve,ye,we,fe,me,Ce,ke,be,Ee,xe,Me,We,Te,Ne,Se,ze,Re,Be,Le,De,Pe,He,$e,Oe,_e,Ke,Ue,je,Ve,Fe,Ie,Xe,Ye,qe,Ge,Je,Ze,Qe,et,tt,at,it,nt,lt,st,ot,rt,dt,ht,ct,ut,gt,pt,At,vt,yt,wt,ft,mt,Ct,kt,bt,Et,xt,Mt,Wt,Tt,Nt,St,zt,Rt,Bt,Lt,Dt,Pt,q],c:[jt,G]}=(0,c.A)(i,[$t("eo-draw-canvas",{styleTexts:[U.A,j.A]})],[[Ot({attribute:!1}),1,"cells"],[Ot({type:String}),1,"layout"],[Ot({attribute:!1}),1,"layoutOptions"],[Ot({attribute:!1}),1,"defaultNodeSize"],[Ot({attribute:!1}),1,"defaultNodeBricks"],[Ot({type:Number}),1,"degradedThreshold"],[Ot({attribute:!1}),1,"degradedNodeLabel"],[Ot({attribute:!1}),1,"defaultEdgeLines"],[Ot({attribute:!1}),1,"activeTarget"],[Ot({type:Boolean}),1,"fadeUnrelatedCells"],[Ot({type:Boolean}),1,"zoomable"],[Ot({type:Boolean}),1,"scrollable"],[Ot({type:Boolean}),1,"pannable"],[Ot({type:Boolean}),1,"allowEdgeToArea"],[Ot(),1,"dragBehavior"],[Ot(),1,"ctrlDragBehavior"],[Ot({attribute:!1}),1,"scaleRange"],[Ot({attribute:!1}),1,"lineSettings"],[Ot({attribute:!1}),1,"lineConnector"],[Kt({type:"activeTarget.change"}),1,"activeTargetChangeEvent",e=>(0,h.A)(da,e),(e,t)=>(0,d.A)(da,e,t)],[Kt({type:"node.move"}),1,"nodeMoveEvent",e=>(0,h.A)(ga,e),(e,t)=>(0,d.A)(ga,e,t)],[Kt({type:"cell.move"}),1,"cellMoveEvent",e=>(0,h.A)(pa,e),(e,t)=>(0,d.A)(pa,e,t)],[Kt({type:"cells.move"}),1,"cellsMoveEvent",e=>(0,h.A)(va,e),(e,t)=>(0,d.A)(va,e,t)],[Kt({type:"cell.resize"}),1,"cellResizeEvent",e=>(0,h.A)(wa,e),(e,t)=>(0,d.A)(wa,e,t)],[Kt({type:"node.delete"}),1,"nodeDelete",e=>(0,h.A)(ma,e),(e,t)=>(0,d.A)(ma,e,t)],[Kt({type:"cell.delete"}),1,"cellDelete",e=>(0,h.A)(Ca,e),(e,t)=>(0,d.A)(Ca,e,t)],[Kt({type:"cells.delete"}),1,"cellsDelete",e=>(0,h.A)(ba,e),(e,t)=>(0,d.A)(ba,e,t)],[Kt({type:"cell.contextmenu"}),1,"cellContextMenu",e=>(0,h.A)(xa,e),(e,t)=>(0,d.A)(xa,e,t)],[Kt({type:"edge.add"}),1,"edgeAdd",e=>(0,h.A)(Wa,e),(e,t)=>(0,d.A)(Wa,e,t)],[Kt({type:"edge.view.change"}),1,"edgeViewChange",e=>(0,h.A)(Na,e),(e,t)=>(0,d.A)(Na,e,t)],[Kt({type:"decorator.text.change"}),1,"decoratorTextChange",e=>(0,h.A)(za,e),(e,t)=>(0,d.A)(za,e,t)],[Kt({type:"node.container.change"}),1,"containerContainerChange",e=>(0,h.A)(Ba,e),(e,t)=>(0,d.A)(Ba,e,t)],[Kt({type:"scale.change"}),1,"scaleChange",e=>(0,h.A)(Da,e),(e,t)=>(0,d.A)(Da,e,t)],[_t(),2,"dropNode"],[_t(),2,"dropDecorator"],[_t(),2,"addNodes"],[_t(),2,"addEdge"],[_t(),2,"manuallyConnectNodes"],[_t(),2,"updateCells"]],0,(e=>Ha.has((0,s.A)(e))),A.ReactNextElement)),G()}}]);
//# sourceMappingURL=eo-draw-canvas.75290631.js.map