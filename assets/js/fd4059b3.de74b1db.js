"use strict";(globalThis.webpackChunkbrick_docs=globalThis.webpackChunkbrick_docs||[]).push([[3674],{497:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>b,contentTitle:()=>p,default:()=>y,frontMatter:()=>d,metadata:()=>m,toc:()=>g});var t=s(5893),i=s(1151),r=s(4752),a=s(7886),o=(s(7268),s(5673)),c=(s(1243),s(9898),s(9265)),l=s(2535);const d={description:"<eo-message-listener>"},p=void 0,m={id:"bricks/basic/eo-message-listener",title:"eo-message-listener",description:"<eo-message-listener>",source:"@site/docs/bricks/basic/eo-message-listener.mdx",sourceDirName:"bricks/basic",slug:"/bricks/basic/eo-message-listener",permalink:"/bricks/basic/eo-message-listener",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{description:"<eo-message-listener>"},sidebar:"docsSidebar",previous:{title:"eo-menu",permalink:"/bricks/basic/eo-menu"},next:{title:"eo-mini-actions",permalink:"/bricks/basic/eo-mini-actions"}},b={},g=[{value:"Examples",id:"examples",level:2},{value:"Basic",id:"basic",level:3},{value:"Properties",id:"properties",level:2},{value:"Events",id:"events",level:2},{value:"Type references",id:"type-references",level:2}];function u(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.a)(),...e.components};return l.vy||v("TypeReferencesContext",!1),l.vy.Provider||v("TypeReferencesContext.Provider",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{name:"eo-message-listener",alias:null,insider:!1,deprecated:!1}),"\n",(0,t.jsx)(n.p,{children:"\u7528\u4e8e\u76d1\u542c window.postMessage \u4e8b\u4ef6\u7684\u6784\u4ef6\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.h3,{id:"basic",children:"Basic"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:"preview",children:'- brick: eo-message-listener\n  events:\n    message:\n      action: message.success\n      args:\n        - <% EVENT.detail.data.payload %>\n- brick: eo-button\n  properties:\n    textContent: Send a message\n  events:\n    click:\n      action: window.postMessage\n      args:\n        - type: test\n          payload: Hello\n# -- YAML HEADING DELIMITER start (1nbbm8) --\nbasic/eo-message-listener/basic\n# -- YAML HEADING DELIMITER end (1nbbm8) --\n# -- YAML DELIMITER (1nbbm8) --\n# <eo-message-listener id="brick-1"></eo-message-listener>\n# <eo-button id="brick-2">Send a message</eo-button>\n# \n# <script>\n#   const brick_1 = document.getElementById("brick-1");\n#   brick_1.addEventListener("message", (e) => {\n#     const message = document.createElement("basic.show-notification");\n#     message.resolve({\n#       type: "success",\n#       /* WARN: incompatible expressions in HTML, please try YAML: */\n#       message: "<% EVENT.detail.data.payload %>",\n#     });\n#   });\n# \n#   const brick_2 = document.getElementById("brick-2");\n#   brick_2.addEventListener("click", (e) => {\n#     // WARN: encountered incompatible event handlers in HTML mode, please try YAML.\n#   });\n# <\/script>\n# \n'})}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(l.vy.Provider,{value:["MessageDetail"],children:(0,t.jsx)(a.Z,{properties:[{name:"sameOrigin",description:"\u662f\u5426\u4ec5\u63a5\u6536\u540c\u6e90\u6d88\u606f",default:"true",type:"boolean",annotation:{type:"keyword",value:"boolean"}}]})}),"\n",(0,t.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,t.jsx)(l.vy.Provider,{value:["MessageDetail"],children:(0,t.jsx)(o.Z,{events:[{name:"message",detail:{type:"MessageDetail",annotation:{type:"reference",typeName:{type:"identifier",name:"MessageDetail"}}}}]})}),"\n",(0,t.jsx)(n.h2,{id:"type-references",children:"Type references"}),"\n",(0,t.jsx)(c.Z,{types:[{type:"interface",name:"MessageDetail",body:[{type:"propertySignature",key:{type:"identifier",name:"data"},annotation:{type:"keyword",value:"unknown"},computed:!1},{type:"propertySignature",key:{type:"identifier",name:"origin"},annotation:{type:"keyword",value:"string"},computed:!1}]}]})]})}function y(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}function v(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);