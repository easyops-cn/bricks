"use strict";(globalThis.webpackChunkbrick_docs=globalThis.webpackChunkbrick_docs||[]).push([[4054],{4054:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});n(7294);var r=n(9319),l=n(6010);const o={editor:"editor_TseG"};var s=n(5893);function a(e){let{code:t,type:n,showLineNumbers:a,className:i}=e;return(0,s.jsx)(r.Z,{className:(0,l.Z)(i,o.editor),language:n??"yaml",showLineNumbers:a,children:t})}},2748:(e,t,n)=>{n.d(t,{CZ:()=>r,cP:()=>l,lV:()=>a,sE:()=>o,z5:()=>s});const r=22,l=88,o=12,s=12,a=3*r+s+o},9319:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(7294),l=n(635),o=n(4132),s=n(9507),a=n(9159),i=n(573),c=n(70),u=n(8190),d=n(925),h=n(6010),m=n(6616),f=n(2748),b=n(5785);const g=new Set,x="example.language";var p,v=n(3823),w=n(1478);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(null,arguments)}const E=e=>{let{title:t,titleId:n,...l}=e;return r.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-up",viewBox:"0 0 16 16","aria-labelledby":n},l),t?r.createElement("title",{id:n},t):null,p||(p=r.createElement("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"})))};var j;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(null,arguments)}const Z=e=>{let{title:t,titleId:n,...l}=e;return r.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-down",viewBox:"0 0 16 16","aria-labelledby":n},l),t?r.createElement("title",{id:n},t):null,j||(j=r.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"})))},I={example:"example_UmKM",editorBox:"editorBox_cKdj",previewBox:"previewBox_I2iQ",sourceShown:"sourceShown_wqmH",preview:"preview_bwr6",ready:"ready_dhJq",toolbar:"toolbar_Ozie",button:"button_nX8O",active:"active_KoUc",buttonToggleShowSource:"buttonToggleShowSource_CKb5"};var M=n(6592),N=n(9728),L=n(5893);let C=!1,O=!1;const _=[];function R(e){let{code:t,altCode:l,type:p,label:y,previewRootStyle:j}=e;const[S,R]=function(){const[e,t]=(0,r.useState)();return(0,r.useEffect)((()=>{t("html"===localStorage.getItem(x)?"html":"yaml")}),[]),(0,r.useEffect)((()=>{const e=e=>{t(e)};return g.add(e),()=>{g.delete(e)}}),[]),[e,(0,r.useCallback)((e=>{t(e),localStorage.setItem(x,e);for(const t of g)t(e)}),[])]}(),[T]=(0,v.Z)(),k=(0,r.useRef)(),{colorMode:D}=(0,s.I)(),H=(0,o.ZP)("/preview/"),$=(0,r.useRef)(),[B,z]=(0,r.useState)(f.cP),A=(0,m.Z)(B,100),[P,G]=(0,r.useState)(!1),[J,K]=(0,r.useState)(S===p?t:l),[U,Y]=(0,r.useState)(J),[q,V]=(0,r.useState)(!1),W=(0,i.Z)(),[F,Q]=(0,r.useState)(!(c.Z.canUseDOM&&!C&&(C=!0,1))),X=(0,r.useMemo)((()=>(0,b.Z)(J)),[J]);(0,r.useEffect)((()=>{const e=S===p?t:l;K(e),Y(e)}),[l,t,S,p]),(0,r.useEffect)((()=>{var e;e=()=>{Q(!1)},O?e():_.push(e)}),[]);const ee=(0,r.useCallback)((()=>{const e=()=>{var t;null!=(t=$.current)&&null!=(t=t.contentWindow)&&t._preview_only_render?(G(!0),O||(O=!0,_.forEach((e=>{e()})),_.length=0)):setTimeout(e,100)};e()}),[]),te=(0,m.Z)(`${S}:${U}`);(0,r.useEffect)((()=>{if(P&&j){var e;const t=null==(e=$.current)?void 0:e.contentDocument.querySelector("#preview-root");if(t)for(const[e,n]of Object.entries(j))t.style[e]=n}}),[j,P]),(0,r.useEffect)((()=>{var e;if(!P)return;const t=null==(e=$.current)||null==(e=e.contentWindow)?void 0:e._preview_only_render;if(!t)return;const n=te.indexOf(":"),r=te.substring(0,n);t(r,{[r]:te.substring(n+1)},{theme:D,uiVersion:T})}),[D,P,te,T]),(0,r.useLayoutEffect)((()=>{if(!P)return;const e=new ResizeObserver((e=>{for(const n of e){var t;z(Math.max(f.cP,(null==(t=n.borderBoxSize)||null==(t=t[0])?void 0:t.blockSize)??n.contentRect.height))}}));return e.observe($.current.contentDocument.body,{box:"border-box"}),()=>{e.disconnect()}}),[P]);const ne=(0,r.useCallback)((()=>{V((e=>!e))}),[]),re=(0,r.useRef)(!1);(0,r.useEffect)((()=>{!re.current&&q&&(re.current=!0)}),[q]);const[le,oe]=(0,r.useState)("/playground");return(0,r.useEffect)((()=>{S&&(S===p?U===t:U===l)&&oe(`/playground/?mode=${S}&example=${encodeURIComponent(y)}`)}),[l,t,U,y,S,p]),(0,r.useEffect)((()=>{if(S===p?U===t:U===l)return;let e=!1;return async function(){try{const t=`/playground${w.bi}${await(0,w.nN)(JSON.stringify({[S]:U}))}`;e||oe(t)}catch(t){console.error("Compress shared example failed:",t)}}(),()=>{e=!0}}),[l,t,U,S,p]),(0,L.jsxs)("div",{className:I.example,ref:k,children:[(0,L.jsx)("div",{className:I.previewBox,children:W&&(F?(0,L.jsx)(M.Z,{height:f.cP}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:(0,h.Z)(I.preview,{[I.ready]:P}),children:(0,L.jsx)("iframe",{ref:$,src:H,loading:"lazy",onLoad:ee,style:{height:A}})}),!P&&(0,L.jsx)(N.Z,{})]}))}),(0,L.jsx)("div",{className:(0,h.Z)(I.editorBox,{[I.sourceShown]:q}),children:q||re.current?F||!P?(0,L.jsx)(M.Z,{height:X}):(0,L.jsx)(a.Z,{fallback:(0,L.jsx)(M.Z,{height:X}),children:()=>{const e=n(5295).Z;return(0,L.jsx)(e,{type:S,code:J,loadingHeight:X,onChange:Y})}}):null}),(0,L.jsxs)("div",{className:I.toolbar,children:[(0,L.jsxs)("button",{className:(0,h.Z)(I.button,I.buttonToggleShowSource),onClick:ne,children:[q?(0,L.jsx)(E,{width:14,height:14}):(0,L.jsx)(Z,{width:14,height:14}),(0,L.jsx)("span",{children:"Source"})]}),(0,L.jsx)("button",{className:(0,h.Z)(I.button,{[I.active]:"html"===S}),onClick:()=>{R("html"),V(!0)},children:"HTML"}),(0,L.jsx)("button",{className:(0,h.Z)(I.button,{[I.active]:"yaml"===S}),onClick:()=>{R("yaml"),V(!0)},children:"YAML"}),(0,L.jsxs)(u.Z,{className:I.button,to:le,target:"_blank",children:["Playground",(0,L.jsx)(d.Z,{width:12,height:12})]})]})]})}var T=n(7781);const k="# -- YAML DELIMITER (1nbbm8) --",D="\x3c!-- HTML DELIMITER start (1nbbm8) --",H="-- HTML DELIMITER end (1nbbm8) --\x3e",$="# -- YAML HEADING DELIMITER start (1nbbm8) --",B="# -- YAML HEADING DELIMITER end (1nbbm8) --",z="\x3c!-- HTML HEADING DELIMITER start (1nbbm8) --",A="-- HTML HEADING DELIMITER end (1nbbm8) --\x3e";function P(e){const t=(0,r.useMemo)((()=>{if(G(e.metastring,"preview")){const t=e.children.trimEnd(),n="yaml"===e.className.replace("language-","")?"yaml":"html";let r=t.split("\n"),l=t,o="",s="",a=!1;if("yaml"===n){const e=r.indexOf($),t=r.indexOf(B);e>-1&&t===e+2&&(a=!0,l=r.slice(0,e).join("\n"),s=r[e+1],r=r.slice(t+1));const i=r.indexOf(k);i>-1&&(a||(l=r.slice(0,i).join("\n")),o=(0,T.J)(r.slice(i+1).map((e=>e.substring(2))).join("\n"),n,"html"))}else{const e=r.indexOf(z),t=r.indexOf(A);e>-1&&t===e+2&&(a=!0,l=r.slice(0,e).join("\n"),s=r[e+1],r=r.slice(t+1));const i=r.indexOf(D),c=r.indexOf(H);i>-1&&c>i&&(a||(l=r.slice(0,i).join("\n")),o=(0,T.J)(r.slice(i+1,c).join("\n"),n,"yaml"))}return{type:n,code:l,altCode:o,label:s}}}),[e.children,e.className,e.metastring]);if(t){const n=J(e.metastring,"minHeight"),r=G(e.metastring,"gap")||J(e.metastring,"gap"),{type:l,code:o,altCode:s,label:a}=t;return(0,L.jsx)(R,{type:l,code:o,altCode:s,label:a,previewRootStyle:r||n?{...r?{display:"flex",flexWrap:"wrap",gap:!0===r?"0.27em":r}:null,...n?{minHeight:n}:null}:void 0})}return(0,L.jsx)(l.Z,{...e})}function G(e,t){return"string"==typeof e&&new RegExp(`(?:^|\\s)${t}(?:\\s|$)`).test(e)}function J(e,t){if("string"!=typeof e)return;const n=e.match(new RegExp(`(?:^|\\s)${t}=(['"])(.*)\\1$`));return n?n[2]:""}},5785:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(2748);function l(e){return Math.max(r.lV,e.split("\n").length*r.CZ+r.sE+r.z5)}}}]);