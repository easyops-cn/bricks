"use strict";(self.webpackChunkbrick_docs=self.webpackChunkbrick_docs||[]).push([[6258],{27625:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(67294),a=n(4871),i=n(32403);function s(e){let{params:t}=e;return 0===t.length?r.createElement("p",null,"None"):r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"#"),r.createElement("th",null,"Name"),r.createElement("th",null,"Description"),r.createElement("th",null,"Type"))),r.createElement("tbody",null,t.map(((e,t)=>r.createElement("tr",{key:t},r.createElement("td",null,t+1),r.createElement("td",null,r.createElement("code",null,e.isRestElement&&"...",e.name)),r.createElement("td",null,e.description),r.createElement("td",null,r.createElement(i.Z,null,r.createElement(a.ZP,{annotation:e.annotation}))))))))}},1915:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>y,frontMatter:()=>c,metadata:()=>m,toc:()=>d});var r=n(87462),a=(n(67294),n(3905)),i=n(59263),s=n(4871),l=n(32403),o=n(27625);n(75944);const c={description:"<basic.http-request>"},p=void 0,m={unversionedId:"bricks/basic/http-request",id:"bricks/basic/http-request",title:"http-request",description:"<basic.http-request>",source:"@site/docs/bricks/basic/http-request.mdx",sourceDirName:"bricks/basic",slug:"/bricks/basic/http-request",permalink:"/bricks/basic/http-request",draft:!1,tags:[],version:"current",frontMatter:{description:"<basic.http-request>"},sidebar:"docsSidebar",previous:{title:"get-language",permalink:"/bricks/basic/get-language"},next:{title:"show-dialog",permalink:"/bricks/basic/show-dialog"}},u={},d=[{value:"Examples",id:"examples",level:2},{value:"Definition",id:"definition",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Returns",id:"returns",level:3}],k={toc:d},h="wrapper";function y(e){let{components:t,...n}=e;return(0,a.kt)(h,(0,r.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)(i.Z,{name:"basic.http-request",isProvider:!0,mdxType:"BrickTagName"}),(0,a.kt)("p",null,"\u53d1\u9001 HTTP \u8bf7\u6c42\u3002"),(0,a.kt)("h2",{id:"examples"},"Examples"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml",metastring:"preview",preview:!0},'brick: eo-button\nproperties:\n  textContent: Check weather in Shenzhen\nevents:\n  click:\n    useProvider: basic.http-request\n    args:\n      - |\n        <%\n          `//api.weatherapi.com/v1/current.json?q=Shenzhen&key=${MISC.weather_api_key}`\n        %>\n    callback:\n      success:\n        action: message.success\n        args:\n          - <% `It\'s ${EVENT.detail.current.condition.text} in Shenzhen` %>\n      error:\n        action: handleHttpError\n# -- YAML DELIMITER (1nbbm8) --\n# <eo-button id="brick-1">Check weather in Shenzhen</eo-button>\n# \n# <script>\n#   const brick_1 = document.getElementById("brick-1");\n#   brick_1.addEventListener("click", (e) => {\n#     const provider = document.createElement("basic.http-request");\n#     const promise = Promise.resolve(\n#       provider.resolve(\n#         /* WARN: incompatible expressions in HTML, please try YAML: */\n#         "<%\\n  `//api.weatherapi.com/v1/current.json?q=Shenzhen&key=${MISC.weather_api_key}`\\n%>\\n"\n#       )\n#     );\n#     promise.then((r) => {\n#       const message = document.createElement("basic.show-notification");\n#       message.resolve({\n#         type: "success",\n#         /* WARN: incompatible expressions in HTML, please try YAML: */\n#         message:\n#           "<% `It\'s ${EVENT.detail.current.condition.text} in Shenzhen` %>",\n#       });\n#     });\n#     promise.catch((r) => {\n#       // WARN: encountered incompatible event handlers in HTML mode, please try YAML.\n#     });\n#   });\n# <\/script>\n# \n')),(0,a.kt)("h2",{id:"definition"},"Definition"),(0,a.kt)("pre",null,(0,a.kt)("code",null,(0,a.kt)(s.vy.Provider,{value:void 0},(0,a.kt)(s.ZP,{annotation:{type:"typeParameterDeclaration",params:[{type:"typeParameter",name:"T",default:{type:"keyword",value:"unknown"}}]},mdxType:"GeneralType"})))),(0,a.kt)("h3",{id:"parameters"},"Parameters"),(0,a.kt)(s.vy.Provider,{value:void 0},(0,a.kt)(o.Z,{params:[{name:"url",description:"\u8bf7\u6c42\u5730\u5740",annotation:{type:"keyword",value:"string"}},{name:"init",description:"\u8bf7\u6c42\u521d\u59cb\u5316\u6570\u636e",annotation:{type:"reference",typeName:{type:"identifier",name:"RequestInit"}}},{name:"options",description:"\u8bf7\u6c42\u9009\u9879",annotation:{type:"reference",typeName:{type:"identifier",name:"RequestCustomOptions"}}}],mdxType:"ProviderDocParams"})),(0,a.kt)("h3",{id:"returns"},"Returns"),(0,a.kt)("p",null,(0,a.kt)(l.Z,{mdxType:"MaybeEmptyCode"},(0,a.kt)(s.vy.Provider,{value:void 0},(0,a.kt)(s.ZP,{annotation:{type:"reference",typeName:{type:"identifier",name:"Promise"},typeParameters:{type:"typeParameterInstantiation",params:[{type:"reference",typeName:{type:"identifier",name:"T"}}]}},mdxType:"GeneralType"})))),(0,a.kt)("p",null,"\u54cd\u5e94\u7ed3\u679c"))}y.isMDXComponent=!0}}]);